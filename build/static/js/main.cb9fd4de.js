/*! For license information please see main.cb9fd4de.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+l+")*"),d="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,a,s){var l=-1,c=t.length;for(o||(o=i),s||(s=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,function(e,i,o){r(n,i,t(e,i,o))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e}):[u];var h=-1;t=r(t,l(o));var f=a(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}});return s(f,function(e,t){return c(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),O=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function U(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case _:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function _e(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function je(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Oe(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ie=!1;function Ce(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==ke||null!==Ee)&&(Ne(),Oe())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Me(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Ue=!1,Fe=null,Be={onError:function(e){Re=!0,Le=e}};function ze(e,t,n,r,i,o,a,s,l){Re=!1,Le=null,Me.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Qe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,kt,Et,_t,jt=!1,Ot=[],Tt=null,Nt=null,It=null,Ct=new Map,At=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){jt=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==It&&Ut(It)&&(It=null),Ct.forEach(Ft),At.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Ot.length){zt(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Nt&&zt(Nt,e),null!==It&&zt(It,e),Ct.forEach(t),At.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var qt=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Rt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Rt(Nt,e,t,n,r,i),!0;case"mouseover":return It=Rt(It,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ct.set(o,Rt(Ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,Rt(At.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Xt(e,t,n,r))&&Wr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=vi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),yn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function _n(){return En}var jn=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=on(jn),Tn=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),In=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Cn),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){je(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Ur(e,0)}function Xn(e){if(G(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Hn(t,Gn,e,xe(e)),Ce(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function or(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Er={};function _r(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var jr=_r("animationend"),Or=_r("animationiteration"),Tr=_r("animationstart"),Nr=_r("transitionend"),Ir=new Map,Cr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Ir.set(e,t),l(t,[e])}for(var Pr=0;Pr<Cr.length;Pr++){var Dr=Cr[Pr];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(jr,"onAnimationEnd"),Ar(Or,"onAnimationIteration"),Ar(Tr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(ze.apply(this,arguments),Re){if(!Re)throw Error(o(198));var u=Le;Re=!1,Le=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Qt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ce(function(){var r=o,i=xe(n),a=[];e:{var s=Ir.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case jr:case Or:case Tr:l=yn;break;case Nr:l=In;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Yr(a,s,l,u,!1),null!==c&&null!==d&&Yr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Qn;else if(Wn(s))if($n)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Vn=!0)),0<(y=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=Jt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Ur(a,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Ae(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ae(n,o))&&a.unshift(Hr(n,l,s)):i||null!=(l=Ae(n,o))&&a.push(Hr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Si=[],ki=-1;function Ei(e){return{current:e}}function _i(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function ji(e,t){ki++,Si[ki]=e.current,e.current=t}var Oi={},Ti=Ei(Oi),Ni=Ei(!1),Ii=Oi;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){_i(Ni),_i(Ti)}function Di(e,t,n){if(Ti.current!==Oi)throw Error(o(168));ji(Ti,t),ji(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,Ii=Ti.current,ji(Ti,e),ji(Ni,Ni.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,_i(Ni),_i(Ti),ji(Ti,e)):_i(Ni),ji(Ni,n)}var Ui=null,Fi=!1,Bi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Vi),i}finally{bt=t,Bi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Yi=0,Xi=null,Qi=1,$i="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Yi++]=Qi,Gi[Yi++]=$i,Gi[Yi++]=Xi,Xi=e;var r=Qi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Qi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Xi;)Xi=Gi[--Yi],Gi[Yi]=null,$i=Gi[--Yi],Gi[Yi]=null,Qi=Gi[--Yi],Gi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Cc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Cc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&bo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case S:return(t=Uc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),io&&Ji(i,m),c}function g(i,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return io&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),io&&Ji(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=yo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((o=Mc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=yo(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(a,r.mode,l)).return=r,r=o}return s(r);case A:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(M(a))return g(r,o,a,l);vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),So=wo(!1),ko=Ei(null),Eo=null,_o=null,jo=null;function Oo(){jo=_o=Eo=null}function To(e){var t=ko.current;_i(ko),e._currentValue=t}function No(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Io(e,t){Eo=e,jo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(jo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===Eo)throw Error(o(308));_o=e,Eo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Ao=null;function Po(e){null===Ao?Ao=[e]:Ao.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Po(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,Po(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Ko=Ei(Ho),Go=Ei(Ho),Yo=Ei(Ho);function Xo(e){if(e===Ho)throw Error(o(174));return e}function Qo(e,t){switch(ji(Yo,t),ji(Go,e),ji(Ko,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Ko),ji(Ko,t)}function $o(){_i(Ko),_i(Go),_i(Yo)}function Jo(e){Xo(Yo.current);var t=Xo(Ko.current),n=le(t,e.type);t!==n&&(ji(Go,e),ji(Ko,n))}function Zo(e){Go.current===e&&(_i(Ko),_i(Go))}var ea=Ei(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function ya(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Rl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ea(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ra(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Ca(9,ja.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(o(349));0!==(30&aa)||_a(n,t,i)}return i}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ja(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Na(e)}function Oa(e,t,n){return n(function(){Ta(t)&&Na(e)})}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Na(e){var t=Mo(e,1);null!==t&&nc(t,e,1,-1)}function Ia(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[t.memoizedState,e]}function Ca(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return ba().memoizedState}function Pa(e,t,n,r){var i=va();sa.flags|=e,i.memoizedState=Ca(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Ca(t,n,o,r))}sa.flags|=e,i.memoizedState=Ca(1|t,n,o,r)}function Ma(e,t){return Pa(8390656,8,e,t)}function Ra(e,t){return Da(2048,8,e,t)}function La(e,t){return Da(4,2,e,t)}function Ua(e,t){return Da(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Fa.bind(null,t,e),n)}function za(){}function Va(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Rl|=n,e.baseState=!0),t)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Ka(){return ba().memoizedState}function Ga(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))Qa(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),$a(n,t,r)}}function Ya(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Qa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Po(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),$a(n,t,r))}}function Xa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Qa(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:Co,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Co,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ia,useDebugValue:za,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=Ha.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=va();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));0!==(30&aa)||_a(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Ca(9,ja.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Nl.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Co,useCallback:Va,useContext:Co,useEffect:Ra,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Ua,useMemo:qa,useReducer:xa,useRef:Aa,useState:function(){return xa(wa)},useDebugValue:za,useDeferredValue:function(e){return Wa(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Ka,unstable_isNewReconciler:!1},ts={readContext:Co,useCallback:Va,useContext:Co,useEffect:Ra,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Ua,useMemo:qa,useReducer:Sa,useRef:Aa,useState:function(){return Sa(wa)},useDebugValue:za,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Wa(t,la.memoizedState,e)},useTransition:function(){return[Sa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Ka,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Fo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Fo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(nc(t,e,r,n),zo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Oi,o=t.contextType;return"object"===typeof o&&null!==o?o=Co(o):(i=Ai(t)?Ii:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Oi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Co(o):(o=Ai(t)?Ii:Ti.current,i.context=Ci(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),ds(0,t)},n}function ps(e,t,n){(n=Fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?So(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Io(t,i),r=ga(e,t,n,r,o,i),n=ya(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ac(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Pc(o,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return js(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ji(Pl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ji(Pl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ji(Pl,Al),Al|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ji(Pl,Al),Al|=r;return ws(e,t,i,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function js(e,t,n,r,i){var o=Ai(n)?Ii:Ti.current;return o=Ci(t,o),Io(t,i),n=ga(e,t,n,r,o,i),r=ya(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Os(e,t,n,r,i){if(Ai(n)){var o=!0;Ri(t)}else o=!1;if(Io(t,i),null===t.stateNode)qs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Co(c):c=Ci(t,c=Ai(n)?Ii:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Ro=!1;var h=t.memoizedState;a.state=h,qo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ni.current||Ro?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Ro||os(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Uo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Co(l):l=Ci(t,l=Ai(n)?Ii:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Ro=!1,h=t.memoizedState,a.state=h,qo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ni.current||Ro?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Ro||os(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,i)}function Ts(e,t,n,r,i,o){_s(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Ws(e,t,o);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qo(e,t.containerInfo)}function Is(e,t,n,r,i){return po(),mo(i),t.flags|=256,ws(e,t,n,r),t.child}var Cs,As,Ps,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ji(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Us(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fs(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Nl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Mo(e,i),nc(r,e,i,-1))}return mc(),Fs(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Yi++]=Qi,Gi[Yi++]=$i,Gi[Yi++]=Xi,Qi=e.id,$i=e.overflow,Xi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Pc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),No(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ji(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ai(t.type)&&Pi(),Ks(t),null;case 3:return r=t.stateNode,$o(),_i(Ni),_i(Ti),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),As(e,t),Ks(t),null;case 5:Zo(t);var i=Xo(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=Xo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Cs(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Q(e,r),i=X(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Xo(Yo.current),Xo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(_i(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return $o(),As(e,t),null===e&&Vr(t.stateNode.containerInfo),Ks(t),null;case 10:return To(t.type._context),Ks(t),null;case 19:if(_i(ea),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Hs(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Hs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ji(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Vl&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ks(t),null}else 2*$e()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ea.current,ji(ea,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Ai(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),_i(Ni),_i(Ti),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(_i(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(ea),null;case 4:return $o(),null;case 10:return To(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Cs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(Ko.current);var o,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Qs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=$e())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(u=Qs)||d,ml(t,e),Qs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Js=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Xs;var c=Qs;if(Xs=a,(Qs=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Js=l):Sl(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,Xs=s,Qs=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Wo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&il(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var o=t.return;try{il(t)}catch(l){Ec(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,El=Math.ceil,_l=w.ReactCurrentDispatcher,jl=w.ReactCurrentOwner,Ol=w.ReactCurrentBatchConfig,Tl=0,Nl=null,Il=null,Cl=0,Al=0,Pl=Ei(0),Dl=0,Ml=null,Rl=0,Ll=0,Ul=0,Fl=null,Bl=null,zl=0,Vl=1/0,ql=null,Wl=!1,Hl=null,Kl=null,Gl=!1,Yl=null,Xl=0,Ql=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Tl)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Cl?Cl&-Cl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,$l=null,Error(o(185));yt(e,n,r),0!==(2&Tl)&&e===Nl||(e===Nl&&(0===(2&Tl)&&(Ll|=n),4===Dl&&sc(e,Cl)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Vl=$e()+500,Fi&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Nl?Cl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai(function(){0===(6&Tl)&&Vi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Cl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tl;Tl|=2;var a=pc();for(Nl===e&&Cl===t||(ql=null,Vl=$e()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Oo(),_l.current=a,Tl=i,null!==Il?t=0:(Nl=null,Cl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Bl,ql);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bl,ql),t);break}xc(e,Bl,ql);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bl,ql),r);break}xc(e,Bl,ql);break;default:throw Error(o(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Ul,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,ql),rc(e,$e()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=$e()+500,Fi&&Vi())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Tl)&&Sc();var t=Tl;Tl|=1;var n=Ol.transition,r=bt;try{if(Ol.transition=null,bt=1,e)return e()}finally{bt=r,Ol.transition=n,0===(6&(Tl=t))&&Vi()}}function dc(){Al=Pl.current,_i(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:$o(),_i(Ni),_i(Ti),ra();break;case 5:Zo(r);break;case 4:$o();break;case 13:case 19:_i(ea);break;case 10:To(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Il=e=Pc(e.current,null),Cl=Al=t,Dl=0,Ml=null,Ul=Ll=Rl=0,Bl=Fl=null,null!==Ao){for(t=0;t<Ao.length;t++)if(null!==(r=(n=Ao[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Ao=null}return e}function fc(e,t){for(;;){var n=Il;try{if(Oo(),ia.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,jl.current=null,null===n||null===n.return){Dl=1,Ml=t,Il=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Cl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mo(cs(c,l));break e}}a=c=cs(c,l),4!==Dl&&(Dl=2),null===Fl?Fl=[a]:Fl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,fs(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pc(){var e=_l.current;return _l.current=Ja,null===e?Ja:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Nl||0===(268435455&Rl)&&0===(268435455&Ll)||sc(Nl,Cl)}function gc(e,t){var n=Tl;Tl|=2;var r=pc();for(Nl===e&&Cl===t||(ql=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Oo(),Tl=n,_l.current=r,null!==Il)throw Error(o(261));return Nl=null,Cl=0,Dl}function yc(){for(;null!==Il;)bc(Il)}function vc(){for(;null!==Il&&!Xe();)bc(Il)}function bc(e){var t=kl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?wc(e):Il=t,jl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Al)))return void(Il=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Dl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,n){var r=bt,i=Ol.transition;try{Ol.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Yl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Nl&&(Il=Nl=null,Cl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Nc(tt,function(){return Sc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ol.transition,Ol.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,jl.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Qe(),Tl=l,bt=s,Ol.transition=a}else e.current=n;if(Gl&&(Gl=!1,Yl=e,Xl=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,Vi()}(e,t,n,r)}finally{Ol.transition=i,bt=r}return null}function Sc(){if(null!==Yl){var e=wt(Xl),t=Ol.transition,n=bt;try{if(Ol.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Tl))throw Error(o(331));var i=Tl;for(Tl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(ol(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Ec(l,l.return,S)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Tl=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Ol.transition=t}}return!1}function kc(e,t,n){e=Bo(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Bo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Cl&n)===n&&(4===Dl||3===Dl&&(130023424&Cl)===Cl&&500>$e()-zl?hc(e,0):Ul|=n),rc(e,t)}function jc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Mo(e,t))&&(yt(e,t,n),rc(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),jc(e,n)}function Nc(e,t){return Ge(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cc(e,t,n,r){return new Ic(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Cc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ac(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Mc(n.children,i,a,t);case E:s=8,i|=8;break;case _:return(e=Cc(12,n,t,2|i)).elementType=_,e.lanes=a,e;case N:return(e=Cc(13,n,t,i)).elementType=N,e.lanes=a,e;case I:return(e=Cc(19,n,t,i)).elementType=I,e.lanes=a,e;case P:return Rc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:s=10;break e;case O:s=9;break e;case T:s=11;break e;case C:s=14;break e;case A:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Cc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Cc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Cc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Cc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Cc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,a,s,l){return e=new Fc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Cc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function zc(e){if(!e)return Oi;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Mi(e,n,t)}return t}function Vc(e,t,n,r,i,o,a,s,l){return(e=Bc(n,r,!0,e,0,o,0,s,l)).context=zc(null),n=e.current,(o=Fo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,a))&&(nc(e,i,a,o),zo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),po();break;case 5:Jo(t);break;case 1:Ai(t.type)&&Ri(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ji(ko,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ji(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(ji(ea,1&ea.current),null!==(e=Ws(e,t,n))?e.sibling:null);ji(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ji(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ci(t,Ti.current);Io(t,n),i=ga(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===C)return 14}return 2}(r),e=ns(r,e),i){case 0:t=js(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,js(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Uo(e,t),qo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Is(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Is(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),_s(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ji(ko,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),No(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),No(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Io(t,n),r=r(i=Co(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Ss(e,t,r,i=ns(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),qs(e,t),t.tag=1,Ai(r)?(e=!0,Ri(t)):e=!1,Io(t,n),as(t,r,i),ls(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,i,r);return Wc(a)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&Tl)&&(Vl=$e()+500,Vi()))}break;case 13:uc(function(){var t=Mo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Mo(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Et=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,je,Oe,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],v=t[p];if(a)var b=c?a(v,y,p,t,e,l):a(y,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,a,l)))return g.push(t)})){m=!1;break}}else if(y!==v&&!s(y,v,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);e.exports=function(e){return o(e)?r(a(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=u}function w(){var e=i();if(b(e))return x(e);h=setTimeout(w,function(e){var n=t-(e-f);return g?s(n,u-(e-p)):n}(e))}function x(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function S(){var e=i(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(w,t),m?v(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(w,t),v(f)}return void 0===h&&(h=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},S.flush=function(){return void 0===h?d:x(i())},S}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=a},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:k.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+T(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(O,"$&/")+"/"),N(a,t,i,"",function(e){return e})):null!=a&&(j(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+T(s=e[c],c);l+=N(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=N(s=s.value,t,i,u=o+T(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function C(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},P={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=a,p=new r}else p=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(g)}else u(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,i){return n=!!t(e,r,i)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(o)var b=l?o(v,y,h,t,e,s):o(y,v,h,e,t,s);if(!(void 0===b?y===v||a(y,v,n,o,s):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===o}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),w=v?h:s(e),x=b?h:s(t),S=(w=w==d?f:w)==f,k=(x=x==d?f:x)==f,E=w==x;if(E&&c(e)){if(!c(t))return!1;v=!0,S=!1}if(E&&!S)return y||(y=new r),v||u(e)?i(e,t,n,m,g,y):o(e,t,w,n,m,g,y);if(!(1&n)){var _=S&&p.call(e,"__wrapped__"),j=k&&p.call(t,"__wrapped__");if(_||j){var O=_?e.value():e,T=j?t.value():t;return y||(y=new r),g(O,T,n,m,y)}}return!!E&&(y||(y=new r),a(e,t,n,m,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(o)var p=o(d,h,u,e,t,f);if(!(void 0===p?i(h,d,3,o,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),y=c(o),v=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=u||o&&w(o.resolve())!=d||a&&w(new a)!=h||s&&w(new s)!=f)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return d;case v:return h;case b:return f}return t}),e.exports=w},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,P(S);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(j),j=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,_=null,j=-1,O=5,T=-1;function N(){return!(t.unstable_now()-T<O)}function I(){if(null!==_){var e=t.unstable_now();T=e;var n=!0;try{n=_(!0,e)}finally{n?k():(E=!1,_=null)}}else E=!1}if("function"===typeof b)k=function(){b(I)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,A=C.port2;C.port1.onmessage=I,k=function(){A.postMessage(null)}}else k=function(){y(I,0)};function P(e){_=e,E||(E=!0,k())}function D(e,n){j=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(j),j=-1):g=!0,D(x,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,P(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,i,o,a,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?T(t,h):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,l=u.length):(r=u,i=a,l=c.length),o>(l=(a=Math.ceil(h/7))>l?a+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/p|0,c[o]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?T(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function w(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=_(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=_(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return x(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return T(x(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return k(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=x(j(n,a),j(e,a),a),s=!0,T(t,o))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?N(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=x(n,e,0,1).times(e),s=!0,n.minus(t)):T(new r(n),i)},y.naturalExponential=y.exp=function(){return S(this)},y.naturalLogarithm=y.ln=function(){return j(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):N(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=k(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,o,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=k(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=w(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(o=r).plus(x(c,o,a+2)).times(.5),w(o.d).slice(0,a)===(t=w(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(T(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,T(r,n)},y.times=y.mul=function(e){var t,n,r,i,o,a,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(o=f,f=m,m=o,a=c,c=u,u=a),o=[],r=a=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=o[i]+m[r]*f[i-r-1]+t,o[i--]=l%p|0,t=l/p|0;o[i]=(o[i]+t)%p|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?T(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),T(n,e+k(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=I(r,!0):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=I(r=T(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?I(i):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=I((r=T(new a(i),e+k(i)+1,t)).abs(),!1,e+k(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return T(new t(e),k(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,o,a,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return T(u,r);if(c=(t=e.e)>=(n=e.d.length-1),a=u.s,c){if((n=f<0?-f:f)<=m){for(o=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&C((o=o.times(u)).d,t),0!==(n=d(n/2));)C((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(o):T(o,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,o=e.times(j(u,r+12)),s=!0,(o=S(o)).s=a,o},y.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=I(i,(n=k(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,o),void 0===t?t=a.rounding:b(t,0,8),r=I(i=T(new a(i),e,t),e<=(n=k(i))||n<=a.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),T(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=k(e),n=e.constructor;return I(e,t<=n.toExpNeg||t>=n.toExpPos)};var x=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,c,u,d,h,f,m,g,y,v,b,w,x,S,E,_,j,O,N=r.constructor,I=r.s==i.s?1:-1,C=r.d,A=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,j=A.length,E=C.length,g=(m=new N(I)).d=[],u=0;A[u]==(C[u]||0);)++u;if(A[u]>(C[u]||0)&&--c,(w=null==o?o=N.precision:a?o+(k(r)-k(i))+1:o)<0)return new N(0);if(w=w/7+2|0,u=0,1==j)for(d=0,A=A[0],w++;(u<E||d)&&w--;u++)x=d*p+(C[u]||0),g[u]=x/A|0,d=x%A|0;else{for((d=p/(A[0]+1)|0)>1&&(A=e(A,d),C=e(C,d),j=A.length,E=C.length),S=j,v=(y=C.slice(0,j)).length;v<j;)y[v++]=0;(O=A.slice()).unshift(0),_=A[0],A[1]>=p/2&&++_;do{d=0,(s=t(A,y,j,v))<0?(b=y[0],j!=v&&(b=b*p+(y[1]||0)),(d=b/_|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(A,d),y,f=h.length,v=y.length))&&(d--,n(h,j<f?O:A,f))):(0==d&&(s=d=1),h=A.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==s&&(s=t(A,y,j,v=y.length))<1&&(d++,n(y,j<v?O:A,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=C[S]||0:(y=[C[S]],v=1)}while((S++<E||void 0!==y[0])&&w--)}return g[0]||g.shift(),m.e=c,T(m,a?o+k(m)+1:o)}}();function S(e,t){var n,r,o,a,l,c=0,d=0,f=e.constructor,p=f.precision;if(k(e)>16)throw Error(u+k(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=o=new f(i),f.precision=l;;){if(r=T(r.times(e),l),n=n.times(++c),w((a=o.plus(x(r,n,l))).d).slice(0,l)===w(o.d).slice(0,l)){for(;d--;)o=T(o.times(o),l);return f.precision=p,null==t?(s=!0,T(o,p)):o}o=a}}function k(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return T(new e(e.LN10),t)}function _(e){for(var t="";e--;)t+="0";return t}function j(e,t){var n,r,o,a,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),E(y,h);if(h+=10,y.precision=h,r=(n=w(g)).charAt(0),a=k(m),!(Math.abs(a)<15e14))return d=E(y,h+2,v).times(a+""),m=j(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,T(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((m=m.times(e)).d)).charAt(0),p++;for(a=k(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),u=c=m=x(m.minus(i),m.plus(i),h),f=T(m.times(m),h),o=3;;){if(c=T(c.times(f),h),w((d=u.plus(x(c,new y(o),h))).d).slice(0,h)===w(u.d).slice(0,h))return u=u.times(2),0!==a&&(u=u.plus(E(y,h+2,v).times(a+""))),u=x(u,new y(p),h),y.precision=v,null==t?(s=!0,T(u,v)):u;u=d,o+=2}}function O(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function T(e,t,n){var r,i,o,a,l,c,f,m,y=e.d;for(a=1,o=y[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(o=y.length))return e;for(f=o=y[m],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=f/(o=h(10,a-i-1))%10|0,c=t<0||void 0!==y[m+1]||f%o,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,a-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(o=k(e),y.length=1,t=t-o-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,o=1,m--):(y.length=m+1,o=h(10,7-r),y[m]=i>0?(f/h(10,a-i)%h(10,i)|0)*o:0),c)for(;;){if(0==m){(y[0]+=o)==p&&(y[0]=1,++e.e);break}if(y[m]+=o,y[m]!=p)break;y[m--]=0,o=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+k(e));return e}function N(e,t){var n,r,i,o,a,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?T(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r){for((d=a<0)?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),a>(i=Math.max(Math.ceil(m/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(o=i;o&&0===c[--o];)c[o]=p-1;--c[o],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?T(t,m):t):new f(0)}function I(e,t,n){var r,i=k(e),o=w(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+_(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+_(-i-1)+o,n&&(r=n-a)>0&&(o+=_(r))):i>=a?(o+=_(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+_(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=_(r))),e.s<0?"-"+o:o}function C(e,t){if(e.length>t)return e.length=t,!0}function A(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):O(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);O(t,e)}if(o.prototype=y,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=A,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},8468:(e,t,n)=>{var r=n(5816),i=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,function(e,r,i){o[++n]=t(e,r,i)}),o}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),o=n(715);e.exports=function(e){return i(e)?o(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return o.call(e,t)}))}:i;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=a}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),o=n(8673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>yj,scaleDiverging:()=>YC,scaleDivergingLog:()=>XC,scaleDivergingPow:()=>$C,scaleDivergingSqrt:()=>JC,scaleDivergingSymlog:()=>QC,scaleIdentity:()=>VT,scaleImplicit:()=>mj,scaleLinear:()=>zT,scaleLog:()=>$T,scaleOrdinal:()=>gj,scalePoint:()=>bj,scalePow:()=>aN,scaleQuantile:()=>vN,scaleQuantize:()=>bN,scaleRadial:()=>cN,scaleSequential:()=>zC,scaleSequentialLog:()=>VC,scaleSequentialPow:()=>WC,scaleSequentialQuantile:()=>KC,scaleSequentialSqrt:()=>HC,scaleSequentialSymlog:()=>qC,scaleSqrt:()=>sN,scaleSymlog:()=>tN,scaleThreshold:()=>wN,scaleTime:()=>LC,scaleUtc:()=>UC,tickFormat:()=>FT});var t=n(5043),r=n(4391);const i=e=>{var t;if(!e)return!1;const n=e.message||(null===(t=e.reason)||void 0===t?void 0:t.message)||"";return n.includes("message channel closed")||n.includes("listener indicated an asynchronous response")||n.includes("Extension context invalidated")||n.includes("Could not establish connection")||n.includes("pegasus-transport")||n.includes("No handler registered")},o=()=>{const e=e=>{if(i(e.error))return console.warn("\ud83d\udd0c Browser extension interference detected - suppressing error:",e.error.message),e.preventDefault(),!1},t=e=>{if(i(e.reason))return console.warn("\ud83d\udd0c Browser extension promise rejection - suppressing:",e.reason.message),e.preventDefault(),!1};return window.addEventListener("error",e),window.addEventListener("unhandledrejection",t),()=>{window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",t)}},a=()=>{console.warn('\n\ud83d\udd0c \u05d4\u05d5\u05d3\u05e2\u05d4: \u05d6\u05d5\u05d4\u05ea\u05d4 \u05d4\u05ea\u05e2\u05e8\u05d1\u05d5\u05ea \u05e9\u05dc \u05ea\u05d5\u05e1\u05e4\u05d9 \u05d3\u05e4\u05d3\u05e4\u05df\n   \n   \u05d4\u05e9\u05d2\u05d9\u05d0\u05d5\u05ea \u05d4\u05d1\u05d0\u05d5\u05ea \u05e0\u05d7\u05e1\u05de\u05d5 \u05d0\u05d5\u05d8\u05d5\u05de\u05d8\u05d9\u05ea:\n   - "message channel closed"\n   - "listener indicated an asynchronous response"\n   \n   \u05d6\u05d4 \u05dc\u05d0 \u05de\u05e9\u05e4\u05d9\u05e2 \u05e2\u05dc \u05e4\u05e2\u05d5\u05dc\u05ea \u05d4\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4 - \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05e4\u05d5\u05e2\u05dc\u05ea \u05db\u05e8\u05d2\u05d9\u05dc!\n   \n   \u05d0\u05dd \u05d0\u05ea\u05d4 \u05e8\u05d5\u05e6\u05d4 \u05dc\u05d4\u05e4\u05e1\u05d9\u05e7 \u05d0\u05ea \u05d4\u05d4\u05d5\u05d3\u05e2\u05d5\u05ea \u05d4\u05d0\u05dc\u05d4, \u05e0\u05e1\u05d4:\n   1. \u05dc\u05e4\u05ea\u05d5\u05d7 \u05d7\u05dc\u05d5\u05df \u05e4\u05e8\u05d8\u05d9 (Incognito/Private)\n   2. \u05dc\u05db\u05d1\u05d5\u05ea \u05ea\u05d5\u05e1\u05e4\u05d9\u05dd \u05d6\u05de\u05e0\u05d9\u05ea\n   3. \u05dc\u05d4\u05e9\u05ea\u05de\u05e9 \u05d1\u05d3\u05e4\u05d3\u05e4\u05df \u05d0\u05d7\u05e8\n   \n   \u26a0\ufe0f \u05d4\u05e9\u05d2\u05d9\u05d0\u05d4 \u05e9\u05e8\u05d0\u05d9\u05ea \u05d4\u05d9\u05d0 \u05e0\u05e4\u05d5\u05e6\u05d4 \u05d5\u05dc\u05d0 \u05de\u05e9\u05e4\u05d9\u05e2\u05d4 \u05e2\u05dc \u05ea\u05d6\u05de\u05d5\u05df \u05d4\u05de\u05d9\u05d9\u05dc\u05d9\u05dd!\n')};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(h(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new p;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class p extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m=function(e){return function(e){const t=h(e);return f.encodeByteArray(t,!0)}(e).replace(/\./g,"")},g=function(e){try{return f.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function y(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const v=()=>{try{return y().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAQ4U09vWrkJZGefdmW2rYu3DuxUUcIRiA",REACT_APP_FIREBASE_APP_ID:"1:935721343400:web:4e519f4fbf920dc162259d",REACT_APP_FIREBASE_AUTH_DOMAIN:"hotel-2a869.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"935721343400",REACT_APP_FIREBASE_PROJECT_ID:"hotel-2a869",REACT_APP_FIREBASE_STORAGE_BUCKET:"hotel-2a869.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&g(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},b=e=>{var t,n;return null===(n=null===(t=v())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},w=e=>{const t=b(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},x=()=>{var e;return null===(e=v())||void 0===e?void 0:e.config},S=e=>{var t;return null===(t=v())||void 0===t?void 0:t["_".concat(e)]};class k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function E(e){return e.endsWith(".cloudworkstations.dev")}async function _(e){return(await fetch(e,{credentials:"include"})).ok}function j(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[m(JSON.stringify({alg:"none",type:"JWT"})),m(JSON.stringify(o)),""].join(".")}const O={};let T=!1;function N(e,t){if("undefined"===typeof window||"undefined"===typeof document||!E(window.location.host)||O[e]===t||O[e]||T)return;function n(e){return"__firebase__banner__".concat(e)}O[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(O))O[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{T=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function I(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){var e;const t=null===(e=v())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function A(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function P(){return!C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D(){try{return"object"===typeof indexedDB}catch(e){return!1}}function M(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class R extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,L.prototype.create)}}class L{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(U,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new R(n,o,t)}}const U=/\{\$([^}]+)}/g;function F(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(B(n)&&B(o)){if(!F(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function B(e){return null!==e&&"object"===typeof e}function z(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function V(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function q(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class W{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H(){}function K(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function G(e){return e&&e._delegate?e._delegate:e}class Y{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const X="[DEFAULT]";class Q{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new k;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:X})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===X?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return this.component?this.component.multipleInstances?e:X:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Q(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const J=[];var Z;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Z||(Z={}));const ee={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},te=Z.INFO,ne={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},re=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ne[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class ie{constructor(e){this.name=e,this._logLevel=te,this._logHandler=re,this._userLogHandler=null,J.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...t),this._logHandler(this,Z.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...t),this._logHandler(this,Z.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Z.INFO,...t),this._logHandler(this,Z.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Z.WARN,...t),this._logHandler(this,Z.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...t),this._logHandler(this,Z.ERROR,...t)}}let oe,ae;const se=new WeakMap,le=new WeakMap,ce=new WeakMap,ue=new WeakMap,de=new WeakMap;let he={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return le.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ce.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return me(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function fe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ge(this),n),me(se.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return me(e.apply(ge(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(ge(this),t,...r);return ce.set(o,t.sort?t.sort():[t]),me(o)}}function pe(e){return"function"===typeof e?fe(e):(e instanceof IDBTransaction&&function(e){if(le.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});le.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,oe||(oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,he):e)}function me(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(me(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&se.set(t,e)}).catch(()=>{}),de.set(t,e),t}(e);if(ue.has(e))return ue.get(e);const t=pe(e);return t!==e&&(ue.set(e,t),de.set(t,e)),t}const ge=e=>de.get(e);function ye(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=me(a);return r&&a.addEventListener("upgradeneeded",e=>{r(me(a.result),e.oldVersion,e.newVersion,me(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const ve=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],we=new Map;function xe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(we.get(t))return we.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=be.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ve.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return we.set(t,o),o}he=(e=>d(d({},e),{},{get:(t,n,r)=>xe(t,n)||e.get(t,n,r),has:(t,n)=>!!xe(t,n)||e.has(t,n)}))(he);class Se{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ke="@firebase/app",Ee="0.13.1",_e=new ie("@firebase/app"),je="@firebase/app-compat",Oe="@firebase/analytics-compat",Te="@firebase/analytics",Ne="@firebase/app-check-compat",Ie="@firebase/app-check",Ce="@firebase/auth",Ae="@firebase/auth-compat",Pe="@firebase/database",De="@firebase/data-connect",Me="@firebase/database-compat",Re="@firebase/functions",Le="@firebase/functions-compat",Ue="@firebase/installations",Fe="@firebase/installations-compat",Be="@firebase/messaging",ze="@firebase/messaging-compat",Ve="@firebase/performance",qe="@firebase/performance-compat",We="@firebase/remote-config",He="@firebase/remote-config-compat",Ke="@firebase/storage",Ge="@firebase/storage-compat",Ye="@firebase/firestore",Xe="@firebase/ai",Qe="@firebase/firestore-compat",$e="firebase",Je="[DEFAULT]",Ze={[ke]:"fire-core",[je]:"fire-core-compat",[Te]:"fire-analytics",[Oe]:"fire-analytics-compat",[Ie]:"fire-app-check",[Ne]:"fire-app-check-compat",[Ce]:"fire-auth",[Ae]:"fire-auth-compat",[Pe]:"fire-rtdb",[De]:"fire-data-connect",[Me]:"fire-rtdb-compat",[Re]:"fire-fn",[Le]:"fire-fn-compat",[Ue]:"fire-iid",[Fe]:"fire-iid-compat",[Be]:"fire-fcm",[ze]:"fire-fcm-compat",[Ve]:"fire-perf",[qe]:"fire-perf-compat",[We]:"fire-rc",[He]:"fire-rc-compat",[Ke]:"fire-gcs",[Ge]:"fire-gcs-compat",[Ye]:"fire-fst",[Qe]:"fire-fst-compat",[Xe]:"fire-vertex","fire-js":"fire-js",[$e]:"fire-js-all"},et=new Map,tt=new Map,nt=new Map;function rt(e,t){try{e.container.addComponent(t)}catch(n){_e.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function it(e){const t=e.name;if(nt.has(t))return _e.debug("There were multiple attempts to register component ".concat(t,".")),!1;nt.set(t,e);for(const n of et.values())rt(n,e);for(const n of tt.values())rt(n,e);return!0}function ot(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function at(e){return null!==e&&void 0!==e&&void 0!==e.settings}const st=new L("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class lt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Y("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw st.create("app-deleted",{appName:this._name})}}const ct="11.9.0";function ut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Je,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw st.create("bad-app-name",{appName:String(i)});if(n||(n=x()),!n)throw st.create("no-options");const o=et.get(i);if(o){if(F(n,o.options)&&F(r,o.config))return o;throw st.create("duplicate-app",{appName:i})}const a=new $(i);for(const l of nt.values())a.addComponent(l);const s=new lt(n,r,a);return et.set(i,s),s}function dt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je;const t=et.get(e);if(!t&&e===Je&&x())return ut();if(!t)throw st.create("no-app",{appName:e});return t}function ht(e,t,n){var r;let i=null!==(r=Ze[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void _e.warn(e.join(" "))}it(new Y("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const ft="firebase-heartbeat-store";let pt=null;function mt(){return pt||(pt=ye("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ft)}catch(n){console.warn(n)}}}).catch(e=>{throw st.create("idb-open",{originalErrorMessage:e.message})})),pt}async function gt(e,t){try{const n=(await mt()).transaction(ft,"readwrite"),r=n.objectStore(ft);await r.put(t,yt(e)),await n.done}catch(n){if(n instanceof R)_e.warn(n.message);else{const e=st.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});_e.warn(e.message)}}}function yt(e){return"".concat(e.name,"!").concat(e.options.appId)}class vt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=bt();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){_e.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=bt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),xt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=m(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return _e.warn(t),""}}}function bt(){return(new Date).toISOString().substring(0,10)}class wt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!D()&&M().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await mt()).transaction(ft),n=await t.objectStore(ft).get(yt(e));return await t.done,n}catch(t){if(t instanceof R)_e.warn(t.message);else{const e=st.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});_e.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return gt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return gt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function xt(e){return m(JSON.stringify({version:2,heartbeats:e})).length}var St;St="",it(new Y("platform-logger",e=>new Se(e),"PRIVATE")),it(new Y("heartbeat",e=>new vt(e),"PRIVATE")),ht(ke,Ee,St),ht(ke,Ee,"esm2017"),ht("fire-js","");ht("firebase","11.9.1","app");var kt,Et,_t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},jt={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Et=jt.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},kt=jt.Integer=r}).apply("undefined"!==typeof _t?_t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ot,Tt,Nt,It,Ct,At,Pt,Dt,Mt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Rt={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Mt&&Mt];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout(()=>{throw e},0)}function E(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new j,e=>e.reset());class j{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let O,T=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);O=()=>{e.then(C)}};var C=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(uk){k(uk)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function A(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(uk){}return e}();function M(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,P);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,i){if(r&&r.once)return Y(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new z(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function X(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)X(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(o=e.g[t],n,r,i))&&(B(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[W]=null)):B(e)}}}function $(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;x(t=new P(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&V(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,A),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){X(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}d(le,A);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function be(){P.call(this,"c")}d(ve,P),d(be,P);var we={},xe=null;function Se(){return xe=xe||new ne}function ke(e){P.call(this,we.La,e)}function Ee(e){const t=Se();re(t,new ke(t))}function _e(e,t){P.call(this,we.STAT_EVENT,e),this.stat=t}function je(e){const t=Se();re(t,new _e(t,e))}function Oe(e,t){P.call(this,we.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ne(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(ke,P),we.STAT_EVENT="statevent",d(_e,P),we.Ma="timingevent",d(Oe,P),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Ce,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ce=new De;var Le={},Ue={};function Fe(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=Sn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=K(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||yn(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;gn(n),an(n)}fn(n),je(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else bn(n,11)}else if((e.K||n.g==e)&&gn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=xn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(He(s),qe(s)),r.g=a}else hn(r);0<n.i.length&&ln(n)}else"stop"!=c[0]&&"close"!=c[0]||bn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?bn(n,7):on(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==en(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=en(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||tn(this.g)))){this.J||4!=h||7==t||Ee(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=tn(this.g);e="";var o=r.length,a=4==en(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,je(12),Ge(this),Ke(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Ve(this,s),e==Ue){4==h&&(this.s=4,je(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,je(15),Ie(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ye(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,je(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),pn(d),d.M=!0,je(11))}}else Ie(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ie(this.i,this.l,s,null),Ye(this,s);4==h&&Ge(this),this.o&&!this.J&&(4==h?yn(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=en(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),Ge(this),Ke(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,Ge(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ee(),je(17)),Ge(this),this.s=2,Ke(this)):We(this,this.S-e)};var Xe=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Et(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function St(e,t){xt(e),t=_t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return xt(e),t=_t(e,t),e.g.has(t)}function Et(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(_t(e,t),h(n)),e.h+=n.length)}function _t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Lt(){this.g=new fe}function Ut(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ft(e){this.l=e.Ub||null,this.j=e.eb||!1}function Bt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function zt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Vt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,qt(e)}function qt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Wt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ht(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Wt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Kt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=_t(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(_t(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,kt(this,e=_t(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Ft,pe),Ft.prototype.g=function(){return new Bt(this.l,this.j)},Ft.prototype.i=function(e){return function(){return e}}({}),d(Bt,ne),(e=Bt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,qt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qt(this)),this.g&&(this.readyState=3,qt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vt(this):qt(this),3==this.readyState&&zt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Vt(this))},e.Qa=function(e){this.g&&(this.response=e,Vt(this))},e.ga=function(){this.g&&Vt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Kt,ne);var Gt=/^https?$/i,Yt=["POST","PUT"];function Xt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Qt(e),Jt(e)}function Qt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function $t(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=en(e)||2!=e.Z()))if(e.u&&4==en(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==en(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Gt.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<en(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Qt(e)}}finally{Jt(e)}}}function Jt(e,t){if(e.g){Zt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Zt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function en(e){return e.g?e.g.readyState:0}function tn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function nn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rn(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nn("baseRetryDelayMs",5e3,e),this.cb=nn("retryDelaySeedMs",1e4,e),this.Wa=nn("forwardChannelMaxRetries",2,e),this.wa=nn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Lt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function on(e){if(sn(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),un(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=Sn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}wn(e)}function an(e){e.g&&(pn(e),e.g.cancel(),e.g=null)}function sn(e){an(e),e.u&&(i.clearTimeout(e.u),e.u=null),gn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function ln(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;O||I(),T||(O(),T=!0),N.add(t,e),e.B=0}}function cn(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),un(e,r),e.m&&e.o&&Ht(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=dn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function un(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function dn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{Ut(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function hn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;O||I(),T||(O(),T=!0),N.add(t,e),e.v=0}}function fn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),vn(e,e.v)),e.v++,!0)}function pn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function mn(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),un(e,t),e.m&&e.o&&Ht(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Be(n,e)}function gn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function yn(e,t){var n=null;if(e.g==t){gn(e),pn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Oe(r,n)),ln(e)}else hn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),vn(e,e.B)),e.B++,!0))}(e,t)||2==r&&fn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:bn(e,5);break;case 4:bn(e,10);break;case 3:bn(e,6);break;default:bn(e,2)}}function vn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function bn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(jt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(jt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(jt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(jt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout(()=>{n.abort(),jt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?jt(0,0,!0,t):jt(0,0,!1,t)}).catch(()=>{clearTimeout(r),jt(0,0,!1,t)})}(r.toString(),n)}else je(2);e.G=0,e.l&&e.l.sa(t),wn(e),sn(e)}function wn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function xn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&lt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),un(e,r),r}function Sn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Kt(new Ft({eb:n})):new Kt(e.pa)).Ha(e.J),t}function kn(){}function En(){}function _n(e,t){ne.call(this),this.g=new rn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Tn(this)}function jn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function On(){be.call(this),this.status=1}function Tn(e){this.g=e}(e=Kt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ce.g(),this.v=this.o?me(this.o):me(Ce),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Xt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Yt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Xt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Jt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jt(this,!0)),Kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<en(this)?this.g.status:-1}catch(fk){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(fk){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=rn.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){je(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=xn(this,null,this.W),ln(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),x(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=dn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),un(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Wt(o)))+"&"+t:this.m&&Ht(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?cn(this,e):0==this.i.length||$e(this.h)||cn(this))},e.Fa=function(){if(this.u=null,mn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),an(this),mn(this))},e.Za=function(){null!=this.C&&(this.C=null,an(this),fn(this),je(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=kn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},En.prototype.g=function(e,t){return new _n(e,t)},d(_n,ne),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){on(this.g)},_n.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Xe(t.Ya++,e)),3==t.G&&ln(t)},_n.prototype.N=function(){this.g.l=null,delete this.j,on(this.g),delete this.g,_n.aa.N.call(this)},d(jn,ve),d(On,be),d(Tn,kn),Tn.prototype.ua=function(){re(this.g,"a")},Tn.prototype.ta=function(e){re(this.g,new jn(e))},Tn.prototype.sa=function(e){re(this.g,new On)},Tn.prototype.ra=function(){re(this.g,"b")},En.prototype.createWebChannel=En.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,Dt=Rt.createWebChannelTransport=function(){return new En},Pt=Rt.getStatEventTarget=function(){return Se()},At=Rt.Event=we,Ct=Rt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,It=Rt.ErrorCode=Ae,Pe.COMPLETE="complete",Nt=Rt.EventType=Pe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Tt=Rt.WebChannel=ge,Rt.FetchXmlHttpFactory=Ft,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,Ot=Rt.XhrIo=Kt}).apply("undefined"!==typeof Mt?Mt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Lt="@firebase/firestore",Ut="4.7.17";class Ft{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");let Bt="11.9.0";const zt=new ie("@firebase/firestore");function Vt(){return zt.logLevel}function qt(e){if(zt.logLevel<=Z.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Kt);zt.debug("Firestore (".concat(Bt,"): ").concat(e),...i)}}function Wt(e){if(zt.logLevel<=Z.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Kt);zt.error("Firestore (".concat(Bt,"): ").concat(e),...i)}}function Ht(e){if(zt.logLevel<=Z.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Kt);zt.warn("Firestore (".concat(Bt,"): ").concat(e),...i)}}function Kt(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Gt(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Yt(e,r,n)}function Yt(e,t,n){let r="FIRESTORE (".concat(Bt,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Wt(r),new Error(r)}function Xt(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Yt(t,i,r)}function Qt(e,t){return e}const $t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jt extends R{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Zt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class en{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class tn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ft.UNAUTHENTICATED))}shutdown(){}}class nn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rn{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xt(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Zt;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zt,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zt)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Xt("string"==typeof t.accessToken,31837,{l:t}),new en(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(null===e||"string"==typeof e,2055,{h:e}),new Ft(e)}}class on{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class an{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new on(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ln{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,at(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xt(void 0===this.o,3512);const n=e=>{null!=e.error&&qt("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,qt("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sn(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Xt("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new sn(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cn(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function un(){return new TextEncoder}class dn{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=cn(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function hn(e,t){return e<t?-1:e>t?1:0}function fn(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return hn(r,i);{const o=un(),a=mn(o.encode(pn(e,n)),o.encode(pn(t,n)));return 0!==a?a:hn(r,i)}}n+=r>65535?2:1}return hn(e.length,t.length)}function pn(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function mn(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return hn(e[n],t[n]);return hn(e.length,t.length)}function gn(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const yn=-62135596800,vn=1e6;class bn{static now(){return bn.fromMillis(Date.now())}static fromDate(e){return bn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*vn);return new bn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Jt($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Jt($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yn)throw new Jt($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Jt($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vn}_compareTo(e){return this.seconds===e.seconds?hn(this.nanoseconds,e.nanoseconds):hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yn;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wn{static fromTimestamp(e){return new wn(e)}static min(){return new wn(new bn(0,0))}static max(){return new wn(new bn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xn="__name__";class Sn{constructor(e,t,n){void 0===t?t=0:t>e.length&&Gt(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Gt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Sn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sn?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Sn.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return hn(e.length,t.length)}static compareSegments(e,t){const n=Sn.isNumericId(e),r=Sn.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Sn.extractNumericId(e).compare(Sn.extractNumericId(t)):fn(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kt.fromString(e.substring(4,e.length-2))}}class kn extends Sn{construct(e,t,n){return new kn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Jt($t.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new kn(e)}static emptyPath(){return new kn([])}}const En=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Sn{construct(e,t,n){return new _n(e,t,n)}static isValidIdentifier(e){return En.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===xn}static keyField(){return new _n([xn])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Jt($t.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Jt($t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Jt($t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Jt($t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(t)}static emptyPath(){return new _n([])}}class jn{constructor(e){this.path=e}static fromPath(e){return new jn(kn.fromString(e))}static fromName(e){return new jn(kn.fromString(e).popFirst(5))}static empty(){return new jn(kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jn(new kn(e.slice()))}}const On=-1;class Tn{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Tn.UNKNOWN_ID=-1;function Nn(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=wn.fromTimestamp(1e9===r?new bn(n+1,0):new bn(n,r));return new Cn(i,jn.empty(),t)}function In(e){return new Cn(e.readTime,e.key,On)}class Cn{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Cn(wn.min(),jn.empty(),On)}static max(){return new Cn(wn.max(),jn.empty(),On)}}function An(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=jn.comparator(e.documentKey,t.documentKey),0!==n?n:hn(e.largestBatchId,t.largestBatchId))}const Pn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Mn(e){if(e.code!==$t.FAILED_PRECONDITION||e.message!==Pn)throw e;qt("LocalStore","Unexpectedly lost primary lease")}class Rn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Rn((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Rn?t:Rn.resolve(t)}catch(e){return Rn.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Rn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Rn.reject(t)}static resolve(e){return new Rn((t,n)=>{t(e)})}static reject(e){return new Rn((t,n)=>{n(e)})}static waitFor(e){return new Rn((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Rn.resolve(!1);for(const n of e)t=t.next(e=>e?Rn.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Rn((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Rn((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ln(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Un(e){return"IndexedDbTransactionError"===e.name}class Fn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Fn.le=-1;const Bn=-1;function zn(e){return null==e}function Vn(e){return 0===e&&1/e==-1/0}function qn(e){return"number"==typeof e&&Number.isInteger(e)&&!Vn(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Wn="\x01";function Hn(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Gn(t)),t=Kn(e.get(n),t);return Gn(t)}function Kn(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Wn:n+="\x01\x11";break;default:n+=t}}return n}function Gn(e){return e+Wn+"\x01"}const Yn="remoteDocuments",Xn="owner",Qn="mutationQueues",$n="mutations";const Jn="documentMutations",Zn="remoteDocumentsV14",er="remoteDocumentGlobal",tr="targets",nr="targetDocuments",rr="targetGlobal",ir="collectionParents",or="clientMetadata",ar="bundles",sr="namedQueries",lr="indexConfiguration",cr="indexState",ur="indexEntries",dr="documentOverlays",hr="globals",fr=[Qn,$n,Jn,Yn,tr,Xn,rr,nr,or,er,ir,ar,sr],pr=[Qn,$n,Jn,Zn,tr,Xn,rr,nr,or,er,ir,ar,sr,dr],mr=pr,gr=[...mr,lr,cr,ur];function yr(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function br(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class wr{constructor(e,t){this.comparator=e,this.root=t||Sr.EMPTY}insert(e,t){return new wr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sr.BLACK,null,null))}remove(e){return new wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xr(this.root,e,this.comparator,!1)}getReverseIterator(){return new xr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xr(this.root,e,this.comparator,!0)}}class xr{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sr{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Sr.RED,this.left=null!=r?r:Sr.EMPTY,this.right=null!=i?i:Sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Sr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Sr.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Gt(27949);return e+(this.isRed()?0:1)}}Sr.EMPTY=null,Sr.RED=!0,Sr.BLACK=!1,Sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt(57766)}get value(){throw Gt(16141)}get color(){throw Gt(16727)}get left(){throw Gt(29726)}get right(){throw Gt(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Sr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kr{constructor(e){this.comparator=e,this.data=new wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Er(this.data.getIterator())}getIteratorFrom(e){return new Er(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof kr))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kr(this.comparator);return t.data=e,t}}class Er{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _r{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new _r([])}unionWith(e){let t=new kr(_n.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new _r(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gn(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class jr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Or{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new jr("Invalid base64 string: "+e):e}}(e);return new Or(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Or(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const Tr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(e){if(Xt(!!e,39018),"string"==typeof e){let t=0;const n=Tr.exec(e);if(Xt(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ir(e.seconds),nanos:Ir(e.nanos)}}function Ir(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Cr(e){return"string"==typeof e?Or.fromBase64String(e):Or.fromUint8Array(e)}const Ar="server_timestamp",Pr="__type__",Dr="__previous_value__",Mr="__local_write_time__";function Rr(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Pr])||void 0===n?void 0:n.stringValue)===Ar}function Lr(e){const t=e.mapValue.fields[Dr];return Rr(t)?Lr(t):t}function Ur(e){const t=Nr(e.mapValue.fields[Mr].timestampValue);return new bn(t.seconds,t.nanos)}class Fr{constructor(e,t,n,r,i,o,a,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const Br="(default)";class zr{constructor(e,t){this.projectId=e,this.database=t||Br}static empty(){return new zr("","")}get isDefaultDatabase(){return this.database===Br}isEqual(e){return e instanceof zr&&e.projectId===this.projectId&&e.database===this.database}}const Vr="__type__",qr="__max__",Wr={mapValue:{fields:{__type__:{stringValue:qr}}}},Hr="__vector__",Kr="value";function Gr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rr(e)?4:ui(e)?9007199254740991:li(e)?10:11:Gt(28295,{value:e})}function Yr(e,t){if(e===t)return!0;const n=Gr(e);if(n!==Gr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ur(e).isEqual(Ur(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Nr(e.timestampValue),r=Nr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Cr(e.bytesValue).isEqual(Cr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ir(e.geoPointValue.latitude)===Ir(t.geoPointValue.latitude)&&Ir(e.geoPointValue.longitude)===Ir(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ir(e.integerValue)===Ir(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ir(e.doubleValue),r=Ir(t.doubleValue);return n===r?Vn(n)===Vn(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return gn(e.arrayValue.values||[],t.arrayValue.values||[],Yr);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yr(n)!==yr(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Yr(n[i],r[i])))return!1;return!0}(e,t);default:return Gt(52216,{left:e})}}function Xr(e,t){return void 0!==(e.values||[]).find(e=>Yr(e,t))}function Qr(e,t){if(e===t)return 0;const n=Gr(e),r=Gr(t);if(n!==r)return hn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return hn(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ir(e.integerValue||e.doubleValue),r=Ir(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $r(e.timestampValue,t.timestampValue);case 4:return $r(Ur(e),Ur(t));case 5:return fn(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Cr(e),r=Cr(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=hn(n[i],r[i]);if(0!==e)return e}return hn(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=hn(Ir(e.latitude),Ir(t.latitude));return 0!==n?n:hn(Ir(e.longitude),Ir(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Jr(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a[Kr])||void 0===n?void 0:n.arrayValue,c=null===(r=s[Kr])||void 0===r?void 0:r.arrayValue,u=hn((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Jr(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Wr.mapValue&&t===Wr.mapValue)return 0;if(e===Wr.mapValue)return 1;if(t===Wr.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=fn(r[a],o[a]);if(0!==e)return e;const t=Qr(n[r[a]],i[o[a]]);if(0!==t)return t}return hn(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Gt(23264,{Pe:n})}}function $r(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return hn(e,t);const n=Nr(e),r=Nr(t),i=hn(n.seconds,r.seconds);return 0!==i?i:hn(n.nanos,r.nanos)}function Jr(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Qr(n[i],r[i]);if(e)return e}return hn(n.length,r.length)}function Zr(e){return ei(e)}function ei(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Nr(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Cr(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return jn.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ei(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ei(e.fields[i]));return n+"}"}(e.mapValue):Gt(61005,{value:e})}function ti(e){switch(Gr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Lr(e);return t?16+ti(t):16;case 5:return 2*e.stringValue.length;case 6:return Cr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+ti(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return vr(e.fields,(e,n)=>{t+=e.length+ti(n)}),t}(e.mapValue);default:throw Gt(13486,{value:e})}}function ni(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ri(e){return!!e&&"integerValue"in e}function ii(e){return!!e&&"arrayValue"in e}function oi(e){return!!e&&"nullValue"in e}function ai(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function si(e){return!!e&&"mapValue"in e}function li(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Vr])||void 0===n?void 0:n.stringValue)===Hr}function ci(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vr(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ci(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ci(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ui(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===qr}class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!si(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ci(t)}setAll(e){let t=_n.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ci(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());si(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];si(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){vr(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new di(ci(this.value))}}function hi(e){const t=[];return vr(e.fields,(e,n)=>{const r=new _n([e]);if(si(n)){const e=hi(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new _r(t)}class fi{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new fi(e,0,wn.min(),wn.min(),wn.min(),di.empty(),0)}static newFoundDocument(e,t,n,r){return new fi(e,1,t,wn.min(),n,r,0)}static newNoDocument(e,t){return new fi(e,2,t,wn.min(),wn.min(),di.empty(),0)}static newUnknownDocument(e,t){return new fi(e,3,t,wn.min(),wn.min(),di.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class pi{constructor(e,t){this.position=e,this.inclusive=t}}function mi(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?jn.comparator(jn.fromName(a.referenceValue),n.key):Qr(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function gi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Yr(e.position[n],t.position[n]))return!1;return!0}class yi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function vi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class bi{}class wi extends bi{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ti(e,t,n):"array-contains"===t?new Ai(e,n):"in"===t?new Pi(e,n):"not-in"===t?new Di(e,n):"array-contains-any"===t?new Mi(e,n):new wi(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ni(e,n):new Ii(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Qr(t,this.value)):null!==t&&Gr(this.value)===Gr(t)&&this.matchesComparison(Qr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends bi{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new xi(e,t)}matches(e){return Si(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Si(e){return"and"===e.op}function ki(e){return Ei(e)&&Si(e)}function Ei(e){for(const t of e.filters)if(t instanceof xi)return!1;return!0}function _i(e){if(e instanceof wi)return e.field.canonicalString()+e.op.toString()+Zr(e.value);if(ki(e))return e.filters.map(e=>_i(e)).join(",");{const t=e.filters.map(e=>_i(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function ji(e,t){return e instanceof wi?function(e,t){return t instanceof wi&&e.op===t.op&&e.field.isEqual(t.field)&&Yr(e.value,t.value)}(e,t):e instanceof xi?function(e,t){return t instanceof xi&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ji(n,t.filters[r]),!0)}(e,t):void Gt(19439)}function Oi(e){return e instanceof wi?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Zr(e.value))}(e):e instanceof xi?function(e){return e.op.toString()+" {"+e.getFilters().map(Oi).join(" ,")+"}"}(e):"Filter"}class Ti extends wi{constructor(e,t,n){super(e,t,n),this.key=jn.fromName(n.referenceValue)}matches(e){const t=jn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ni extends wi{constructor(e,t){super(e,"in",t),this.keys=Ci("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ii extends wi{constructor(e,t){super(e,"not-in",t),this.keys=Ci("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ci(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>jn.fromName(e.referenceValue))}class Ai extends wi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ii(t)&&Xr(t.arrayValue,this.value)}}class Pi extends wi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xr(this.value.arrayValue,t)}}class Di extends wi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Xr(this.value.arrayValue,t)}}class Mi extends wi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ii(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Xr(this.value.arrayValue,e))}}class Ri{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function Li(e){return new Ri(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ui(e){const t=Qt(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>_i(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),zn(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Zr(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Zr(e)).join(",")),t.Ie=e}return t.Ie}function Fi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!vi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ji(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gi(e.startAt,t.startAt)&&gi(e.endAt,t.endAt)}function Bi(e){return jn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class zi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Vi(e,t,n,r,i,o,a,s){return new zi(e,t,n,r,i,o,a,s)}function qi(e){return new zi(e)}function Wi(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hi(e){return null!==e.collectionGroup}function Ki(e){const t=Qt(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new kr(_n.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new yi(r,n))}),e.has(_n.keyField().canonicalString())||t.Ee.push(new yi(_n.keyField(),n))}return t.Ee}function Gi(e){const t=Qt(e);return t.de||(t.de=Yi(t,Ki(e))),t.de}function Yi(e,t){if("F"===e.limitType)return Li(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new yi(e.field,t)});const n=e.endAt?new pi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new pi(e.startAt.position,e.startAt.inclusive):null;return Li(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Xi(e,t){const n=e.filters.concat([t]);return new zi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qi(e,t,n){return new zi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $i(e,t){return Fi(Gi(e),Gi(t))&&e.limitType===t.limitType}function Ji(e){return"".concat(Ui(Gi(e)),"|lt:").concat(e.limitType)}function Zi(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Oi(e)).join(", "),"]")),zn(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Zr(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Zr(e)).join(",")),"Target(".concat(t,")")}(Gi(e)),"; limitType=").concat(e.limitType,")")}function eo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):jn.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ki(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=mi(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ki(e),t))&&!(e.endAt&&!function(e,t,n){const r=mi(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ki(e),t))}(e,t)}function to(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function no(e){return(t,n)=>{let r=!1;for(const i of Ki(e)){const e=ro(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ro(e,t,n){const r=e.field.isKeyField()?jn.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Qr(r,i):Gt(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Gt(19790,{direction:e.dir})}}class io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return br(this.inner)}size(){return this.innerSize}}const oo=new wr(jn.comparator);function ao(){return oo}const so=new wr(jn.comparator);function lo(){let e=so;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function co(e){let t=so;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function uo(){return fo()}function ho(){return fo()}function fo(){return new io(e=>e.toString(),(e,t)=>e.isEqual(t))}const po=new wr(jn.comparator),mo=new kr(jn.comparator);function go(){let e=mo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const yo=new kr(hn);function vo(){return yo}function bo(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vn(t)?"-0":t}}function wo(e){return{integerValue:""+e}}function xo(e,t){return qn(t)?wo(t):bo(e,t)}class So{constructor(){this._=void 0}}function ko(e,t,n){return e instanceof jo?function(e,t){const n={fields:{[Pr]:{stringValue:Ar},[Mr]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Rr(t)&&(t=Lr(t)),t&&(n.fields[Dr]=t),{mapValue:n}}(n,t):e instanceof Oo?To(e,t):e instanceof No?Io(e,t):function(e,t){const n=_o(e,t),r=Ao(n)+Ao(e.Re);return ri(n)&&ri(e.Re)?wo(r):bo(e.serializer,r)}(e,t)}function Eo(e,t,n){return e instanceof Oo?To(e,t):e instanceof No?Io(e,t):n}function _o(e,t){return e instanceof Co?function(e){return ri(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class jo extends So{}class Oo extends So{constructor(e){super(),this.elements=e}}function To(e,t){const n=Po(t);for(const r of e.elements)n.some(e=>Yr(e,r))||n.push(r);return{arrayValue:{values:n}}}class No extends So{constructor(e){super(),this.elements=e}}function Io(e,t){let n=Po(t);for(const r of e.elements)n=n.filter(e=>!Yr(e,r));return{arrayValue:{values:n}}}class Co extends So{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Ao(e){return Ir(e.integerValue||e.doubleValue)}function Po(e){return ii(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Do{constructor(e,t){this.field=e,this.transform=t}}class Mo{constructor(e,t){this.version=e,this.transformResults=t}}class Ro{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ro}static exists(e){return new Ro(void 0,e)}static updateTime(e){return new Ro(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lo(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Uo{}function Fo(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Xo(e.key,Ro.none()):new Wo(e.key,e.data,Ro.none());{const n=e.data,r=di.empty();let i=new kr(_n.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ho(e.key,r,new _r(i.toArray()),Ro.none())}}function Bo(e,t,n){e instanceof Wo?function(e,t,n){const r=e.value.clone(),i=Go(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ho?function(e,t,n){if(!Lo(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Go(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ko(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function zo(e,t,n,r){return e instanceof Wo?function(e,t,n,r){if(!Lo(e.precondition,t))return n;const i=e.value.clone(),o=Yo(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ho?function(e,t,n,r){if(!Lo(e.precondition,t))return n;const i=Yo(e.fieldTransforms,r,t),o=t.data;return o.setAll(Ko(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Lo(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Vo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=_o(r.transform,e||null);null!=i&&(null===n&&(n=di.empty()),n.set(r.field,i))}return n||null}function qo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&gn(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Oo&&t instanceof Oo||e instanceof No&&t instanceof No?gn(e.elements,t.elements,Yr):e instanceof Co&&t instanceof Co?Yr(e.Re,t.Re):e instanceof jo&&t instanceof jo}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wo extends Uo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ho extends Uo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ko(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Go(e,t,n){const r=new Map;Xt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Eo(a,s,n[i]))}return r}function Yo(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,ko(e,o,t))}return r}class Xo extends Uo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qo extends Uo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $o{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Bo(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=zo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=zo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ho();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Fo(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(wn.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),go())}isEqual(e){return this.batchId===e.batchId&&gn(this.mutations,e.mutations,(e,t)=>qo(e,t))&&gn(this.baseMutations,e.baseMutations,(e,t)=>qo(e,t))}}class Jo{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xt(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=po;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Jo(e,t,n,r)}}class Zo{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ea{constructor(e,t){this.count=e,this.unchangedNames=t}}var ta,na;function ra(e){switch(e){case $t.OK:return Gt(64938);case $t.CANCELLED:case $t.UNKNOWN:case $t.DEADLINE_EXCEEDED:case $t.RESOURCE_EXHAUSTED:case $t.INTERNAL:case $t.UNAVAILABLE:case $t.UNAUTHENTICATED:return!1;case $t.INVALID_ARGUMENT:case $t.NOT_FOUND:case $t.ALREADY_EXISTS:case $t.PERMISSION_DENIED:case $t.FAILED_PRECONDITION:case $t.ABORTED:case $t.OUT_OF_RANGE:case $t.UNIMPLEMENTED:case $t.DATA_LOSS:return!0;default:return Gt(15467,{code:e})}}function ia(e){if(void 0===e)return Wt("GRPC error has no .code"),$t.UNKNOWN;switch(e){case ta.OK:return $t.OK;case ta.CANCELLED:return $t.CANCELLED;case ta.UNKNOWN:return $t.UNKNOWN;case ta.DEADLINE_EXCEEDED:return $t.DEADLINE_EXCEEDED;case ta.RESOURCE_EXHAUSTED:return $t.RESOURCE_EXHAUSTED;case ta.INTERNAL:return $t.INTERNAL;case ta.UNAVAILABLE:return $t.UNAVAILABLE;case ta.UNAUTHENTICATED:return $t.UNAUTHENTICATED;case ta.INVALID_ARGUMENT:return $t.INVALID_ARGUMENT;case ta.NOT_FOUND:return $t.NOT_FOUND;case ta.ALREADY_EXISTS:return $t.ALREADY_EXISTS;case ta.PERMISSION_DENIED:return $t.PERMISSION_DENIED;case ta.FAILED_PRECONDITION:return $t.FAILED_PRECONDITION;case ta.ABORTED:return $t.ABORTED;case ta.OUT_OF_RANGE:return $t.OUT_OF_RANGE;case ta.UNIMPLEMENTED:return $t.UNIMPLEMENTED;case ta.DATA_LOSS:return $t.DATA_LOSS;default:return Gt(39323,{code:e})}}(na=ta||(ta={}))[na.OK=0]="OK",na[na.CANCELLED=1]="CANCELLED",na[na.UNKNOWN=2]="UNKNOWN",na[na.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",na[na.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",na[na.NOT_FOUND=5]="NOT_FOUND",na[na.ALREADY_EXISTS=6]="ALREADY_EXISTS",na[na.PERMISSION_DENIED=7]="PERMISSION_DENIED",na[na.UNAUTHENTICATED=16]="UNAUTHENTICATED",na[na.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",na[na.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",na[na.ABORTED=10]="ABORTED",na[na.OUT_OF_RANGE=11]="OUT_OF_RANGE",na[na.UNIMPLEMENTED=12]="UNIMPLEMENTED",na[na.INTERNAL=13]="INTERNAL",na[na.UNAVAILABLE=14]="UNAVAILABLE",na[na.DATA_LOSS=15]="DATA_LOSS";let oa=null;const aa=new kt([4294967295,4294967295],0);function sa(e){const t=un().encode(e),n=new Et;return n.update(t),new Uint8Array(n.digest())}function la(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new kt([n,r],0),new kt([i,o],0)]}class ca{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ua("Invalid padding: ".concat(t));if(n<0)throw new ua("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ua("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ua("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=kt.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(kt.fromNumber(n)));return 1===r.compare(aa)&&(r=new kt([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=sa(e),[n,r]=la(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ca(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.pe)return;const t=sa(e),[n,r]=la(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class da{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ha.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new da(wn.min(),r,new wr(hn),ao(),go())}}class ha{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ha(n,t,go(),go(),go())}}class fa{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class pa{constructor(e,t){this.targetId=e,this.Ce=t}}class ma{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Or.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ga{constructor(){this.Fe=0,this.Me=ba(),this.xe=Or.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=go(),t=go(),n=go();return this.Me.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Gt(38017,{changeType:i})}}),new ha(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=ba()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ya{constructor(e){this.ze=e,this.je=new Map,this.He=ao(),this.Je=va(),this.Ye=va(),this.Ze=new wr(hn)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Gt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((e,n)=>{this.it(n)&&t(n)})}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(Bi(i))if(0===n){const e=new jn(i.path);this.tt(t,e,fi.newNoDocument(e,wn.min()))}else Xt(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==oa||oa.ht(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Cr(n).toUint8Array()}catch(e){if(e instanceof jr)return Ht("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ca(o,r,i)}catch(e){return Ht(e instanceof ua?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.pe?null:a}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.ze.Pt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.tt(t,n,null),r++)}),r}It(e){const t=new Map;this.je.forEach((n,r)=>{const i=this._t(r);if(i){if(n.current&&Bi(i.target)){const t=new jn(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,fi.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}});let n=go();this.Ye.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.He.forEach((t,n)=>n.setReadTime(e));const r=new da(e,t,this.Ze,this.He,n);return this.He=ao(),this.Je=va(),this.Ye=va(),this.Ze=new wr(hn),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new ga,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new kr(hn),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new kr(hn),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||qt("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ga),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function va(){return new wr(jn.comparator)}function ba(){return new wr(jn.comparator)}const wa={asc:"ASCENDING",desc:"DESCENDING"},xa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sa={and:"AND",or:"OR"};class ka{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ea(e,t){return e.useProto3Json||zn(t)?t:{value:t}}function _a(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ja(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Oa(e,t){return _a(e,t.toTimestamp())}function Ta(e){return Xt(!!e,49232),wn.fromTimestamp(function(e){const t=Nr(e);return new bn(t.seconds,t.nanos)}(e))}function Na(e,t){return Ia(e,t).canonicalString()}function Ia(e,t){const n=function(e){return new kn(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ca(e){const t=kn.fromString(e);return Xt($a(t),10190,{key:t.toString()}),t}function Aa(e,t){return Na(e.databaseId,t.path)}function Pa(e,t){const n=Ca(t);if(n.get(1)!==e.databaseId.projectId)throw new Jt($t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Jt($t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jn(La(n))}function Da(e,t){return Na(e.databaseId,t)}function Ma(e){const t=Ca(e);return 4===t.length?kn.emptyPath():La(t)}function Ra(e){return new kn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function La(e){return Xt(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ua(e,t,n){return{name:Aa(e,t),fields:n.value.mapValue.fields}}function Fa(e,t){let n;if(t instanceof Wo)n={update:Ua(e,t.key,t.value)};else if(t instanceof Xo)n={delete:Aa(e,t.key)};else if(t instanceof Ho)n={update:Ua(e,t.key,t.data),updateMask:Qa(t.fieldMask)};else{if(!(t instanceof Qo))return Gt(16599,{ft:t.type});n={verify:Aa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof jo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Oo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof No)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Co)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw Gt(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Oa(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Gt(27497)}(e,t.precondition)),n}function Ba(e,t){return{documents:[Da(e,t.path)]}}function za(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Da(e,i);const o=function(e){if(0!==e.length)return Xa(xi.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Ga(e.field),direction:Wa(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Ea(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function Va(e){let t=Ma(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xt(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=qa(e);return t instanceof xi&&ki(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new yi(Ya(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,zn(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new pi(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new pi(n,t)}(n.endAt)),Vi(t,i,a,o,s,"F",l,c)}function qa(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ya(e.unaryFilter.field);return wi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ya(e.unaryFilter.field);return wi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ya(e.unaryFilter.field);return wi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ya(e.unaryFilter.field);return wi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Gt(61313);default:return Gt(60726)}}(e):void 0!==e.fieldFilter?function(e){return wi.create(Ya(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Gt(58110);default:return Gt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return xi.create(e.compositeFilter.filters.map(e=>qa(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Gt(1026)}}(e.compositeFilter.op))}(e):Gt(30097,{filter:e})}function Wa(e){return wa[e]}function Ha(e){return xa[e]}function Ka(e){return Sa[e]}function Ga(e){return{fieldPath:e.canonicalString()}}function Ya(e){return _n.fromServerFormat(e.fieldPath)}function Xa(e){return e instanceof wi?function(e){if("=="===e.op){if(ai(e.value))return{unaryFilter:{field:Ga(e.field),op:"IS_NAN"}};if(oi(e.value))return{unaryFilter:{field:Ga(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ai(e.value))return{unaryFilter:{field:Ga(e.field),op:"IS_NOT_NAN"}};if(oi(e.value))return{unaryFilter:{field:Ga(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(e.field),op:Ha(e.op),value:e.value}}}(e):e instanceof xi?function(e){const t=e.getFilters().map(e=>Xa(e));return 1===t.length?t[0]:{compositeFilter:{op:Ka(e.op),filters:t}}}(e):Gt(54877,{filter:e})}function Qa(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function $a(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ja{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:wn.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:wn.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Or.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Za{constructor(e){this.wt=e}}function es(e){const t=Va({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qi(t,t.limit,"L"):t}class ts{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Ir(e.integerValue));else if("doubleValue"in e){const n=Ir(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Vn(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=Nr(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Cr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?ui(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):li(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Gt(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const o=Kr,a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Ir(a)),this.Nt(o,t),this.Ct(i[o],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),jn.fromName(e).path.forEach(e=>{this.Mt(t,60),this.Kt(e,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}ts.Wt=new ts;class ns{constructor(){this.Cn=new rs}addToCollectionParentIndex(e,t){return this.Cn.add(t),Rn.resolve()}getCollectionParents(e,t){return Rn.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Rn.resolve()}deleteFieldIndex(e,t){return Rn.resolve()}deleteAllFieldIndexes(e){return Rn.resolve()}createTargetIndexes(e,t){return Rn.resolve()}getDocumentsMatchingTarget(e,t){return Rn.resolve(null)}getIndexType(e,t){return Rn.resolve(0)}getFieldIndexes(e,t){return Rn.resolve([])}getNextCollectionGroupToUpdate(e){return Rn.resolve(null)}getMinOffset(e,t){return Rn.resolve(Cn.min())}getMinOffsetFromCollectionGroup(e,t){return Rn.resolve(Cn.min())}updateCollectionGroup(e,t,n){return Rn.resolve()}updateIndexEntries(e,t){return Rn.resolve()}}class rs{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new kr(kn.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new kr(kn.comparator)).toArray()}}new Uint8Array(0);const is={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},os=41943040;class as{static withCacheSize(e){return new as(e,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}as.DEFAULT_COLLECTION_PERCENTILE=10,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,as.DEFAULT=new as(os,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),as.DISABLED=new as(-1,0,0);class ss{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ss(0)}static lr(){return new ss(-1)}}const ls="LruGarbageCollector",cs=1048576;function us(e,t){let[n,r]=e,[i,o]=t;const a=hn(n,i);return 0===a?hn(r,o):a}class ds{constructor(e){this.Er=e,this.buffer=new kr(us),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();us(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hs{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){qt(ls,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Un(e)?qt(ls,"Ignoring IndexedDB error during garbage collection: ",e):await Mn(e)}await this.mr(3e5)})}}class fs{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Rn.resolve(Fn.le);const n=new ds(t);return this.gr.forEachTarget(e,e=>n.Rr(e.sequenceNumber)).next(()=>this.gr.yr(e,e=>n.Rr(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector","Garbage collection skipped; disabled"),Rn.resolve(is)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),is):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(qt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Vt()<=Z.DEBUG&&qt("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Rn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function ps(e,t){return new fs(e,t)}class ms{constructor(){this.changes=new io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Rn.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gs{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ys{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&zo(n.mutation,e,_r.empty(),bn.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,go()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:go();const r=uo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=lo();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=uo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,go()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=ao();const o=fo(),a=fo();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ho)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),zo(a.mutation,t,a.mutation.getFieldMask(),bn.now())):o.set(t.key,_r.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new gs(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=fo();let r=new wr((e,t)=>e-t),i=go();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||_r.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||go()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=ho();l.forEach(e=>{if(!i.has(e)){const r=Fo(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Rn.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return jn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hi(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Rn.resolve(uo());let a=On,s=i;return o.next(t=>Rn.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Rn.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,go())).next(e=>({batchId:a,changes:co(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new jn(t)).next(e=>{let t=lo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=lo();return this.indexManager.getCollectionParents(e,i).next(a=>Rn.forEach(a,a=>{const s=function(e,t){return new zi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,fi.newInvalidDocument(r)))});let n=lo();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&zo(o.mutation,r,_r.empty(),bn.now()),eo(t,r)&&(n=n.insert(e,r))}),n})}}class vs{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Rn.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ta(e.createTime)}}(t)),Rn.resolve()}getNamedQuery(e,t){return Rn.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:es(e.bundledQuery),readTime:Ta(e.readTime)}}(t)),Rn.resolve()}}class bs{constructor(){this.overlays=new wr(jn.comparator),this.Qr=new Map}getOverlay(e,t){return Rn.resolve(this.overlays.get(t))}getOverlays(e,t){const n=uo();return Rn.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Rn.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Qr.delete(n)),Rn.resolve()}getOverlaysForCollection(e,t,n){const r=uo(),i=t.length+1,o=new jn(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Rn.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new wr((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=uo(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=uo(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Rn.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Zo(t,n));let i=this.Qr.get(t);void 0===i&&(i=go(),this.Qr.set(t,i)),this.Qr.set(t,i.add(n.key))}}class ws{constructor(){this.sessionToken=Or.EMPTY_BYTE_STRING}getSessionToken(e){return Rn.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Rn.resolve()}}class xs{constructor(){this.$r=new kr(Ss.Ur),this.Kr=new kr(Ss.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new Ss(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.zr(new Ss(e,t))}jr(e,t){e.forEach(e=>this.removeReference(e,t))}Hr(e){const t=new jn(new kn([])),n=new Ss(t,e),r=new Ss(t,e+1),i=[];return this.Kr.forEachInRange([n,r],e=>{this.zr(e),i.push(e.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new jn(new kn([])),n=new Ss(t,e),r=new Ss(t,e+1);let i=go();return this.Kr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ss(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ss{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return jn.comparator(e.key,t.key)||hn(e.Zr,t.Zr)}static Wr(e,t){return hn(e.Zr,t.Zr)||jn.comparator(e.key,t.key)}}class ks{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new kr(Ss.Ur)}checkEmpty(e){return Rn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $o(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Xr=this.Xr.add(new Ss(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Rn.resolve(o)}lookupMutationBatch(e,t){return Rn.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),i=r<0?0:r;return Rn.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Rn.resolve(0===this.mutationQueue.length?Bn:this.nr-1)}getAllMutationBatches(e){return Rn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ss(t,0),r=new Ss(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,r],e=>{const t=this.ei(e.Zr);i.push(t)}),Rn.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kr(hn);return t.forEach(e=>{const t=new Ss(e,0),r=new Ss(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],e=>{n=n.add(e.Zr)})}),Rn.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;jn.isDocumentKey(i)||(i=i.child(""));const o=new Ss(new jn(i),0);let a=new kr(hn);return this.Xr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Zr)),!0)},o),Rn.resolve(this.ni(a))}ni(e){const t=[];return e.forEach(e=>{const n=this.ei(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Xt(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return Rn.forEach(t.mutations,r=>{const i=new Ss(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new Ss(t,0),r=this.Xr.firstAfterOrEqual(n);return Rn.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Rn.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Es{constructor(e){this.ii=e,this.docs=new wr(jn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Rn.resolve(n?n.document.mutableCopy():fi.newInvalidDocument(t))}getEntries(e,t){let n=ao();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():fi.newInvalidDocument(e))}),Rn.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ao();const o=t.path,a=new jn(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||An(In(a),n)<=0||(r.has(a.key)||eo(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Rn.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Gt(9500)}si(e,t){return Rn.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new _s(this)}getSize(e){return Rn.resolve(this.size)}}class _s extends ms{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)}),Rn.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class js{constructor(e){this.persistence=e,this.oi=new io(e=>Ui(e),Fi),this.lastRemoteSnapshotVersion=wn.min(),this.highestTargetId=0,this._i=0,this.ai=new xs,this.targetCount=0,this.ui=ss.cr()}forEachTarget(e,t){return this.oi.forEach((e,n)=>t(n)),Rn.resolve()}getLastRemoteSnapshotVersion(e){return Rn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Rn.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Rn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),Rn.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ss(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Rn.resolve()}updateTargetData(e,t){return this.Tr(t),Rn.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Rn.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Rn.waitFor(i).next(()=>r)}getTargetCount(e){return Rn.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return Rn.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),Rn.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Rn.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Rn.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return Rn.resolve(n)}containsKey(e,t){return Rn.resolve(this.ai.containsKey(t))}}class Os{constructor(e,t){this.ci={},this.overlays={},this.li=new Fn(0),this.hi=!1,this.hi=!0,this.Pi=new ws,this.referenceDelegate=e(this),this.Ti=new js(this),this.indexManager=new ns,this.remoteDocumentCache=function(e){return new Es(e)}(e=>this.referenceDelegate.Ii(e)),this.serializer=new Za(t),this.Ei=new vs(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bs,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new ks(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){qt("MemoryPersistence","Starting transaction:",e);const r=new Ts(this.li.next());return this.referenceDelegate.di(),n(r).next(e=>this.referenceDelegate.Ai(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ri(e,t){return Rn.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class Ts extends Dn{constructor(e){super(),this.currentSequenceNumber=e}}class Ns{constructor(e){this.persistence=e,this.Vi=new xs,this.mi=null}static fi(e){return new Ns(e)}get gi(){if(this.mi)return this.mi;throw Gt(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),Rn.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),Rn.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Rn.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(e=>this.gi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.gi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rn.forEach(this.gi,n=>{const r=jn.fromPath(n);return this.pi(e,r).next(e=>{e||t.removeEntry(r,wn.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Rn.or([()=>Rn.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Is{constructor(e,t){this.persistence=e,this.yi=new io(e=>Hn(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=ps(this,t)}static fi(e,t){return new Is(e,t)}di(){}Ai(e){return Rn.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}br(e){let t=0;return this.yr(e,e=>{t++}).next(()=>t)}yr(e,t){return Rn.forEach(this.yi,(n,r)=>this.Dr(e,n,r).next(e=>e?Rn.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,r=>this.Dr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,wn.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Rn.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Rn.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Rn.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Rn.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ti(e.data.value)),t}Dr(e,t,n){return Rn.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return Rn.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cs{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=go(),r=go();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Cs(e,t.fromCache,n,r)}}class As{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ps{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=P()?8:Ln(I())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ws(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.bs(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new As;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.fs)return this.Ds(e,t,n,r.size)})}).next(()=>i.result)}Ds(e,t,n,r){return n.documentReadCount<this.gs?(Vt()<=Z.DEBUG&&qt("QueryEngine","SDK will not create cache indexes for query:",Zi(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Rn.resolve()):(Vt()<=Z.DEBUG&&qt("QueryEngine","Query:",Zi(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(Vt()<=Z.DEBUG&&qt("QueryEngine","The SDK decides to create cache indexes for query:",Zi(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(t))):Rn.resolve())}ws(e,t){if(Wi(t))return Rn.resolve(null);let n=Gi(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Qi(t,null,"F"),n=Gi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=go(...r);return this.ys.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.vs(t,r);return this.Cs(t,o,i,n.readTime)?this.ws(e,Qi(t,null,"F")):this.Fs(e,o,t,n)}))})))}bs(e,t,n,r){return Wi(t)||r.isEqual(wn.min())?Rn.resolve(null):this.ys.getDocuments(e,n).next(i=>{const o=this.vs(t,i);return this.Cs(t,o,n,r)?Rn.resolve(null):(Vt()<=Z.DEBUG&&qt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zi(t)),this.Fs(e,o,t,Nn(r,On)).next(e=>e))})}vs(e,t){let n=new kr(no(e));return t.forEach((t,r)=>{eo(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Vt()<=Z.DEBUG&&qt("QueryEngine","Using full collection scan to execute query:",Zi(t)),this.ys.getDocumentsMatchingQuery(e,t,Cn.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Ds="LocalStore";class Ms{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new wr(hn),this.Os=new io(e=>Ui(e),Fi),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ys(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function Rs(e,t,n,r){return new Ms(e,t,n,r)}async function Ls(e,t){const n=Qt(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=go();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({ks:e,removedBatchIds:i,addedBatchIds:o}))})})}function Us(e){const t=Qt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function Fs(e,t,n){let r=go(),i=go();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=ao();return n.forEach((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(wn.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):qt(Ds,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),{qs:r,Qs:i}})}function Bs(e,t){const n=Qt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Bn),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function zs(e,t){const n=Qt(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ti.getTargetData(e,t).next(i=>i?(r=i,Rn.resolve(r)):n.Ti.allocateTargetId(e).next(i=>(r=new Ja(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e})}async function Vs(e,t,n){const r=Qt(e),i=r.xs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Un(e))throw e;qt(Ds,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function qs(e,t,n){const r=Qt(e);let i=wn.min(),o=go();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Qt(e),i=r.Os.get(n);return void 0!==i?Rn.resolve(r.xs.get(i)):r.Ti.getTargetData(t,n)}(r,e,Gi(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Ms.getDocumentsMatchingQuery(e,t,n?i:wn.min(),n?o:go())).next(e=>(Ws(r,to(t),e),{documents:e,$s:o})))}function Ws(e,t,n){let r=e.Ns.get(t)||wn.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ns.set(t,r)}class Hs{constructor(){this.activeTargetIds=vo()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ks{constructor(){this.xo=new Hs,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Hs,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gs{No(e){}shutdown(){}}const Ys="ConnectivityMonitor";class Xs{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){qt(Ys,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){qt(Ys,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qs=null;function $s(){return null===Qs?Qs=268435456+Math.round(2147483648*Math.random()):Qs++,"0x"+Qs.toString(16)}const Js="RestConnection",Zs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class el{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===Br?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,i){const o=$s(),a=this.jo(e,t.toUriEncodedString());qt(Js,"Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(s,r,i);const{host:l}=new URL(a),c=E(l);return this.Jo(e,a,s,n,c).then(t=>(qt(Js,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw Ht(Js,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t})}Yo(e,t,n,r,i,o){return this.zo(e,t,n,r,i)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}jo(e,t){const n=Zs[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class tl{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const nl="WebChannelConnection";class rl extends el{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=$s();return new Promise((i,a)=>{const s=new Ot;s.setWithCredentials(!0),s.listenOnce(Nt.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case It.NO_ERROR:const t=s.getResponseJson();qt(nl,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(t)),i(t);break;case It.TIMEOUT:qt(nl,"RPC '".concat(e,"' ").concat(o," timed out")),a(new Jt($t.DEADLINE_EXCEEDED,"Request time out"));break;case It.HTTP_ERROR:const n=s.getStatus();if(qt(nl,"RPC '".concat(e,"' ").concat(o," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values($t).indexOf(t)>=0?t:$t.UNKNOWN}(t.status);a(new Jt(e,t.message))}else a(new Jt($t.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Jt($t.UNAVAILABLE,"Connection failed."));break;default:Gt(9055,{h_:e,streamId:o,P_:s.getLastErrorCode(),T_:s.getLastError()})}}finally{qt(nl,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);qt(nl,"RPC '".concat(e,"' ").concat(o," sending request:"),r),s.send(t,"POST",l,n,15)})}I_(e,t,n){const r=$s(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Dt(),a=Pt(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Ho(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");qt(nl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);this.E_(u);let d=!1,h=!1;const f=new tl({Zo:t=>{h?qt(nl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(qt(nl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),qt(nl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Tt.EventType.OPEN,()=>{h||(qt(nl,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.__())}),p(u,Tt.EventType.CLOSE,()=>{h||(h=!0,qt(nl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.u_(),this.d_(u))}),p(u,Tt.EventType.ERROR,t=>{h||(h=!0,Ht(nl,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.u_(new Jt($t.UNAVAILABLE,"The operation could not be completed")))}),p(u,Tt.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];Xt(!!i,16349);const o=i,a=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){qt(nl,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=ta[e];if(void 0!==t)return ia(t)}(t),i=a.message;void 0===n&&(n=$t.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.u_(new Jt(n,i)),u.close()}else qt(nl,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.c_(i)}}),p(a,At.STAT_EVENT,t=>{t.stat===Ct.PROXY?qt(nl,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ct.NOPROXY&&qt(nl,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.a_()},0),f}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function il(){return"undefined"!=typeof document?document:null}function ol(e){return new ka(e,!0)}class al{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&qt("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const sl="PersistentStream";class ll{constructor(e,t,n,r,i,o,a,s){this.xi=e,this.S_=n,this.D_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new al(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===$t.RESOURCE_EXHAUSTED?(Wt(t.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===$t.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)},t=>{e(()=>{const e=new Jt($t.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)})})}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(e=>{n(()=>this.j_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.M_?this.J_(e):this.onNext(e))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return qt(sl,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(qt(sl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cl extends ll{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Gt(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Xt(void 0===t||"string"==typeof t,58123),Or.fromBase64String(t||"")):(Xt(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Or.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?$t.UNKNOWN:ia(e.code);return new Jt(t,e.message||"")}(a);n=new ma(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pa(e,r.document.name),o=Ta(r.document.updateTime),a=r.document.createTime?Ta(r.document.createTime):wn.min(),s=new di({mapValue:{fields:r.document.fields}}),l=fi.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new fa(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Pa(e,r.document),o=r.readTime?Ta(r.readTime):wn.min(),a=fi.newNoDocument(i,o),s=r.removedTargetIds||[];n=new fa([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Pa(e,r.document),o=r.removedTargetIds||[];n=new fa([],o,i,null)}else{if(!("filter"in t))return Gt(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new ea(r,i),a=e.targetId;n=new pa(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return wn.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?wn.min():t.readTime?Ta(t.readTime):wn.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=Ra(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Bi(r)?{documents:Ba(e,r)}:{query:za(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ja(e,t.resumeToken);const r=Ea(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(wn.min())>0){n.readTime=_a(e,t.snapshotVersion.toTimestamp());const r=Ea(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gt(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=Ra(this.serializer),t.removeTarget=e,this.Q_(t)}}class ul extends ll{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(Xt(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Ta(e.updateTime):Ta(t);return n.isEqual(wn.min())&&(n=Ta(t)),new Mo(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Ta(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=Ra(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Fa(this.serializer,e))};this.Q_(t)}}class dl{}class hl extends dl{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new Jt($t.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,a]=i;return this.connection.zo(e,Ia(t,n),r,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Jt($t.UNKNOWN,e.toString())})}Yo(e,t,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[a,s]=o;return this.connection.Yo(e,Ia(t,n),r,a,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Jt($t.UNKNOWN,e.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class fl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(Wt(t),this.ua=!1):qt("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const pl="RemoteStore";class ml{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(e=>{n.enqueueAndForget(async()=>{El(this)&&(qt(pl,"Restarting streams for network reachability change."),await async function(e){const t=Qt(e);t.da.add(4),await yl(t),t.Va.set("Unknown"),t.da.delete(4),await gl(t)}(this))})}),this.Va=new fl(n,r)}}async function gl(e){if(El(e))for(const t of e.Aa)await t(!0)}async function yl(e){for(const t of e.Aa)await t(!1)}function vl(e,t){const n=Qt(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),kl(n)?Sl(n):ql(n).N_()&&wl(n,t))}function bl(e,t){const n=Qt(e),r=ql(n);n.Ea.delete(t),r.N_()&&xl(n,t),0===n.Ea.size&&(r.N_()?r.k_():El(n)&&n.Va.set("Unknown"))}function wl(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ql(e).Z_(t)}function xl(e,t){e.ma.Ke(t),ql(e).X_(t)}function Sl(e){e.ma=new ya({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),ql(e).start(),e.Va.ca()}function kl(e){return El(e)&&!ql(e).O_()&&e.Ea.size>0}function El(e){return 0===Qt(e).da.size}function _l(e){e.ma=void 0}async function jl(e){e.Va.set("Online")}async function Ol(e){e.Ea.forEach((t,n)=>{wl(e,t)})}async function Tl(e,t){_l(e),kl(e)?(e.Va.Pa(t),Sl(e)):e.Va.set("Unknown")}async function Nl(e,t,n){if(e.Va.set("Online"),t instanceof ma&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){qt(pl,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Il(e,n)}else if(t instanceof fa?e.ma.Xe(t):t instanceof pa?e.ma.ot(t):e.ma.nt(t),!n.isEqual(wn.min()))try{const t=await Us(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ea.get(r);i&&e.Ea.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(Or.EMPTY_BYTE_STRING,r.snapshotVersion)),xl(e,t);const i=new Ja(r.target,t,n,r.sequenceNumber);wl(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){qt(pl,"Failed to raise snapshot:",t),await Il(e,t)}}async function Il(e,t,n){if(!Un(t))throw t;e.da.add(1),await yl(e),e.Va.set("Offline"),n||(n=()=>Us(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{qt(pl,"Retrying IndexedDB access"),await n(),e.da.delete(1),await gl(e)})}function Cl(e,t){return t().catch(n=>Il(e,n,t))}async function Al(e){const t=Qt(e),n=Wl(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Bn;for(;Pl(t);)try{const e=await Bs(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,Dl(t,e)}catch(e){await Il(t,e)}Ml(t)&&Rl(t)}function Pl(e){return El(e)&&e.Ia.length<10}function Dl(e,t){e.Ia.push(t);const n=Wl(e);n.N_()&&n.ea&&n.ta(t.mutations)}function Ml(e){return El(e)&&!Wl(e).O_()&&e.Ia.length>0}function Rl(e){Wl(e).start()}async function Ll(e){Wl(e).ia()}async function Ul(e){const t=Wl(e);for(const n of e.Ia)t.ta(n.mutations)}async function Fl(e,t,n){const r=e.Ia.shift(),i=Jo.from(r,t,n);await Cl(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Al(e)}async function Bl(e,t){t&&Wl(e).ea&&await async function(e,t){if(function(e){return ra(e)&&e!==$t.ABORTED}(t.code)){const n=e.Ia.shift();Wl(e).L_(),await Cl(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Al(e)}}(e,t),Ml(e)&&Rl(e)}async function zl(e,t){const n=Qt(e);n.asyncQueue.verifyOperationInProgress(),qt(pl,"RemoteStore received new credentials");const r=El(n);n.da.add(3),await yl(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await gl(n)}async function Vl(e,t){const n=Qt(e);t?(n.da.delete(2),await gl(n)):t||(n.da.add(2),await yl(n),n.Va.set("Unknown"))}function ql(e){return e.fa||(e.fa=function(e,t,n){const r=Qt(e);return r.oa(),new cl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:jl.bind(null,e),n_:Ol.bind(null,e),i_:Tl.bind(null,e),Y_:Nl.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),kl(e)?Sl(e):e.Va.set("Unknown")):(await e.fa.stop(),_l(e))})),e.fa}function Wl(e){return e.ga||(e.ga=function(e,t,n){const r=Qt(e);return r.oa(),new ul(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:Ll.bind(null,e),i_:Bl.bind(null,e),na:Ul.bind(null,e),ra:Fl.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Al(e)):(await e.ga.stop(),e.Ia.length>0&&(qt(pl,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))})),e.ga}class Hl{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new Hl(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jt($t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kl(e,t){if(Wt("AsyncQueue","".concat(t,": ").concat(e)),Un(e))return new Jt($t.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Gl{static emptySet(e){return new Gl(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||jn.comparator(t.key,n.key):(e,t)=>jn.comparator(e.key,t.key),this.keyedMap=lo(),this.sortedSet=new wr(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gl))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Gl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Yl{constructor(){this.pa=new wr(jn.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Gt(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Xl{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Xl(e,t,Gl.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$i(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ql{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class $l{constructor(){this.queries=Jl(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Qt(e),r=n.queries;n.queries=Jl(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Jt($t.ABORTED,"Firestore shutting down"))}}function Jl(){return new io(e=>Ji(e),$i)}async function Zl(e,t){const n=Qt(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Da()&&t.va()&&(r=2):(o=new Ql,r=t.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(i,!0);break;case 1:o.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Kl(e,"Initialization of query '".concat(Zi(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Sa.push(t),t.Fa(n.onlineState),o.ba&&t.Ma(o.ba)&&rc(n)}async function ec(e,t){const n=Qt(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.va()?0:1:!o.Da()&&t.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tc(e,t){const n=Qt(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(i)&&(r=!0);t.ba=i}}r&&rc(n)}function nc(e,t,n){const r=Qt(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function rc(e){e.Ca.forEach(e=>{e.next()})}var ic,oc;(oc=ic||(ic={})).xa="default",oc.Cache="cache";class ac{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Xl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ic.Cache}}class sc{constructor(e){this.key=e}}class lc{constructor(e){this.key=e}}class cc{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=go(),this.mutatedKeys=go(),this.Za=no(e),this.Xa=new Gl(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new Yl,r=t?t.Xa:this.Xa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=eo(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Za(u,s)>0||l&&this.Za(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Xa:o,nu:n,Cs:a,mutatedKeys:i}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc)),this.iu(n),r=null!=r&&r;const a=t&&!r?this.su():[],s=0===this.Ya.size&&this.current&&!r?1:0,l=s!==this.Ja;return this.Ja=s,0!==o.length||l?{snapshot:new Xl(this.query,e.Xa,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Yl,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=go(),this.Xa.forEach(e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new lc(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new sc(n))}),t}au(e){this.Ha=e.$s,this.Ya=go();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Xl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const uc="SyncEngine";class dc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class hc{constructor(e){this.key=e,this.cu=!1}}class fc{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new io(e=>Ji(e),$i),this.Pu=new Map,this.Tu=new Set,this.Iu=new wr(jn.comparator),this.Eu=new Map,this.du=new xs,this.Au={},this.Ru=new Map,this.Vu=ss.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function pc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Mc(e);let i;const o=r.hu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await gc(r,t,n,!0),i}async function mc(e,t){const n=Mc(e);await gc(n,t,!0,!1)}async function gc(e,t,n,r){const i=await zs(e.localStore,Gi(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await yc(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&vl(e.remoteStore,i),s}async function yc(e,t,n,r,i){e.fu=(t,n,r)=>async function(e,t,n,r){let i=t.view.tu(n);i.Cs&&(i=await qs(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.tu(n,i)}));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return Nc(e,t.targetId,s.ou),s.snapshot}(e,t,n,r);const o=await qs(e.localStore,t,!0),a=new cc(t,o.$s),s=a.tu(o.documents),l=ha.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);Nc(e,n,c.ou);const u=new dc(t,n,a);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function vc(e,t,n){const r=Qt(e),i=r.hu.get(t),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(e=>!$i(e,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vs(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bl(r.remoteStore,i.targetId),Oc(r,i.targetId)}).catch(Mn)):(Oc(r,i.targetId),await Vs(r.localStore,i.targetId,!0))}async function bc(e,t){const n=Qt(e),r=n.hu.get(t),i=n.Pu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bl(n.remoteStore,r.targetId))}async function wc(e,t){const n=Qt(e);try{const e=await function(e,t){const n=Qt(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];t.targetChanges.forEach((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Ti.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.Ti.addMatchingKeys(e,o.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Or.EMPTY_BYTE_STRING,wn.min()).withLastLimboFreeSnapshotVersion(wn.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&a.push(n.Ti.updateTargetData(e,c))});let s=ao(),l=go();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Fs(e,o,t.documentUpdates).next(e=>{s=e.qs,l=e.Qs})),!r.isEqual(wn.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next(t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Rn.waitFor(a).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.xs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(Xt(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?Xt(r.cu,14607):e.removedDocuments.size>0&&(Xt(r.cu,42227),r.cu=!1))}),await Ac(n,e,t)}catch(e){await Mn(e)}}function xc(e,t,n){const r=Qt(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach((n,r)=>{const i=r.view.Fa(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Qt(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.Fa(t)&&(r=!0)}),r&&rc(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Sc(e,t,n){const r=Qt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),o=i&&i.key;if(o){let e=new wr(jn.comparator);e=e.insert(o,fi.newNoDocument(o,wn.min()));const n=go().add(o),i=new da(wn.min(),new Map,new wr(hn),e,n);await wc(r,i),r.Iu=r.Iu.remove(o),r.Eu.delete(t),Cc(r)}else await Vs(r.localStore,t,!1).then(()=>Oc(r,t,n)).catch(Mn)}async function kc(e,t){const n=Qt(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Qt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Rn.resolve();return o.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);Xt(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=go();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);jc(n,r,null),_c(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ac(n,e)}catch(e){await Mn(e)}}async function Ec(e,t,n){const r=Qt(e);try{const e=await function(e,t){const n=Qt(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Xt(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);jc(r,t,n),_c(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ac(r,e)}catch(n){await Mn(n)}}function _c(e,t){(e.Ru.get(t)||[]).forEach(e=>{e.resolve()}),e.Ru.delete(t)}function jc(e,t,n){const r=Qt(e);let i=r.Au[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Au[r.currentUser.toKey()]=i}}function Oc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(t=>{e.du.containsKey(t)||Tc(e,t)})}function Tc(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(bl(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Cc(e))}function Nc(e,t,n){for(const r of n)r instanceof sc?(e.du.addReference(r.key,t),Ic(e,r)):r instanceof lc?(qt(uc,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||Tc(e,r.key)):Gt(19791,{pu:r})}function Ic(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(qt(uc,"New document in limbo: "+n),e.Tu.add(r),Cc(e))}function Cc(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new jn(kn.fromString(t)),r=e.Vu.next();e.Eu.set(r,new hc(n)),e.Iu=e.Iu.insert(n,r),vl(e.remoteStore,new Ja(Gi(qi(n.path)),r,"TargetPurposeLimboResolution",Fn.le))}}async function Ac(e,t,n){const r=Qt(e),i=[],o=[],a=[];r.hu.isEmpty()||(r.hu.forEach((e,s)=>{a.push(r.fu(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Cs.Rs(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.lu.Y_(i),await async function(e,t){const n=Qt(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Rn.forEach(t,t=>Rn.forEach(t.ds,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Rn.forEach(t.As,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Un(e))throw e;qt(Ds,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,i)}}}(r.localStore,o))}async function Pc(e,t){const n=Qt(e);if(!n.currentUser.isEqual(t)){qt(uc,"User change. New user:",t.toKey());const e=await Ls(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach(e=>{e.forEach(e=>{e.reject(new Jt($t.CANCELLED,t))})}),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ac(n,e.ks)}}function Dc(e,t){const n=Qt(e),r=n.Eu.get(t);if(r&&r.cu)return go().add(r.key);{let e=go();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function Mc(e){const t=Qt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sc.bind(null,t),t.lu.Y_=tc.bind(null,t.eventManager),t.lu.gu=nc.bind(null,t.eventManager),t}function Rc(e){const t=Qt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kc.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ec.bind(null,t),t}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ol(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return Rs(this.persistence,new Ps,e.initialUser,this.serializer)}Su(e){return new Os(Ns.fi,this.serializer)}bu(e){return new Ks}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class Uc extends Lc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Xt(this.persistence.referenceDelegate instanceof Is,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new hs(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?as.withCacheSize(this.cacheSizeBytes):as.DEFAULT;return new Os(e=>Is.fi(e,t),this.serializer)}}class Fc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>xc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pc.bind(null,this.syncEngine),await Vl(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $l}createDatastore(e){const t=ol(e.databaseInfo.databaseId),n=function(e){return new rl(e)}(e.databaseInfo);return function(e,t,n,r){return new hl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ml(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>xc(this.syncEngine,e,0),Xs.C()?new Xs:new Gs)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new fc(e,t,n,r,i,o);return a&&(s.mu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Qt(e);qt(pl,"RemoteStore shutting down."),t.da.add(5),await yl(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Fc.provider={build:()=>new Fc};class Bc{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const zc="FirestoreClient";class Vc{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ft.UNAUTHENTICATED,this.clientId=dn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{qt(zc,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(qt(zc,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Kl(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function qc(e,t){e.asyncQueue.verifyOperationInProgress(),qt(zc,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ls(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Wc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Hc(e);qt(zc,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>zl(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>zl(t.remoteStore,n)),e._onlineComponents=t}async function Hc(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){qt(zc,"Using user provided OfflineComponentProvider");try{await qc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===$t.FAILED_PRECONDITION||e.code===$t.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ht("Error using user provided cache. Falling back to memory cache: "+n),await qc(e,new Lc)}}else qt(zc,"Using default OfflineComponentProvider"),await qc(e,new Uc(void 0));return e._offlineComponents}async function Kc(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(qt(zc,"Using user provided OnlineComponentProvider"),await Wc(e,e._uninitializedComponentsProvider._online)):(qt(zc,"Using default OnlineComponentProvider"),await Wc(e,new Fc))),e._onlineComponents}function Gc(e){return Kc(e).then(e=>e.syncEngine)}async function Yc(e){const t=await Kc(e),n=t.eventManager;return n.onListen=pc.bind(null,t.syncEngine),n.onUnlisten=vc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bc.bind(null,t.syncEngine),n}function Xc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Zt;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new Bc({next:s=>{o.xu(),t.enqueueAndForget(()=>ec(e,a));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new Jt($t.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new Jt($t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new ac(qi(n.path),o,{includeMetadataChanges:!0,Qa:!0});return Zl(e,a)}(await Yc(e),e.asyncQueue,t,n,r)),r.promise}function Qc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Zt;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new Bc({next:n=>{o.xu(),t.enqueueAndForget(()=>ec(e,a)),n.fromCache&&"server"===r.source?i.reject(new Jt($t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new ac(n,o,{includeMetadataChanges:!0,Qa:!0});return Zl(e,a)}(await Yc(e),e.asyncQueue,t,n,r)),r.promise}function $c(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Jc=new Map;function Zc(e,t,n){if(!n)throw new Jt($t.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function eu(e){if(!jn.isDocumentKey(e))throw new Jt($t.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function tu(e){if(jn.isDocumentKey(e))throw new Jt($t.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function nu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Gt(12329,{type:typeof e})}function ru(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Jt($t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nu(e);throw new Jt($t.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function iu(e,t){if(t<=0)throw new Jt($t.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}const ou="firestore.googleapis.com",au=!0;class su{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Jt($t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ou,this.ssl=au}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:au;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=os;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<cs)throw new Jt($t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Jt($t.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$c(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Jt($t.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Jt($t.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Jt($t.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new su({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Jt($t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Jt($t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new su(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new tn;switch(e.type){case"firstParty":return new an(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Jt($t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jc.get(e);t&&(qt("ComponentProvider","Removing Datastore"),Jc.delete(e),t.terminate())}(this),Promise.resolve()}}class cu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new cu(this.firestore,e,this._query)}}class uu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uu(this.firestore,e,this._key)}}class du extends cu{constructor(e,t,n){super(e,t,qi(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uu(this.firestore,null,new jn(e))}withConverter(e){return new du(this.firestore,e,this._path)}}function hu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=G(e),Zc("collection","path",t),e instanceof lu){const n=kn.fromString(t,...r);return tu(n),new du(e,null,n)}{if(!(e instanceof uu||e instanceof du))throw new Jt($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(kn.fromString(t,...r));return tu(n),new du(e.firestore,null,n)}}function fu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=G(e),1===arguments.length&&(t=dn.newId()),Zc("doc","path",t),e instanceof lu){const n=kn.fromString(t,...r);return eu(n),new uu(e,null,new jn(n))}{if(!(e instanceof uu||e instanceof du))throw new Jt($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(kn.fromString(t,...r));return eu(n),new uu(e.firestore,e instanceof du?e.converter:null,new jn(n))}}const pu="AsyncQueue";class mu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new al(this,"async_queue_retry"),this.rc=()=>{const e=il();e&&qt(pu,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=il();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=il();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Zt;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Un(e))throw e;qt(pu,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(e=>{throw this.Xu=e,this.ec=!1,Wt("INTERNAL UNHANDLED ERROR: ",gu(e)),e}).then(e=>(this.ec=!1,e))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=Hl.createAndSchedule(this,e,t,n,e=>this.uc(e));return this.Zu.push(r),r}oc(){this.Xu&&Gt(47125,{cc:gu(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function gu(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function yu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class vu extends lu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new mu,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mu(e),this._firestoreClient=void 0,await e}}}function bu(e){if(e._terminated)throw new Jt($t.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||wu(e),e._firestoreClient}function wu(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Fr(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,$c(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Vc(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class xu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xu(Or.fromBase64String(e))}catch(e){throw new Jt($t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new xu(Or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Su{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Jt($t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ku{constructor(e){this._methodName=e}}class Eu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Jt($t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Jt($t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hn(this._lat,e._lat)||hn(this._long,e._long)}}class _u{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const ju=/^__.*__$/;class Ou{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ho(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wo(e,this.data,t,this.fieldTransforms)}}class Tu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ho(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Nu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt(40011,{Ic:e})}}class Iu{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Iu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ku(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(Nu(this.Ic)&&ju.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Cu{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ol(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Iu({Ic:e,methodName:t,wc:n,path:_n.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Au(e){const t=e._freezeSettings(),n=ol(e._databaseId);return new Cu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Pu(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.bc(o.merge||o.mergeFields?2:0,t,n,i);Vu("Data must be an object, but it was:",a,r);const s=Bu(r,a);let l,c;if(o.merge)l=new _r(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=qu(t,r,n);if(!a.contains(i))throw new Jt($t.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Gu(e,i)||e.push(i)}l=new _r(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Ou(new di(s),l,c)}class Du extends ku{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Du}}class Mu extends ku{_toFieldTransform(e){return new Do(e.path,new jo)}isEqual(e){return e instanceof Mu}}function Ru(e,t,n,r){const i=e.bc(1,t,n);Vu("Data must be an object, but it was:",i,r);const o=[],a=di.empty();vr(r,(e,r)=>{const s=Hu(t,e,n);r=G(r);const l=i.mc(s);if(r instanceof Du)o.push(s);else{const e=Fu(r,l);null!=e&&(o.push(s),a.set(s,e))}});const s=new _r(o);return new Tu(a,s,i.fieldTransforms)}function Lu(e,t,n,r,i,o){const a=e.bc(1,t,n),s=[qu(t,r,n)],l=[i];if(o.length%2!=0)throw new Jt($t.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)s.push(qu(t,o[h])),l.push(o[h+1]);const c=[],u=di.empty();for(let h=s.length-1;h>=0;--h)if(!Gu(c,s[h])){const e=s[h];let t=l[h];t=G(t);const n=a.mc(e);if(t instanceof Du)c.push(e);else{const r=Fu(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new _r(c);return new Tu(u,d,a.fieldTransforms)}function Uu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fu(n,e.bc(r?4:3,t))}function Fu(e,t){if(zu(e=G(e)))return Vu("Unsupported field value:",t,e),Bu(e,t);if(e instanceof ku)return function(e,t){if(!Nu(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Fu(i,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=G(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xo(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=bn.fromDate(e);return{timestampValue:_a(t.serializer,n)}}if(e instanceof bn){const n=new bn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_a(t.serializer,n)}}if(e instanceof Eu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof xu)return{bytesValue:ja(t.serializer,e._byteString)};if(e instanceof uu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Na(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof _u)return function(e,t){return{mapValue:{fields:{[Vr]:{stringValue:Hr},[Kr]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return bo(t.serializer,e)})}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(nu(e)))}(e,t)}function Bu(e,t){const n={};return br(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vr(e,(e,r)=>{const i=Fu(r,t.Ac(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function zu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bn||e instanceof Eu||e instanceof xu||e instanceof uu||e instanceof ku||e instanceof _u)}function Vu(e,t,n){if(!zu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=nu(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function qu(e,t,n){if((t=G(t))instanceof Su)return t._internalPath;if("string"==typeof t)return Hu(e,t);throw Ku("Field path arguments must be of type string or ",e,!1,void 0,n)}const Wu=new RegExp("[~\\*/\\[\\]]");function Hu(e,t,n){if(t.search(Wu)>=0)throw Ku("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Su(...t.split("."))._internalPath}catch(Pw){throw Ku("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ku(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Jt($t.INVALID_ARGUMENT,s+e+l)}function Gu(e,t){return e.some(e=>e.isEqual(t))}class Yu{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new uu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xu extends Yu{data(){return super.data()}}function Qu(e,t){return"string"==typeof t?Hu(e,t):t instanceof Su?t._internalPath:t._delegate._internalPath}function $u(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Jt($t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ju{}class Zu extends Ju{}function ed(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Ju&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof rd).length,n=e.filter(e=>e instanceof td).length;if(t>1||t>0&&n>0)throw new Jt($t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class td extends Zu{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new td(e,t,n)}_apply(e){const t=this._parse(e);return cd(e._query,t),new cu(e.firestore,e.converter,Xi(e._query,t))}_parse(e){const t=Au(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Jt($t.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){ld(a,o);const t=[];for(const n of a)t.push(sd(r,e,n));s={arrayValue:{values:t}}}else s=sd(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ld(a,o),s=Uu(n,t,a,"in"===o||"not-in"===o);return wi.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function nd(e,t,n){const r=t,i=Qu("where",e);return td._create(i,r,n)}class rd extends Ju{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rd(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:xi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)cd(n,i),n=Xi(n,i)}(e._query,t),new cu(e.firestore,e.converter,Xi(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class id extends Zu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new id(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Jt($t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Jt($t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yi(t,n)}(e._query,this._field,this._direction);return new cu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new zi(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function od(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Qu("orderBy",e);return id._create(n,t)}class ad extends Zu{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new ad(e,t,n)}_apply(e){return new cu(e.firestore,e.converter,Qi(e._query,this._limit,this._limitType))}}function sd(e,t,n){if("string"==typeof(n=G(n))){if(""===n)throw new Jt($t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hi(t)&&-1!==n.indexOf("/"))throw new Jt($t.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(kn.fromString(n));if(!jn.isDocumentKey(r))throw new Jt($t.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ni(e,new jn(r))}if(n instanceof uu)return ni(e,n._key);throw new Jt($t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(nu(n),"."))}function ld(e,t){if(!Array.isArray(e)||0===e.length)throw new Jt($t.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function cd(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Jt($t.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Jt($t.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class ud{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Gt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return vr(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Kr].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Ir(e.doubleValue));return new _u(i)}convertGeoPoint(e){return new Eu(Ir(e.latitude),Ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Lr(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ur(e));default:return null}}convertTimestamp(e){const t=Nr(e);return new bn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=kn.fromString(e);Xt($a(n),9688,{name:e});const r=new zr(n.get(1),n.get(3)),i=new jn(n.popFirst(5));return r.isEqual(t)||Wt("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function dd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class hd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fd extends Yu{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Qu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class pd extends fd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class md{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new pd(this._firestore,this._userDataWriter,n.key,n,new hd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Jt($t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new pd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new hd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new pd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:gd(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function gd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt(61501,{type:e})}}function yd(e){e=ru(e,uu);const t=ru(e.firestore,vu);return Xc(bu(t),e._key).then(n=>jd(t,e,n))}class vd extends ud{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uu(this.firestore,null,t)}}function bd(e){e=ru(e,cu);const t=ru(e.firestore,vu),n=bu(t),r=new vd(t);return $u(e._query),Qc(n,e._query).then(n=>new md(t,r,e,n))}function wd(e,t,n){e=ru(e,uu);const r=ru(e.firestore,vu),i=dd(e.converter,t,n);return _d(r,[Pu(Au(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ro.none())])}function xd(e,t,n){e=ru(e,uu);const r=ru(e.firestore,vu),i=Au(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=G(t))||t instanceof Su?Lu(i,"updateDoc",e._key,t,n,s):Ru(i,"updateDoc",e._key,t),_d(r,[o.toMutation(e._key,Ro.exists(!0))])}function Sd(e){return _d(ru(e.firestore,vu),[new Xo(e._key,Ro.none())])}function kd(e,t){const n=ru(e.firestore,vu),r=fu(e),i=dd(e.converter,t);return _d(n,[Pu(Au(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ro.exists(!1))]).then(()=>r)}function Ed(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=G(e);let s={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||yu(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(yu(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof uu)d=ru(e.firestore,vu),h=qi(e._key.path),u={next:t=>{n[l]&&n[l](jd(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=ru(e,cu);d=ru(t.firestore,vu),h=t._query;const r=new vd(d);u={next:e=>{n[l]&&n[l](new md(d,r,t,e))},error:n[l+1],complete:n[l+2]},$u(e._query)}return function(e,t,n,r){const i=new Bc(r),o=new ac(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Zl(await Yc(e),o)),()=>{i.xu(),e.asyncQueue.enqueueAndForget(async()=>ec(await Yc(e),o))}}(bu(d),h,c,u)}function _d(e,t){return function(e,t){const n=new Zt;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Rc(e);try{const e=await function(e,t){const n=Qt(e),r=bn.now(),i=t.reduce((e,t)=>e.add(t.key),go());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=ao(),l=go();return n.Bs.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=Vo(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Ho(e.key,t,hi(t.value.mapValue),Ro.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:co(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new wr(hn)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ac(r,e.changes),await Al(r.remoteStore)}catch(e){const t=Kl(e,"Failed to persist write");n.reject(t)}}(await Gc(e),t,n)),n.promise}(bu(e),t)}function jd(e,t,n){const r=n.docs.get(t._key),i=new vd(e);return new fd(e,i,t._key,r,new hd(n.hasPendingWrites,n.fromCache),t.converter)}function Od(){return new Mu("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Bt=e}(ct),it(new Y("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new vu(new rn(e.getProvider("auth-internal")),new ln(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Jt($t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zr(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ht(Lt,Ut,e),ht(Lt,Ut,"esm2017")}();function Td(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Nd(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(e=>Nd(e));if("function"===typeof e||"object"===typeof e)return Td(e,e=>Nd(e));throw new Error("Data cannot be encoded in JSON: "+e)}function Id(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(e=>Id(e)):"function"===typeof e||"object"===typeof e?Td(e,e=>Id(e)):e}const Cd="functions",Ad={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pd extends R{constructor(e,t,n){super("".concat(Cd,"/").concat(e),t||""),this.details=n,Object.setPrototypeOf(this,Pd.prototype)}}function Dd(e,t){let n,r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r;try{const e=t&&t.error;if(e){const t=e.status;if("string"===typeof t){if(!Ad[t])return new Pd("internal","internal");r=Ad[t],i=t}const o=e.message;"string"===typeof o&&(i=o),n=e.details,void 0!==n&&(n=Id(n))}}catch(o){}return"ok"===r?null:new Pd(r,i,n)}class Md{constructor(e,t,n,r){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,at(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(e=>this.auth=e,()=>{}),this.messaging||n.get().then(e=>this.messaging=e,()=>{}),this.appCheck||null===r||void 0===r||r.get().then(e=>this.appCheck=e,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const Rd="us-central1",Ld=/^data: (.*?)(?:\n|$)/;class Ud{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rd,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return fetch(...arguments)};this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Md(e,t,n,r),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{const e=new URL(i);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=Rd}catch(a){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}function Fd(e,t,n){const r=r=>function(e,t,n,r){const i=e._url(t);return Vd(e,i,n,r)}(e,t,r,n||{});return r.stream=(n,r)=>function(e,t,n,r){const i=e._url(t);return qd(e,i,n,r||{})}(e,t,n,r),r}async function Bd(e,t,n,r){let i;n["Content-Type"]="application/json";try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(a){return{status:0,json:null}}let o=null;try{o=await i.json()}catch(a){}return{status:i.status,json:o}}async function zd(e,t){const n={},r=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),null!==r.appCheckToken&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}async function Vd(e,t,n,r){const i={data:n=Nd(n)},o=await zd(e,r),a=function(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new Pd("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}(r.timeout||7e4),s=await Promise.race([Bd(t,i,o,e.fetchImpl),a.promise,e.cancelAllRequests]);if(a.cancel(),!s)throw new Pd("cancelled","Firebase Functions instance was deleted.");const l=Dd(s.status,s.json);if(l)throw l;if(!s.json)throw new Pd("internal","Response is not valid JSON object.");let c=s.json.data;if("undefined"===typeof c&&(c=s.json.result),"undefined"===typeof c)throw new Pd("internal","Response is missing data field.");return{data:Id(c)}}async function qd(e,t,n,r){var i;const o={data:n=Nd(n)},a=await zd(e,r);let s,l,c;a["Content-Type"]="application/json",a.Accept="text/event-stream";try{s=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(o),headers:a,signal:null===r||void 0===r?void 0:r.signal})}catch(h){if(h instanceof Error&&"AbortError"===h.name){const e=new Pd("cancelled","Request was cancelled.");return{data:Promise.reject(e),stream:{[Symbol.asyncIterator]:()=>({next:()=>Promise.reject(e)})}}}const e=Dd(0,null);return{data:Promise.reject(e),stream:{[Symbol.asyncIterator]:()=>({next:()=>Promise.reject(e)})}}}const u=new Promise((e,t)=>{l=e,c=t});null===(i=null===r||void 0===r?void 0:r.signal)||void 0===i||i.addEventListener("abort",()=>{const e=new Pd("cancelled","Request was cancelled.");c(e)});const d=function(e,t,n,r){const i=(e,r)=>{const i=e.match(Ld);if(!i)return;const o=i[1];try{const e=JSON.parse(o);if("result"in e)return void t(Id(e.result));if("message"in e)return void r.enqueue(Id(e.message));if("error"in e){const t=Dd(0,e);return r.error(t),void n(t)}}catch(a){if(a instanceof Pd)return r.error(a),void n(a)}},o=new TextDecoder;return new ReadableStream({start(t){let a="";return s();async function s(){if(null===r||void 0===r?void 0:r.aborted){const e=new Pd("cancelled","Request was cancelled");return t.error(e),n(e),Promise.resolve()}try{const{value:l,done:c}=await e.read();if(c)return a.trim()&&i(a.trim(),t),void t.close();if(null===r||void 0===r?void 0:r.aborted){const r=new Pd("cancelled","Request was cancelled");return t.error(r),n(r),void await e.cancel()}a+=o.decode(l,{stream:!0});const u=a.split("\n");a=u.pop()||"";for(const e of u)e.trim()&&i(e.trim(),t);return s()}catch(l){const e=l instanceof Pd?l:Dd(0,null);t.error(e),n(e)}}},cancel:()=>e.cancel()})}(s.body.getReader(),l,c,null===r||void 0===r?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const e=d.getReader();return{async next(){const{value:t,done:n}=await e.read();return{value:t,done:n}},return:async()=>(await e.cancel(),{done:!0,value:void 0})}}},data:u}}const Wd="@firebase/functions",Hd="0.12.8";function Kd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rd;const n=ot(G(e),Cd).getImmediate({identifier:t}),r=w("functions");return r&&function(e,t,n){!function(e,t,n){const r=E(t);e.emulatorOrigin="http".concat(r?"s":"","://").concat(t,":").concat(n),r&&(_(e.emulatorOrigin),N("Functions",!0))}(G(e),t,n)}(n,...r),n}function Gd(e,t,n){return Fd(G(e),t,n)}!function(e){it(new Y(Cd,(e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("messaging-internal"),a=e.getProvider("app-check-internal");return new Ud(r,i,o,a,n)},"PUBLIC").setMultipleInstances(!0)),ht(Wd,Hd,e),ht(Wd,Hd,"esm2017")}();function Yd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Xd(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qd=Xd,$d=new L("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jd=new ie("@firebase/auth");function Zd(e){if(Jd.logLevel<=Z.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Jd.error("Auth (".concat(ct,"): ").concat(e),...n)}}function eh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw oh(e,...n)}function th(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return oh(e,...n)}function nh(e,t,n){const r=Object.assign(Object.assign({},Qd()),{[t]:n});return new L("auth","Firebase",r).create(t,{appName:e.name})}function rh(e){return nh(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ih(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&eh(e,"argument-error"),nh(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function oh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return $d.create(e,...n)}function ah(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw oh(t,...r)}}function sh(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Zd(t),new Error(t)}function lh(e,t){e||sh(t)}function ch(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function uh(){return"http:"===dh()||"https:"===dh()}function dh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class hh{constructor(e,t){this.shortDelay=e,this.longDelay=t,lh(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(I())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(uh()||A()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function fh(e,t){lh(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ph{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void sh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void sh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void sh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gh=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yh=new hh(3e4,6e4);function vh(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function bh(e,t,n,r){return wh(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=z(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&E(e.emulatorConfig.host)&&(l.credentials="include"),ph.fetch()(await Sh(e,e.config.apiHost,n,a),l)})}async function wh(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},mh),t);try{const t=new Eh(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw _h(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw _h(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw _h(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw _h(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw nh(e,s,a);eh(e,s)}}catch(i){if(i instanceof R)throw i;eh(e,"network-request-failed",{message:String(i)})}}async function xh(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await bh(e,t,n,r,i);return"mfaPendingCredential"in o&&eh(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function Sh(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,a=o.config.emulator?fh(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(gh.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(a).toString()}return a}function kh(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Eh{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(th(this.auth,"network-request-failed")),yh.get())})}}function _h(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=th(e,t,r);return i.customData._tokenResponse=n,i}function jh(e){return void 0!==e&&void 0!==e.enterprise}class Oh{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kh(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Th(e,t){return bh(e,"GET","/v2/recaptchaConfig",vh(e,t))}async function Nh(e,t){return bh(e,"POST","/v1/accounts:lookup",t)}function Ih(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Ch(e){return 1e3*Number(e)}function Ah(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{const e=g(n);return e?JSON.parse(e):(Zd("Failed to decode base64 JWT payload"),null)}catch(i){return Zd("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Ph(e){const t=Ah(e);return ah(t,"internal-error"),ah("undefined"!==typeof t.exp,"internal-error"),ah("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Dh(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof R&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Mh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Rh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ih(this.lastLoginAt),this.creationTime=Ih(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lh(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Dh(e,Nh(n,{idToken:r}));ah(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Uh(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Rh(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Uh(e){return e.map(e=>{var{providerId:t}=e,n=Yd(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Fh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ah(e.idToken,"internal-error"),ah("undefined"!==typeof e.idToken,"internal-error"),ah("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Ph(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ah(0!==e.length,"internal-error");const t=Ph(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(ah(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await wh(e,{},async()=>{const n=z({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await Sh(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:a,body:n};return e.emulatorConfig&&E(e.emulatorConfig.host)&&(s.credentials="include"),ph.fetch()(o,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Fh;return n&&(ah("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(ah("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(ah("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fh,this.toJSON())}_performRefresh(){return sh("not implemented")}}function Bh(e,t){ah("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class zh{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Yd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Rh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Dh(this,this.stsTokenManager.getToken(this.auth,e));return ah(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=G(e),r=await n.getIdToken(t),i=Ah(r);ah(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ih(Ch(i.auth_time)),issuedAtTime:Ih(Ch(i.iat)),expirationTime:Ih(Ch(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=G(e);await Lh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ah(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ah(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Lh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(at(this.auth.app))return Promise.reject(rh(this.auth));const e=await this.getIdToken();return await Dh(this,async function(e,t){return bh(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;ah(v&&S,e,"internal-error");const k=Fh.fromJSON(this.name,S);ah("string"===typeof v,e,"internal-error"),Bh(u,e.name),Bh(d,e.name),ah("boolean"===typeof b,e,"internal-error"),ah("boolean"===typeof w,e,"internal-error"),Bh(h,e.name),Bh(f,e.name),Bh(p,e.name),Bh(m,e.name),Bh(g,e.name),Bh(y,e.name);const E=new zh({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map(e=>Object.assign({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Fh;r.updateFromServerResponse(t);const i=new zh({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Lh(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];ah(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Uh(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Fh;a.updateFromIdToken(n);const s=new zh({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Rh(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Vh=new Map;function qh(e){lh(e instanceof Function,"Expected a class definition");let t=Vh.get(e);return t?(lh(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Vh.set(e,t),t)}class Wh{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Wh.type="NONE";const Hh=Wh;function Kh(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Gh{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Kh(this.userKey,r.apiKey,i),this.fullPersistenceKey=Kh("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Nh(this.auth,{idToken:e}).catch(()=>{});return t?zh._fromGetAccountInfoResponse(this.auth,t,e):null}return zh._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Gh(qh(Hh),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||qh(Hh);const o=Kh(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await Nh(e,{idToken:t}).catch(()=>{});if(!r)break;n=await zh._fromGetAccountInfoResponse(e,r,t)}else n=zh._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(l){}})),new Gh(i,e,n)):new Gh(i,e,n)}}function Yh(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xh(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ef(t))return"Blackberry";if(tf(t))return"Webos";if(Qh(t))return"Safari";if((t.includes("chrome/")||$h(t))&&!t.includes("edge/"))return"Chrome";if(Zh(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Xh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/firefox\//i.test(e)}function Qh(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:I()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/crios\//i.test(e)}function Jh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/iemobile/i.test(e)}function Zh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/android/i.test(e)}function ef(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/blackberry/i.test(e)}function tf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/webos/i.test(e)}function nf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function rf(){return function(){const e=I();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function of(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return nf(e)||Zh(e)||tf(e)||ef(e)||/windows phone/i.test(e)||Jh(e)}function af(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Yh(I());break;case"Worker":t="".concat(Yh(I()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ct,"/").concat(r)}class sf{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class lf{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class cf{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new df(this),this.idTokenSubscription=new df(this),this.beforeStateQueue=new sf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$d,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qh(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Gh.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Nh(this,{idToken:e}),n=await zh._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(at(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ah(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(at(this.app))return Promise.reject(rh(this));const t=e?G(e):null;return t&&ah(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ah(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return at(this.app)?Promise.reject(rh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return at(this.app)?Promise.reject(rh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qh(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return bh(e,"GET","/v2/passwordPolicy",vh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new lf(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new L("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return bh(e,"POST","/v2/accounts:revokeToken",vh(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qh(e)||this._popupRedirectResolver;ah(t,this,"argument-error"),this.redirectPersistenceManager=await Gh.create(this,[qh(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ah(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ah(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=af(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(at(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Jd.logLevel<=Z.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Jd.warn("Auth (".concat(ct,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function uf(e){return G(e)}class df{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new W(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return ah(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ff(e){return hf.loadJS(e)}function pf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class mf{constructor(){this.enterprise=new gf}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gf{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yf="NO_RECAPTCHA";class vf{constructor(e){this.type="recaptcha-enterprise",this.auth=uf(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;jh(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(yf)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new mf).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Th(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Oh(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&jh(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=hf.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ff(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function bf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new vf(e);let a;if(i)a=yf;else try{a=await o.verify(n)}catch(l){a=await o.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function wf(e,t,n,r,i){var o,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await bf(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await bf(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await bf(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await bf(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await bf(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function xf(e){const t=uf(e),n=await Th(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Oh(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new vf(t).verify()}}function Sf(e,t,n){const r=uf(e);ah(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=kf(t),{host:a,port:s}=function(e){const t=kf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ef(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ef(t)}}}(t),l=null===s?"":":".concat(s),c={url:"".concat(o,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return ah(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void ah(F(c,r.config.emulator)&&F(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,E(a)?(_("".concat(o,"//").concat(a).concat(l)),N("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function kf(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ef(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class _f{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sh("not implemented")}_getIdTokenResponse(e){return sh("not implemented")}_linkToIdToken(e,t){return sh("not implemented")}_getReauthenticationResolver(e){return sh("not implemented")}}async function jf(e,t){return bh(e,"POST","/v1/accounts:signUp",t)}async function Of(e,t){return xh(e,"POST","/v1/accounts:signInWithPassword",vh(e,t))}class Tf extends _f{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Tf(e,t,"password")}static _fromEmailAndCode(e,t){return new Tf(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return wf(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Of,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return xh(e,"POST","/v1/accounts:signInWithEmailLink",vh(e,t))}(e,{email:this._email,oobCode:this._password});default:eh(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return wf(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jf,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return xh(e,"POST","/v1/accounts:signInWithEmailLink",vh(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:eh(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Nf(e,t){return xh(e,"POST","/v1/accounts:signInWithIdp",vh(e,t))}class If extends _f{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new If(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):eh("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Yd(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new If(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Nf(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Nf(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nf(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=z(t)}return e}}async function Cf(e,t){return bh(e,"POST","/v1/accounts:sendVerificationCode",vh(e,t))}const Af={USER_NOT_FOUND:"user-not-found"};class Pf extends _f{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Pf({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Pf({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return xh(e,"POST","/v1/accounts:signInWithPhoneNumber",vh(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await xh(e,"POST","/v1/accounts:signInWithPhoneNumber",vh(e,t));if(n.temporaryProof)throw _h(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return xh(e,"POST","/v1/accounts:signInWithPhoneNumber",vh(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Af)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Pf({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Df{constructor(e){var t,n,r,i,o,a;const s=V(q(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);ah(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.lang)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=V(q(e)).link,n=t?V(q(t)).deep_link_id:null,r=V(q(e)).deep_link_id;return(r?V(q(r)).link:null)||r||n||t||e}(e);try{return new Df(t)}catch(n){return null}}}class Mf{constructor(){this.providerId=Mf.PROVIDER_ID}static credential(e,t){return Tf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Df.parseLink(t);return ah(n,"argument-error"),Tf._fromEmailAndCode(e,n.code,n.tenantId)}}Mf.PROVIDER_ID="password",Mf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Mf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Rf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lf extends Rf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Uf extends Lf{constructor(){super("facebook.com")}static credential(e){return If._fromParams({providerId:Uf.PROVIDER_ID,signInMethod:Uf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uf.credentialFromTaggedObject(e)}static credentialFromError(e){return Uf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Uf.credential(t.oauthAccessToken)}catch(n){return null}}}Uf.FACEBOOK_SIGN_IN_METHOD="facebook.com",Uf.PROVIDER_ID="facebook.com";class Ff extends Lf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return If._fromParams({providerId:Ff.PROVIDER_ID,signInMethod:Ff.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ff.credentialFromTaggedObject(e)}static credentialFromError(e){return Ff.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ff.credential(n,r)}catch(i){return null}}}Ff.GOOGLE_SIGN_IN_METHOD="google.com",Ff.PROVIDER_ID="google.com";class Bf extends Lf{constructor(){super("github.com")}static credential(e){return If._fromParams({providerId:Bf.PROVIDER_ID,signInMethod:Bf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bf.credentialFromTaggedObject(e)}static credentialFromError(e){return Bf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Bf.credential(t.oauthAccessToken)}catch(n){return null}}}Bf.GITHUB_SIGN_IN_METHOD="github.com",Bf.PROVIDER_ID="github.com";class zf extends Lf{constructor(){super("twitter.com")}static credential(e,t){return If._fromParams({providerId:zf.PROVIDER_ID,signInMethod:zf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zf.credentialFromTaggedObject(e)}static credentialFromError(e){return zf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return zf.credential(n,r)}catch(i){return null}}}async function Vf(e,t){return xh(e,"POST","/v1/accounts:signUp",vh(e,t))}zf.TWITTER_SIGN_IN_METHOD="twitter.com",zf.PROVIDER_ID="twitter.com";class qf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await zh._fromIdTokenResponse(e,n,r),o=Wf(n);return new qf({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Wf(n);return new qf({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Wf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Hf extends R{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Hf.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Hf(e,t,n,r)}}function Kf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Hf._fromErrorAndOperation(e,n,t,r);throw n})}async function Gf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Dh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qf._forOperation(e,"link",r)}async function Yf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(at(r.app))return Promise.reject(rh(r));const i="reauthenticate";try{const o=await Dh(e,Kf(r,i,t,e),n);ah(o.idToken,r,"internal-error");const a=Ah(o.idToken);ah(a,r,"internal-error");const{sub:s}=a;return ah(e.uid===s,r,"user-mismatch"),qf._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&eh(r,"user-mismatch"),o}}async function Xf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(at(e.app))return Promise.reject(rh(e));const r="signIn",i=await Kf(e,r,t),o=await qf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Qf(e,t){return Xf(uf(e),t)}async function $f(e){const t=uf(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Jf(e){return G(e).signOut()}function Zf(e,t){return bh(e,"POST","/v2/accounts/mfaEnrollment:start",vh(e,t))}new WeakMap;const ep="__sak";class tp{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ep,"1"),this.storage.removeItem(ep),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class np extends tp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=of(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);rf()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}np.type="LOCAL";const rp=np;function ip(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function op(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class ap{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=op(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return ip(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=op(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=op(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=ip(n);const i=setInterval(()=>{const e=ip(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}ap.type="COOKIE";class sp extends tp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}sp.type="SESSION";const lp=sp;class cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new cp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function up(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}cp.receivers=[];class dp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const l=up("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function hp(){return window}function fp(){return"undefined"!==typeof hp().WorkerGlobalScope&&"function"===typeof hp().importScripts}const pp="firebaseLocalStorageDb",mp="firebaseLocalStorage",gp="fbase_key";class yp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vp(e,t){return e.transaction([mp],t?"readwrite":"readonly").objectStore(mp)}function bp(){const e=indexedDB.open(pp,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(mp,{keyPath:gp})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(mp)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(pp);return new yp(e).toPromise()}(),t(await bp()))})})}async function wp(e,t,n){const r=vp(e,!0).put({[gp]:t,value:n});return new yp(r).toPromise()}function xp(e,t){const n=vp(e,!0).delete(t);return new yp(n).toPromise()}class Sp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await bp()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cp._getInstance(fp()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new dp(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await wp(e,ep,"1"),await xp(e,ep),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wp(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=vp(e,!1).get(t),r=await new yp(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xp(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=vp(e,!1).getAll();return new yp(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Sp.type="LOCAL";const kp=Sp;function Ep(e,t){return bh(e,"POST","/v2/accounts/mfaSignIn:start",vh(e,t))}pf("rcb"),new hh(3e4,6e4);const _p="recaptcha";async function jp(e,t,n){var r;if(!e._getRecaptchaConfig())try{await xf(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){ah("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=wf(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===yf){ah((null===n||void 0===n?void 0:n.type)===_p,e,"argument-error");return Zf(e,await Op(e,t,n))}return Zf(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{ah("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;ah(o,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=wf(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===yf){ah((null===n||void 0===n?void 0:n.type)===_p,e,"argument-error");return Ep(e,await Op(e,t,n))}return Ep(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=wf(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===yf){ah((null===n||void 0===n?void 0:n.type)===_p,e,"argument-error");return Cf(e,await Op(e,t,n))}return Cf(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Op(e,t,n){ah(n.type===_p,e,"argument-error");const r=await n.verify();ah("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Tp{constructor(e){this.providerId=Tp.PROVIDER_ID,this.auth=uf(e)}verifyPhoneNumber(e,t){return jp(this.auth,e,G(t))}static credential(e,t){return Pf._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Tp.credentialFromTaggedObject(t)}static credentialFromError(e){return Tp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Pf._fromTokenResponse(n,r):null}}function Np(e,t){return t?qh(t):(ah(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Tp.PROVIDER_ID="phone",Tp.PHONE_SIGN_IN_METHOD="phone";class Ip extends _f{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Cp(e){return Xf(e.auth,new Ip(e),e.bypassAuthState)}function Ap(e){const{auth:t,user:n}=e;return ah(n,t,"internal-error"),Yf(n,new Ip(e),e.bypassAuthState)}async function Pp(e){const{auth:t,user:n}=e;return ah(n,t,"internal-error"),Gf(n,new Ip(e),e.bypassAuthState)}class Dp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cp;case"linkViaPopup":case"linkViaRedirect":return Pp;case"reauthViaPopup":case"reauthViaRedirect":return Ap;default:eh(this.auth,"internal-error")}}resolve(e){lh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mp=new hh(2e3,1e4);class Rp extends Dp{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Rp.currentPopupAction&&Rp.currentPopupAction.cancel(),Rp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ah(e,this.auth,"internal-error"),e}async onExecution(){lh(1===this.filter.length,"Popup operations only handle one event");const e=up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(th(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(th(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(th(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Mp.get())};e()}}Rp.currentPopupAction=null;const Lp=new Map;class Up extends Dp{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Lp.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=zp(t),r=Bp(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Lp.set(this.auth._key(),e)}return this.bypassAuthState||Lp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Fp(e,t){Lp.set(e._key(),t)}function Bp(e){return qh(e._redirectPersistence)}function zp(e){return Kh("pendingRedirect",e.config.apiKey,e.name)}async function Vp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(at(e.app))return Promise.reject(rh(e));const r=uf(e),i=Np(r,t),o=new Up(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class qp{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Hp(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(th(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wp(e))}saveEventToCache(e){this.cachedEventUids.add(Wp(e)),this.lastProcessedEventTime=Date.now()}}function Wp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Hp(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Kp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gp=/^https?/;async function Yp(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return bh(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Xp(r))return}catch(n){}eh(e,"unauthorized-domain")}function Xp(e){const t=ch(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Gp.test(n))return!1;if(Kp.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Qp=new hh(3e4,6e4);function $p(){const e=hp().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Jp(e){return new Promise((t,n)=>{var r,i,o;function a(){$p(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$p(),n(th(e,"network-request-failed"))},timeout:Qp.get()})}if(null===(i=null===(r=hp().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=hp().gapi)||void 0===o?void 0:o.load)){const t=pf("iframefcb");return hp()[t]=()=>{gapi.load?a():n(th(e,"network-request-failed"))},ff("".concat(hf.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Zp=null,e})}let Zp=null;const em=new hh(5e3,15e3),tm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rm(e){const t=e.config;ah(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fh(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ct},i=nm.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(z(r).slice(1))}async function im(e){const t=await function(e){return Zp=Zp||Jp(e),Zp}(e),n=hp().gapi;return ah(n,e,"internal-error"),t.open({where:document.body,url:rm(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tm,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=th(e,"network-request-failed"),o=hp().setTimeout(()=>{r(i)},em.get());function a(){hp().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const om={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class am{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function sm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},om),{width:r.toString(),height:i.toString(),top:o,left:a}),c=I().toLowerCase();n&&(s=$h(c)?"_blank":n),Xh(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return nf(arguments.length>0&&void 0!==arguments[0]?arguments[0]:I())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new am(null);const d=window.open(t||"",s,u);ah(d,e,"popup-blocked");try{d.focus()}catch(h){}return new am(d)}const lm="__/auth/handler",cm="emulator/auth/handler",um=encodeURIComponent("fac");async function dm(e,t,n,r,i,o){ah(e.config.authDomain,e,"auth-domain-config-required"),ah(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ct,eventId:i};if(t instanceof Rf){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof Lf){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(um,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(lm);return fh(t,cm)}(e),"?").concat(z(s).slice(1)).concat(c)}const hm="webStorageSupport";const fm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lp,this._completeRedirectFn=Vp,this._overrideRedirectResult=Fp}async _openPopup(e,t,n,r){var i;lh(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return sm(e,await dm(e,t,n,ch(),r),up())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){hp().location.href=e}(await dm(e,t,n,ch(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(lh(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await im(e),n=new qp(e);return t.register("authEvent",t=>{ah(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hm,{type:hm},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[hm];void 0!==i&&t(!!i),eh(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Yp(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return of()||Qh()||nf()}};var pm="@firebase/auth",mm="1.10.7";class gm{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ah(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ym=S("authIdTokenMaxAge")||300;let vm=null;var bm;hf={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=th("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},bm="Browser",it(new Y("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ah(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:bm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:af(bm)},c=new cf(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qh);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),it(new Y("auth-internal",e=>(e=>new gm(e))(uf(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),ht(pm,mm,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(bm)),ht(pm,mm,"esm2017");const wm="@firebase/installations",xm="0.6.17",Sm=1e4,km="w:".concat(xm),Em="FIS_v2",_m=36e5,jm=new L("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Om(e){return e instanceof R&&e.code.includes("request-failed")}function Tm(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Nm(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Im(e,t){const n=(await t.json()).error;return jm.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Cm(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Am(e,t){let{refreshToken:n}=t;const r=Cm(e);return r.append("Authorization",function(e){return"".concat(Em," ").concat(e)}(n)),r}async function Pm(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Dm(e){return new Promise(t=>{setTimeout(t,e)})}const Mm=/^[cdef][\w-]{21}$/;function Rm(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return Mm.test(t)?t:""}catch(e){return""}}function Lm(e){return"".concat(e.appName,"!").concat(e.appId)}const Um=new Map;function Fm(e,t){const n=Lm(e);Bm(n,t),function(e,t){const n=Vm();n&&n.postMessage({key:e,fid:t});qm()}(n,t)}function Bm(e,t){const n=Um.get(e);if(n)for(const r of n)r(t)}let zm=null;function Vm(){return!zm&&"BroadcastChannel"in self&&(zm=new BroadcastChannel("[Firebase] FID Change"),zm.onmessage=e=>{Bm(e.data.key,e.data.fid)}),zm}function qm(){0===Um.size&&zm&&(zm.close(),zm=null)}const Wm="firebase-installations-store";let Hm=null;function Km(){return Hm||(Hm=ye("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Wm)}})),Hm}async function Gm(e,t){const n=Lm(e),r=(await Km()).transaction(Wm,"readwrite"),i=r.objectStore(Wm),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Fm(e,t.fid),t}async function Ym(e){const t=Lm(e),n=(await Km()).transaction(Wm,"readwrite");await n.objectStore(Wm).delete(t),await n.done}async function Xm(e,t){const n=Lm(e),r=(await Km()).transaction(Wm,"readwrite"),i=r.objectStore(Wm),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||Fm(e,a.fid),a}async function Qm(e){let t;const n=await Xm(e.appConfig,n=>{const r=function(e){const t=e||{fid:Rm(),registrationStatus:0};return Zm(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(jm.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Tm(n),a=Cm(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:Em,appId:n.appId,sdkVersion:km},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Pm(()=>fetch(o,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Nm(e.authToken)}}throw await Im("Create Installation",u)}(e,t);return Gm(e.appConfig,n)}catch(n){throw Om(n)&&409===n.customData.serverCode?await Ym(e.appConfig):await Gm(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:$m(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function $m(e){let t=await Jm(e.appConfig);for(;1===t.registrationStatus;)await Dm(100),t=await Jm(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Qm(e);return n||t}return t}function Jm(e){return Xm(e,e=>{if(!e)throw jm.create("installation-not-found");return Zm(e)})}function Zm(e){return 1===(t=e).registrationStatus&&t.registrationTime+Sm<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function eg(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Tm(e),"/").concat(n,"/authTokens:generate")}(n,t),o=Am(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:km,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(s)},c=await Pm(()=>fetch(i,l));if(c.ok){return Nm(await c.json())}throw await Im("Generate Auth Token",c)}async function tg(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Xm(e.appConfig,r=>{if(!rg(r))throw jm.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+_m}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await ng(e.appConfig);for(;1===n.authToken.requestStatus;)await Dm(100),n=await ng(e.appConfig);const r=n.authToken;return 0===r.requestStatus?tg(e,t):r}(e,n),r;{if(!navigator.onLine)throw jm.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await eg(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Gm(e.appConfig,r),n}catch(n){if(!Om(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Gm(e.appConfig,n)}else await Ym(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function ng(e){return Xm(e,e=>{if(!rg(e))throw jm.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Sm<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function rg(e){return void 0!==e&&2===e.registrationStatus}async function ig(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Qm(e);t&&await t}(n);return(await tg(n,t)).token}function og(e){return jm.create("missing-app-config-values",{valueName:e})}const ag="installations",sg=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw og("App Configuration");if(!e.name)throw og("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw og(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ot(t,"heartbeat"),_delete:()=>Promise.resolve()}},lg=e=>{const t=ot(e.getProvider("app").getImmediate(),ag).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Qm(t);return r?r.catch(console.error):tg(t).catch(console.error),n.fid}(t),getToken:e=>ig(t,e)}};it(new Y(ag,sg,"PUBLIC")),it(new Y("installations-internal",lg,"PRIVATE")),ht(wm,xm),ht(wm,xm,"esm2017");const cg="analytics",ug="https://www.googletagmanager.com/gtag/js",dg=new ie("@firebase/analytics"),hg=new L("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function fg(e){if(!e.startsWith(ug)){const t=hg.create("invalid-gtag-resource",{gtagURL:e});return dg.warn(t.message),""}return e}function pg(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function mg(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:fg}),r=document.createElement("script"),i="".concat(ug,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function gg(e,t,n,r){return async function(i){try{for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await pg(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){dg.error(o)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=a;await async function(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const e=(await pg(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(s){dg.error(s)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(l){dg.error(l)}}}const yg=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function vg(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function bg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yg,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw hg.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw hg.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new xg;return setTimeout(async()=>{s.abort()},void 0!==n?n:6e4),wg({appId:r,apiKey:i,measurementId:o},a,s,t)}async function wg(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yg;var a;const{appId:s,measurementId:l}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(hg.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(c){if(l)return dg.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:s,measurementId:l};throw c}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:vg(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(o,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw hg.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return o.deleteThrottleMetadata(s),t}catch(c){const t=c;if(!function(e){if(!(e instanceof R)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(o.deleteThrottleMetadata(s),l)return dg.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:s,measurementId:l};throw c}const r=503===Number(null===(a=null===t||void 0===t?void 0:t.customData)||void 0===a?void 0:a.httpStatus)?K(i,o.intervalMillis,30):K(i,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return o.setThrottleMetadata(s,u),dg.debug("Calling attemptFetch again in ".concat(r," millis")),wg(e,u,n,o)}}class xg{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Sg,kg;function Eg(e){kg=e}function _g(e){Sg=e}async function jg(e,t,n,r,i,o,a){var s;const l=bg(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&dg.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>dg.error(e)),t.push(l);const c=async function(){if(!D())return dg.warn(hg.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await M()}catch(e){return dg.warn(hg.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ug)&&n.src.includes(e))return n;return null})(o)||mg(o,u.measurementId),kg&&(i("consent","default",kg),Eg(void 0)),i("js",new Date);const h=null!==(s=null===a||void 0===a?void 0:a.config)&&void 0!==s?s:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),Sg&&(i("set",Sg),_g(void 0)),u.measurementId}class Og{constructor(e){this.app=e}_delete(){return delete Tg[this.app.options.appId],Promise.resolve()}}let Tg={},Ng=[];const Ig={};let Cg,Ag,Pg="dataLayer",Dg="gtag",Mg=!1;function Rg(){const e=[];if(A()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=hg.create("invalid-analytics-context",{errorInfo:t});dg.warn(n.message)}}function Lg(e,t,n){Rg();const r=e.options.appId;if(!r)throw hg.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw hg.create("no-api-key");dg.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Tg[r])throw hg.create("already-exists",{id:r});if(!Mg){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Pg);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=gg(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(Tg,Ng,Ig,Pg,Dg);Ag=e,Cg=t,Mg=!0}Tg[r]=jg(e,Ng,Ig,t,Cg,Pg,n);return new Og(e)}function Ug(e,t,n,r){e=G(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Ag,Tg[e.app.options.appId],t,n,r).catch(e=>dg.error(e))}const Fg="@firebase/analytics",Bg="0.10.16";it(new Y(cg,(e,t)=>{let{options:n}=t;return Lg(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),it(new Y("analytics-internal",function(e){try{const t=e.getProvider(cg).getImmediate();return{logEvent:(e,n,r)=>Ug(t,e,n,r)}}catch(t){throw hg.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),ht(Fg,Bg),ht(Fg,Bg,"esm2017");const zg="firebasestorage.googleapis.com",Vg="storageBucket";class qg extends R{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Kg(e),"Firebase Storage: ".concat(t," (").concat(Kg(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qg.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Wg,Hg;function Kg(e){return"storage/"+e}function Gg(){return new qg(Wg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Yg(){return new qg(Wg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xg(){return new qg(Wg.CANCELED,"User canceled the upload/download.")}function Qg(e){return new qg(Wg.INVALID_ARGUMENT,e)}function $g(){return new qg(Wg.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Wg||(Wg={}));class Jg{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Jg.makeFromUrl(e,t)}catch(i){return new Jg(e,"")}if(""===n.path)return n;throw r=e,new qg(Wg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===zg?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Jg(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new qg(Wg.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Zg{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function ey(e,t,n,r){if(r<t)throw Qg("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Qg("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function ty(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function ny(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Hg||(Hg={}));class ry{constructor(e,t,n,r,i,o,a,s,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new iy(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Hg.NO_ERROR,i=n.getStatus();if(!t||ny(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Hg.ABORT;return void e(!1,new iy(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new iy(o,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(o){r(o)}else if(null!==i){const e=Gg();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?$g():Xg())}else{r(Yg())}};this.canceled_?t(0,new iy(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),d(0)):e||(s=1)))}return d(0),o=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class iy{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function oy(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class ay{constructor(e,t){this._service=e,this._location=t instanceof Jg?t:Jg.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ay(e,t)}get root(){const e=new Jg(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oy(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Jg(this._location.bucket,e);return new ay(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new qg(Wg.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function sy(e,t){const n=null===t||void 0===t?void 0:t[Vg];return null==n?null:Jg.makeFromBucketSpec(n,e)}class ly{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=zg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Jg.makeFromBucketSpec(r,this._host):sy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Jg.makeFromBucketSpec(this._url,e):this._bucket=sy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ey("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ey("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(at(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ay(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Zg($g());{const o=function(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=ty(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new ry(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a,s)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const cy="@firebase/storage",uy="0.13.13",dy="storage";function hy(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ly(r,i,o,n,ct)}it(new Y(dy,hy,"PUBLIC").setMultipleInstances(!0)),ht(cy,uy,""),ht(cy,uy,"esm2017");const fy={apiKey:"AIzaSyAQ4U09vWrkJZGefdmW2rYu3DuxUUcIRiA",authDomain:"hotel-2a869.firebaseapp.com",projectId:"hotel-2a869",storageBucket:"hotel-2a869.appspot.com",messagingSenderId:"935721343400",appId:"1:935721343400:web:4e519f4fbf920dc162259d",measurementId:"G-RQ1LCZ8NET"};let py,my,gy,yy,vy,by,wy;console.log("Initializing Firebase app with projectId:",fy.projectId);try{py=ut(fy),yy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt();const t=ot(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ot(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(F(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;eh(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:fm,persistence:[kp,rp,lp]}),r=S("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ym)return;const r=null===t||void 0===t?void 0:t.token;vm!==r&&(vm=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){G(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){G(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=b("auth");return o&&Sf(n,"http://".concat(o)),n}(py),yy.useDeviceLanguage();try{vy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt();e=G(e);const t=ot(e,cg);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ot(e,cg);if(n.isInitialized()){const e=n.getImmediate();if(F(t,n.getOptions()))return e;throw hg.create("already-initialized")}return n.initialize({options:t})}(e)}(py),console.log("\u2705 Analytics initialized successfully")}catch(rB){console.warn("\u26a0\ufe0f Analytics initialization failed:",rB),vy=null}by=new Ff,by.setCustomParameters({prompt:"select_account",locale:"he"}),my=function(e,t){const n="object"==typeof e?e:dt(),r="string"==typeof e?e:t||Br,i=ot(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=w("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=ru(e,lu);const o=E(t),a=e._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);o&&(_("https://".concat(l)),N("Firestore",!0)),a.host!==ou&&a.host!==l&&Ht("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:o,emulatorOptions:r});if(!F(c,s)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ft.MOCK_USER;else{t=j(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Jt($t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ft(o)}e._authCredentials=new nn(new en(t,n))}}(i,...e)}return i}(py),gy=Kd(py),wy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt(),t=arguments.length>1?arguments[1]:void 0;e=G(e);const n=ot(e,dy).getImmediate({identifier:t}),r=w("storage");return r&&function(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const i=E(t);i&&(_("https://".concat(e.host,"/b")),N("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:j(o,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}(n,...r),n}(py),console.log("\u2705 Storage initialized with bucket:",wy.app.options.storageBucket),async function(){if(!my)return{success:!1,error:"Firebase not initialized"};try{const t=ed(hu(my,"test_connection"),(iu("limit",e=1),ad._create("limit",e,"F")));return await bd(t),{success:!0}}catch(t){return console.error("Firebase connection test failed:",t),{success:!1,error:t.message}}var e}().then(e=>{e.success?console.log("\u2705 Firebase connection test successful"):console.error("\u274c Firebase connection test failed:",e.error)}),yy.onAuthStateChanged(e=>{e?console.log("\ud83d\udc64 User signed in:",e.uid):console.log("\ud83d\udc64 User signed out")}),console.log("\u2705 Firebase initialized successfully")}catch(iB){throw console.error("\u274c Firebase initialization error:",iB),iB}var xy=n(579);const Sy=(0,t.createContext)(),ky=()=>{const e=(0,t.useContext)(Sy);if(!e)throw new Error("useApartment must be used within ApartmentProvider");return e},Ey=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[o,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(null),[h,f]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(!r)return a([]),l(null),u(null),void f(!1);(async()=>{try{f(!0);const e=await yd(fu(my,"users",r.uid));if(!e.exists())return a([]),void f(!1);const t=e.data(),n=Object.keys(t.apartments||{});if(0===n.length)return a([]),void f(!1);const i=n.map(async e=>{const n=await yd(fu(my,"apartments",e));return n.exists()?d(d({id:e},n.data()),{},{userRole:t.apartments[e].role,userPermissions:t.apartments[e].permissions||[]}):null}),o=(await Promise.all(i)).filter(Boolean);if(a(o),!s&&o.length>0){const e=localStorage.getItem("selectedApartmentId"),t=(e?o.find(t=>t.id===e):null)||o[0];l(t),u(t.userRole)}}catch(iB){console.error("Error loading user apartments:",iB),a([])}finally{f(!1)}})()},[r]),(0,t.useEffect)(()=>{if(s&&r){const e=o.find(e=>e.id===s.id);u((null===e||void 0===e?void 0:e.userRole)||null)}},[s,o,r]),(0,t.useEffect)(()=>yy.onAuthStateChanged(e=>{i(e)}),[]);const p={user:r,userApartments:o,selectedApartment:s,userRole:c,loading:h,selectApartment:e=>{l(e),localStorage.setItem("selectedApartmentId",e.id)},refreshUserApartments:async()=>{if(r)try{f(!0);const e=await yd(fu(my,"users",r.uid));if(!e.exists())return a([]),void f(!1);const t=e.data(),n=Object.keys(t.apartments||{});if(0===n.length)return a([]),void f(!1);const i=n.map(async e=>{const n=await yd(fu(my,"apartments",e));return n.exists()?d(d({id:e},n.data()),{},{userRole:t.apartments[e].role,userPermissions:t.apartments[e].permissions||[]}):null}),o=(await Promise.all(i)).filter(Boolean);if(a(o),!s&&o.length>0){const e=localStorage.getItem("selectedApartmentId"),t=(e?o.find(t=>t.id===e):null)||o[0];l(t),u(t.userRole)}}catch(iB){console.error("Error refreshing user apartments:",iB),a([])}finally{f(!1)}},hasPermission:e=>{var t;if(!s||!c)return!1;if("owner"===c)return!0;const n=o.find(e=>e.id===s.id);return(null===n||void 0===n||null===(t=n.userPermissions)||void 0===t?void 0:t.includes(e))||!1},isOwner:()=>"owner"===c,isManager:()=>"manager"===c||"owner"===c,isMember:()=>["member","manager","owner"].includes(c),tenantId:(null===s||void 0===s?void 0:s.id)||null,tenant:s||null};return(0,xy.jsx)(Sy.Provider,{value:p,children:n})},_y=(0,t.createContext)(),jy={tasks:[],loading:!1,error:null};function Oy(e,t){switch(t.type){case"SET_TASKS":return d(d({},e),{},{tasks:t.payload,loading:!1});case"ADD_TASK":return d(d({},e),{},{tasks:[...e.tasks,t.payload]});case"UPDATE_TASK":return d(d({},e),{},{tasks:e.tasks.map(e=>e.id===t.payload.id?t.payload:e)});case"DELETE_TASK":return d(d({},e),{},{tasks:e.tasks.filter(e=>e.id!==t.payload)});case"SET_LOADING":return d(d({},e),{},{loading:t.payload});case"SET_ERROR":return d(d({},e),{},{error:t.payload,loading:!1});default:return e}}function Ty(e){let{children:n}=e;const[r,i]=(0,t.useReducer)(Oy,jy),o={tasks:r.tasks,loading:r.loading,error:r.error,setTasks:e=>i({type:"SET_TASKS",payload:e}),addTask:e=>i({type:"ADD_TASK",payload:e}),updateTask:e=>i({type:"UPDATE_TASK",payload:e}),deleteTask:e=>i({type:"DELETE_TASK",payload:e}),setLoading:e=>i({type:"SET_LOADING",payload:e}),setError:e=>i({type:"SET_ERROR",payload:e})};return(0,xy.jsx)(_y.Provider,{value:o,children:n})}function Ny(e){let{username:t,setUsername:n,password:r,setPassword:i,isRegister:o,setIsRegister:a,loading:s,error:l,onSubmit:c,onSwitchToGoogle:u}=e;return(0,xy.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:[(0,xy.jsxs)("div",{className:"text-center mb-8",children:[(0,xy.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-2xl text-white",children:"\ud83c\udfe8"})}),(0,xy.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:o?"\u05d4\u05e8\u05e9\u05de\u05d4":"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"}),(0,xy.jsx)("p",{className:"text-gray-600",children:o?"\u05e6\u05d5\u05e8 \u05d7\u05e9\u05d1\u05d5\u05df \u05d7\u05d3\u05e9":"\u05d4\u05ea\u05d7\u05d1\u05e8 \u05dc\u05d7\u05e9\u05d1\u05d5\u05df \u05e9\u05dc\u05da"})]}),l&&(0,xy.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:l}),(0,xy.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9"}),(0,xy.jsx)("input",{id:"username",type:"text",value:t,onChange:e=>n(e.target.value),required:!0,autoComplete:"username",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",disabled:s}),(0,xy.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"3-20 \u05ea\u05d5\u05d5\u05d9\u05dd, \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d1\u05d0\u05e0\u05d2\u05dc\u05d9\u05ea, \u05de\u05e1\u05e4\u05e8\u05d9\u05dd, \u05de\u05e7\u05e3 \u05d5\u05ea\u05d7\u05ea\u05d5\u05df \u05d1\u05dc\u05d1\u05d3"})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u05e1\u05d9\u05e1\u05de\u05d4"}),(0,xy.jsx)("input",{id:"password",type:"password",value:r,onChange:e=>i(e.target.value),required:!0,autoComplete:o?"new-password":"current-password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4",disabled:s}),(0,xy.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u05dc\u05e4\u05d7\u05d5\u05ea 6 \u05ea\u05d5\u05d5\u05d9\u05dd"})]}),(0,xy.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-4 rounded-lg hover:from-blue-600 hover:to-purple-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium",children:s?(0,xy.jsxs)("div",{className:"flex items-center justify-center",children:[(0,xy.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin ml-2"}),o?"\u05de\u05ea\u05e8\u05e9\u05dd...":"\u05de\u05ea\u05d7\u05d1\u05e8..."]}):o?"\u05d4\u05e8\u05e9\u05de\u05d4":"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"})]}),(0,xy.jsxs)("div",{className:"mt-6 space-y-3 text-center",children:[(0,xy.jsx)("button",{type:"button",onClick:()=>a(!o),className:"text-blue-600 hover:text-blue-800 text-sm font-medium block w-full",disabled:s,children:o?"\u05d9\u05e9 \u05dc\u05da \u05db\u05d1\u05e8 \u05d7\u05e9\u05d1\u05d5\u05df? \u05d4\u05ea\u05d7\u05d1\u05e8":"\u05d0\u05d9\u05df \u05dc\u05da \u05d7\u05e9\u05d1\u05d5\u05df? \u05d4\u05d9\u05e8\u05e9\u05dd"}),u&&(0,xy.jsx)("button",{type:"button",onClick:u,className:"text-gray-600 hover:text-gray-800 text-sm",disabled:s,children:"\u05d7\u05d6\u05d5\u05e8 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea \u05e2\u05dd Google"})]})]})})}function Iy(e){let{onGoogleAuth:t,loading:n,onSwitchToEmail:r}=e;return(0,xy.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:[(0,xy.jsxs)("div",{className:"text-center mb-8",children:[(0,xy.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-2xl text-white",children:"\ud83c\udfe8"})}),(0,xy.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"\u05d1\u05e8\u05d5\u05db\u05d9\u05dd \u05d4\u05d1\u05d0\u05d9\u05dd"}),(0,xy.jsx)("p",{className:"text-gray-600",children:"\u05de\u05e2\u05e8\u05db\u05ea \u05e0\u05d9\u05d4\u05d5\u05dc \u05d3\u05d9\u05e8\u05d5\u05ea \u05e0\u05d5\u05e4\u05e9"})]}),(0,xy.jsxs)("div",{className:"space-y-4",children:[(0,xy.jsx)("button",{onClick:t,disabled:n,className:"w-full bg-white border border-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium flex items-center justify-center gap-3",children:n?(0,xy.jsx)("div",{className:"w-5 h-5 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):(0,xy.jsxs)(xy.Fragment,{children:[(0,xy.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,xy.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,xy.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,xy.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,xy.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dd Google"]})}),(0,xy.jsxs)("div",{className:"relative",children:[(0,xy.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,xy.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,xy.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,xy.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"\u05d0\u05d5"})})]}),(0,xy.jsx)("button",{onClick:r,className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dd \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 \u05d5\u05e1\u05d9\u05e1\u05de\u05d4"})]})]})})}const Cy=e=>{let{onAuthSuccess:n}=e;const[r,o]=(0,t.useState)(!1),[a,s]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)("google"),g=async(e,t,n,r,i)=>{try{const o=fu(my,"users",e);return(await yd(o)).exists()?(await wd(o,{lastLogin:new Date},{merge:!0}),!0):(await wd(o,{email:t,username:n||r||(null===t||void 0===t?void 0:t.split("@")[0]),displayName:r||n||(null===t||void 0===t?void 0:t.split("@")[0]),photoURL:i||"",apartments:{},createdAt:new Date,lastLogin:new Date}),!0)}catch(a){throw console.error("Error creating user profile:",a),a}},y=async()=>{o(!0),s("");try{const e=new Ff;e.addScope("profile"),e.addScope("email"),e.setCustomParameters({prompt:"select_account",locale:"he"}),console.log("Starting Google sign-in popup...");const t=await async function(e,t,n){if(at(e.app))return Promise.reject(th(e,"operation-not-supported-in-this-environment"));const r=uf(e);ih(e,t,Rf);const i=Np(r,n);return new Rp(r,"signInViaPopup",t,i).executeNotNull()}(yy,e);t.user&&(console.log("Google sign-in successful:",t.user),await g(t.user.uid,t.user.email,null,t.user.displayName,t.user.photoURL),null===n||void 0===n||n(t.user))}catch(a){var e;if(i(a))return void console.warn("\ud83d\udd0c Browser extension interference in auth popup, ignoring:",a.message);console.error("Google sign-in error:",{code:a.code,message:a.message,email:null===(e=a.customData)||void 0===e?void 0:e.email,credential:a.credential}),s(b(a.code))}finally{o(!1)}},v=async()=>{o(!0),s("");try{await Jf(yy),console.log("User signed out successfully"),window.location.reload()}catch(a){console.error("Sign out error:",a),s("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05ea\u05e0\u05ea\u05e7\u05d5\u05ea \u05de\u05d4\u05de\u05e2\u05e8\u05db\u05ea")}finally{o(!1)}},b=e=>{switch(e){case"auth/operation-not-allowed":return"\u05d0\u05d9\u05de\u05d5\u05ea \u05dc\u05d0 \u05de\u05d5\u05e4\u05e2\u05dc. \u05d0\u05e0\u05d0 \u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea";case"auth/popup-blocked":return"\u05d4\u05d3\u05e4\u05d3\u05e4\u05df \u05d7\u05e1\u05dd \u05d0\u05ea \u05d4\u05d7\u05dc\u05d5\u05df. \u05e0\u05e1\u05d4 \u05dc\u05d0\u05e4\u05e9\u05e8 \u05d7\u05dc\u05d5\u05e0\u05d5\u05ea \u05e7\u05d5\u05e4\u05e6\u05d9\u05dd \u05d5\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1";case"auth/popup-closed-by-user":return"\u05d4\u05d7\u05dc\u05d5\u05df \u05e0\u05e1\u05d2\u05e8. \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1";case"auth/cancelled-popup-request":return"\u05d1\u05e7\u05e9\u05ea \u05d4\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea \u05d1\u05d5\u05d8\u05dc\u05d4. \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1";case"auth/unauthorized-domain":return"\u05d4\u05d3\u05d5\u05de\u05d9\u05d9\u05df \u05dc\u05d0 \u05de\u05d5\u05e8\u05e9\u05d4. \u05d0\u05e0\u05d0 \u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea";case"auth/invalid-oauth-provider":return"\u05e1\u05e4\u05e7 OAuth \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df. \u05d0\u05e0\u05d0 \u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea";case"auth/network-request-failed":return"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e0\u05d8\u05e8\u05e0\u05d8. \u05e0\u05d0 \u05dc\u05d1\u05d3\u05d5\u05e7 \u05d0\u05ea \u05d4\u05d7\u05d9\u05d1\u05d5\u05e8 \u05d5\u05dc\u05e0\u05e1\u05d5\u05ea \u05e9\u05d5\u05d1";case"auth/email-already-in-use":return"\u05e9\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05db\u05d1\u05e8 \u05ea\u05e4\u05d5\u05e1. \u05e0\u05e1\u05d4 \u05e9\u05dd \u05d0\u05d7\u05e8";case"auth/invalid-email":return"\u05e9\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df";case"auth/weak-password":return"\u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05d7\u05dc\u05e9\u05d4 \u05de\u05d3\u05d9. \u05d9\u05e9 \u05dc\u05d4\u05e9\u05ea\u05de\u05e9 \u05d1\u05dc\u05e4\u05d7\u05d5\u05ea 6 \u05ea\u05d5\u05d5\u05d9\u05dd";case"auth/user-not-found":return"\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0. \u05d1\u05d3\u05d5\u05e7 \u05d0\u05ea \u05e9\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05d0\u05d5 \u05d4\u05d9\u05e8\u05e9\u05dd";case"auth/wrong-password":return"\u05e1\u05d9\u05e1\u05de\u05d4 \u05e9\u05d2\u05d5\u05d9\u05d4";case"auth/too-many-requests":return"\u05d9\u05d5\u05ea\u05e8 \u05de\u05d3\u05d9 \u05e0\u05d9\u05e1\u05d9\u05d5\u05e0\u05d5\u05ea \u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea. \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1 \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8";case"auth/user-disabled":return"\u05d4\u05d7\u05e9\u05d1\u05d5\u05df \u05d4\u05d5\u05e9\u05d1\u05ea. \u05d0\u05e0\u05d0 \u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea";case"auth/requires-recent-login":return"\u05d9\u05e9 \u05e6\u05d5\u05e8\u05da \u05d1\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea \u05de\u05d7\u05d3\u05e9 \u05dc\u05d1\u05d9\u05e6\u05d5\u05e2 \u05e4\u05e2\u05d5\u05dc\u05d4 \u05d6\u05d5";case"permission-denied":case"missing-permissions":return"\u05e8\u05e2\u05e0\u05df \u05d0\u05ea \u05d4\u05d3\u05e3 \u05d5\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1. \u05d0\u05dd \u05d4\u05d1\u05e2\u05d9\u05d4 \u05e0\u05de\u05e9\u05db\u05ea, \u05e0\u05e1\u05d4 \u05d7\u05dc\u05d5\u05df \u05e4\u05e8\u05d8\u05d9";default:return"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea. \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1"}};return yy.currentUser?(0,xy.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,xy.jsx)("div",{className:"max-w-md w-full",children:(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,xy.jsxs)("div",{className:"text-center mb-8",children:[(0,xy.jsxs)("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:["\u05e9\u05dc\u05d5\u05dd, ",yy.currentUser.displayName||yy.currentUser.email]}),(0,xy.jsx)("p",{className:"text-gray-600",children:"\u05de\u05d7\u05d5\u05d1\u05e8 \u05dc\u05de\u05e2\u05e8\u05db\u05ea"})]}),a&&(0,xy.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm",children:a}),(0,xy.jsx)("div",{className:"space-y-4",children:(0,xy.jsx)("button",{onClick:v,disabled:r,className:"w-full flex items-center justify-center gap-2 bg-red-500 text-white rounded-lg px-4 py-2 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:r?"\u05de\u05ea\u05e0\u05ea\u05e7...":"\u05d4\u05ea\u05e0\u05ea\u05e7 \u05de\u05d4\u05de\u05e2\u05e8\u05db\u05ea"})})]})})}):"google"===p?(0,xy.jsx)(Iy,{onGoogleAuth:y,loading:r,onSwitchToEmail:()=>m("email")}):(0,xy.jsx)(Ny,{username:l,setUsername:c,password:u,setPassword:d,isRegister:h,setIsRegister:f,loading:r,error:a,onSubmit:async e=>{if(e.preventDefault(),l.length<3||l.length>20)s("\u05e9\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d1\u05d0\u05d5\u05e8\u05da 3-20 \u05ea\u05d5\u05d5\u05d9\u05dd");else if(/^[a-zA-Z0-9_-]*$/.test(l))if(!u||u.length<6)s("\u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 6 \u05ea\u05d5\u05d5\u05d9\u05dd");else{o(!0),s("");try{const e=(e=>"".concat(e,"@hotel-manager.com").toLowerCase())(l);let r;if(h){r=await async function(e,t,n){if(at(e.app))return Promise.reject(rh(e));const r=uf(e),i=wf(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vf,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&$f(e),t}),a=await qf._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(yy,e,u);try{await g(r.user.uid,e,l,l,"")}catch(t){console.warn("Profile creation failed, but user was created:",t)}}else r=await function(e,t,n){return at(e.app)?Promise.reject(rh(e)):Qf(G(e),Mf.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&$f(e),t})}(yy,e,u);null===n||void 0===n||n(r.user)}catch(a){if(i(a))return void console.warn("\ud83d\udd0c Browser extension interference in email auth, ignoring:",a.message);console.error("Auth error:",a),a.message&&a.message.includes("Missing or insufficient permissions")?s("\u05e8\u05e2\u05e0\u05df \u05d0\u05ea \u05d4\u05d3\u05e3 \u05d5\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1. \u05d0\u05dd \u05d4\u05d1\u05e2\u05d9\u05d4 \u05e0\u05de\u05e9\u05db\u05ea, \u05e0\u05e1\u05d4 \u05d7\u05dc\u05d5\u05df \u05e4\u05e8\u05d8\u05d9"):s(b(a.code))}finally{o(!1)}}else s("\u05e9\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05d9\u05db\u05d5\u05dc \u05dc\u05d4\u05db\u05d9\u05dc \u05e8\u05e7 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d1\u05d0\u05e0\u05d2\u05dc\u05d9\u05ea, \u05de\u05e1\u05e4\u05e8\u05d9\u05dd, \u05de\u05e7\u05e3 \u05d5\u05ea\u05d7\u05ea\u05d5\u05df")},onSwitchToGoogle:()=>m("google")})};function Ay(e){let{className:t="h-5 w-5"}=e;return(0,xy.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0121 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})})}const Py=e=>{let{className:t="h-5 w-5"}=e;return(0,xy.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,xy.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,xy.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,xy.jsx)("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),(0,xy.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},Dy=e=>{let{className:t="h-5 w-5"}=e;return(0,xy.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,xy.jsx)("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),(0,xy.jsx)("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]})},My=e=>{let{className:t="h-5 w-5"}=e;return(0,xy.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,xy.jsx)("path",{d:"m7.5 4.27 9 5.15"}),(0,xy.jsx)("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),(0,xy.jsx)("path",{d:"m3.3 7 8.7 5 8.7-5"}),(0,xy.jsx)("path",{d:"M12 22V12"})]})},Ry=e=>{let{className:t="h-5 w-5"}=e;return(0,xy.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,xy.jsx)("line",{x1:"12",x2:"12",y1:"2",y2:"22"}),(0,xy.jsx)("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})},Ly=e=>{let{className:t="h-5 w-5"}=e;return(0,xy.jsx)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,xy.jsx)("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})},Uy=e=>{let{className:t="h-5 w-5"}=e;return(0,xy.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,xy.jsx)("line",{x1:"12",x2:"12",y1:"20",y2:"10"}),(0,xy.jsx)("line",{x1:"18",x2:"18",y1:"20",y2:"4"}),(0,xy.jsx)("line",{x1:"6",x2:"6",y1:"20",y2:"16"})]})},Fy=e=>{let{className:t="h-5 w-5"}=e;return(0,xy.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,xy.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,xy.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})};function By(e){let{className:t="h-5 w-5"}=e;return(0,xy.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})})}function zy(e){let{className:t="h-5 w-5"}=e;return(0,xy.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}function Vy(e){let{className:t="h-5 w-5"}=e;return(0,xy.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})}function qy(e){let{className:t="h-5 w-5"}=e;return(0,xy.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}const Wy=e=>{let{className:t="w-6 h-6"}=e;return(0,xy.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})},Hy=e=>{let{className:t="h-5 w-5"}=e;return(0,xy.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,xy.jsx)("path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z"}),(0,xy.jsx)("path",{d:"m15 3 6 6"})]})},Ky=e=>{let{className:t="h-5 w-5"}=e;return(0,xy.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,xy.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,xy.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})},Gy=e=>{let{className:t="h-5 w-5"}=e;return(0,xy.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,xy.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,xy.jsx)("polyline",{points:"12,6 12,12 16,14"})]})},Yy=e=>{let{className:t="h-5 w-5"}=e;return(0,xy.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,xy.jsx)("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),(0,xy.jsx)("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})},Xy=e=>{let{className:t="h-5 w-5"}=e;return(0,xy.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},Qy=[{id:"bookings",label:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05d4\u05d6\u05de\u05e0\u05d5\u05ea",icon:(0,xy.jsx)(Ay,{}),color:"text-accent-400"},{id:"guests",label:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05d0\u05d5\u05e8\u05d7\u05d9\u05dd",icon:(0,xy.jsx)(Py,{}),color:"text-success-400"},{id:"tasks",label:"\u05ea\u05d6\u05db\u05d5\u05e8\u05d5\u05ea \u05d5\u05de\u05e9\u05d9\u05de\u05d5\u05ea",icon:(0,xy.jsx)(Dy,{}),color:"text-warning-400"},{id:"inventory",label:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05de\u05dc\u05d0\u05d9",icon:(0,xy.jsx)(My,{}),color:"text-purple-400"},{id:"finances",label:"\u05d4\u05db\u05e0\u05e1\u05d5\u05ea \u05d5\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea",icon:(0,xy.jsx)(Ry,{}),color:"text-emerald-400"},{id:"maintenance",label:"\u05e0\u05d9\u05e7\u05d9\u05d5\u05df \u05d5\u05ea\u05d7\u05d6\u05d5\u05e7\u05d4",icon:(0,xy.jsx)(Ly,{}),color:"text-orange-400"},{id:"reports",label:"\u05d3\u05d5\u05d7\u05d5\u05ea",icon:(0,xy.jsx)(Uy,{}),color:"text-pink-400"},{id:"users",label:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd",icon:(0,xy.jsx)(Py,{}),color:"text-blue-400",requiresManager:!0},{id:"settings",label:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea",icon:(0,xy.jsx)(Fy,{}),color:"text-slate-400"}];function $y(e){let{activeView:t,setActiveView:n,isOpen:r,setIsOpen:i,userId:o,tenant:a,onLogout:s,onNewBooking:l,onExportExcel:c,onExportCSV:u,isManager:d,isOwner:h}=e;return(0,xy.jsxs)("div",{className:"h-full flex flex-col overflow-hidden",dir:"rtl",children:[(0,xy.jsxs)("div",{className:"p-6 bg-white/80 backdrop-blur-sm border-b border-white/20",children:[(0,xy.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xy.jsx)("h1",{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:(null===a||void 0===a?void 0:a.propertyName)||"\u05d3\u05d9\u05e8\u05ea \u05e0\u05d5\u05e4\u05e9"}),(0,xy.jsx)("button",{onClick:()=>i(!1),className:"p-2 rounded-xl bg-white/50 hover:bg-white/70 border border-white/30 text-primary-600 hover:text-primary-800 transition-all duration-200",children:(0,xy.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,xy.jsxs)("div",{className:"bg-gradient-primary rounded-xl p-4 text-white",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,xy.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:(0,xy.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,xy.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,xy.jsx)("p",{className:"font-medium text-sm truncate",children:(null===a||void 0===a?void 0:a.name)||"\u05de\u05e9\u05ea\u05de\u05e9"}),(0,xy.jsx)("p",{className:"text-white/70 text-xs truncate",children:null===a||void 0===a?void 0:a.email})]})]}),(0,xy.jsxs)("button",{onClick:s,className:"w-full py-2 px-3 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center justify-center gap-2",children:[(0,xy.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"\u05d9\u05e6\u05d9\u05d0\u05d4"]})]})]}),(0,xy.jsxs)("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar",children:["bookings"===t&&!1,Qy.filter(e=>!(e.requiresManager&&!d&&!h)).map((e,r)=>(0,xy.jsx)("div",{className:"animate-slide-up",style:{animationDelay:"".concat(.1*r,"s")},children:(0,xy.jsxs)("button",{type:"button",onClick:()=>{n(e.id),i(!1)},className:"\n                                group relative w-full flex items-center gap-4 px-4 py-3.5 rounded-2xl \n                                transition-all duration-300 ease-out\n                                border border-transparent\n                                ".concat(t===e.id?"bg-gradient-primary text-white shadow-lg shadow-accent-500/25 \n                                       border-white/20 transform scale-[1.02]":"text-primary-700 hover:bg-white/60 hover:backdrop-blur-sm \n                                       hover:border-white/30 hover:shadow-md hover:transform hover:scale-[1.01]\n                                       hover:text-primary-800","\n                            "),children:[t===e.id&&(0,xy.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-accent-400/20 to-purple-400/20 rounded-2xl blur-sm opacity-75"}),(0,xy.jsx)("div",{className:"\n                                relative flex-shrink-0 p-2 rounded-xl transition-all duration-300\n                                ".concat(t===e.id?"bg-white/20 text-white":"bg-white/50 ".concat(e.color," group-hover:bg-white/70 group-hover:scale-110"),"\n                            "),children:(0,xy.jsx)("div",{className:"w-5 h-5",children:e.icon})}),(0,xy.jsx)("span",{className:"relative font-medium text-sm",children:e.label}),t===e.id&&(0,xy.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-white rounded-full shadow-glow"}),(0,xy.jsx)("div",{className:"absolute inset-0 bg-gradient-glass opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl pointer-events-none"})]})},e.id))]}),(0,xy.jsx)("div",{className:"p-6 bg-white/80 backdrop-blur-sm border-t border-white/20",children:(0,xy.jsxs)("div",{className:"text-center",children:[(0,xy.jsx)("p",{className:"text-xs text-primary-500 font-medium",children:"\xa9 2024 \u05de\u05e2\u05e8\u05db\u05ea \u05e0\u05d9\u05d4\u05d5\u05dc \u05d3\u05d9\u05e8\u05d5\u05ea \u05e0\u05d5\u05e4\u05e9"}),(0,xy.jsxs)("div",{className:"mt-2 flex justify-center space-x-1",children:[(0,xy.jsx)("div",{className:"w-2 h-2 bg-success-400 rounded-full animate-pulse-soft"}),(0,xy.jsx)("div",{className:"w-2 h-2 bg-warning-400 rounded-full animate-pulse-soft",style:{animationDelay:"0.5s"}}),(0,xy.jsx)("div",{className:"w-2 h-2 bg-accent-400 rounded-full animate-pulse-soft",style:{animationDelay:"1s"}})]})]})}),(0,xy.jsx)("style",{jsx:"true",children:"\n                .custom-scrollbar::-webkit-scrollbar {\n                    width: 8px;\n                }\n                .custom-scrollbar::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .custom-scrollbar::-webkit-scrollbar-thumb {\n                    background: rgba(0, 0, 0, 0.1);\n                    border-radius: 4px;\n                }\n                .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n                    background: rgba(0, 0, 0, 0.2);\n                }\n            "})]})}function Jy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const Zy=["title","titleId"];function ev(e,n){let{title:r,titleId:i}=e,o=Jy(e,Zy);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},o),r?t.createElement("title",{id:i},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const tv=t.forwardRef(ev),nv=["title","titleId"];function rv(e,n){let{title:r,titleId:i}=e,o=Jy(e,nv);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},o),r?t.createElement("title",{id:i},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const iv=t.forwardRef(rv),ov=["title","titleId"];function av(e,n){let{title:r,titleId:i}=e,o=Jy(e,ov);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},o),r?t.createElement("title",{id:i},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const sv=t.forwardRef(av);function lv(e){let{onCreateApartment:n}=e;const{userApartments:r,selectedApartment:i,selectApartment:o,loading:a}=ky(),[s,l]=(0,t.useState)(!1);return console.log("ApartmentSelector render:",{hasOnCreateApartment:!!n,userApartmentsLength:r.length,loading:a,selectedApartment:null===i||void 0===i?void 0:i.name}),a?(0,xy.jsxs)("div",{className:"flex items-center space-x-2 bg-white/10 rounded-lg px-3 py-2",children:[(0,xy.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,xy.jsx)("span",{className:"text-white/80 text-sm",children:"\u05d8\u05d5\u05e2\u05df \u05d3\u05d9\u05e8\u05d5\u05ea..."})]}):0===r.length?(0,xy.jsxs)("button",{onClick:()=>{console.log("ApartmentSelector - No apartments button clicked"),console.log("onCreateApartment function:",!!n),null===n||void 0===n||n()},className:"flex items-center space-x-2 bg-white/10 hover:bg-white/20 rounded-lg px-3 py-2 transition-colors",children:[(0,xy.jsx)(tv,{className:"w-4 h-4 text-white"}),(0,xy.jsx)("span",{className:"text-white text-sm font-medium",children:"\u05e6\u05d5\u05e8 \u05d3\u05d9\u05e8\u05d4 \u05d7\u05d3\u05e9\u05d4"})]}):(0,xy.jsxs)("div",{className:"relative",children:[(0,xy.jsxs)("button",{onClick:()=>l(!s),className:"flex items-center space-x-2 bg-white/10 hover:bg-white/20 rounded-lg px-3 py-2 transition-colors min-w-48",dir:"rtl",children:[(0,xy.jsx)(iv,{className:"w-4 h-4 text-white flex-shrink-0"}),(0,xy.jsxs)("div",{className:"flex-1 text-right",children:[(0,xy.jsx)("div",{className:"text-white text-sm font-medium truncate",children:(null===i||void 0===i?void 0:i.name)||"\u05d1\u05d7\u05e8 \u05d3\u05d9\u05e8\u05d4"}),(null===i||void 0===i?void 0:i.address)&&(0,xy.jsx)("div",{className:"text-white/70 text-xs truncate",children:i.address})]}),(0,xy.jsx)(sv,{className:"w-4 h-4 text-white transition-transform ".concat(s?"rotate-180":"")})]}),s&&(0,xy.jsxs)(xy.Fragment,{children:[(0,xy.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>l(!1)}),(0,xy.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 z-20 max-h-64 overflow-y-auto",children:[r.map(e=>(0,xy.jsx)("button",{onClick:()=>{o(e),l(!1)},className:"w-full text-right px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 transition-colors ".concat((null===i||void 0===i?void 0:i.id)===e.id?"bg-blue-50 text-blue-700":"text-gray-700"),dir:"rtl",children:(0,xy.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xy.jsxs)("div",{className:"flex-1",children:[(0,xy.jsx)("div",{className:"font-medium text-sm",children:e.name}),e.address&&(0,xy.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.address})]}),(0,xy.jsx)("div",{className:"flex items-center space-x-2 mr-3",children:(0,xy.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("owner"===e.userRole?"bg-purple-100 text-purple-700":"manager"===e.userRole?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:"owner"===e.userRole?"\u05d1\u05e2\u05dc\u05d9\u05dd":"manager"===e.userRole?"\u05de\u05e0\u05d4\u05dc":"\u05d7\u05d1\u05e8"})})]})},e.id)),(0,xy.jsx)("button",{onClick:()=>{console.log("ApartmentSelector - Dropdown create button clicked"),console.log("onCreateApartment function:",!!n),null===n||void 0===n||n(),l(!1)},className:"w-full text-right px-4 py-3 hover:bg-gray-50 border-t border-gray-200 text-blue-600 transition-colors",dir:"rtl",children:(0,xy.jsxs)("div",{className:"flex items-center",children:[(0,xy.jsx)(tv,{className:"w-4 h-4 ml-2"}),(0,xy.jsx)("span",{className:"text-sm font-medium",children:"\u05e6\u05d5\u05e8 \u05d3\u05d9\u05e8\u05d4 \u05d7\u05d3\u05e9\u05d4"})]})})]})]})]})}function cv(e){let{isOpen:n,onClose:r,children:i,size:o="md"}=e;if((0,t.useEffect)(()=>(document.body.style.overflow=n?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[n]),(0,t.useEffect)(()=>{const e=e=>{"Escape"===e.key&&r()};return n&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[n,r]),!n)return null;return(0,xy.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in",dir:"rtl",children:[(0,xy.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-all duration-300",onClick:r}),(0,xy.jsxs)("div",{className:"\n                    relative w-full ".concat({sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl",full:"max-w-[95vw]"}[o]," max-h-[90vh] \n                    bg-white/95 backdrop-blur-xl \n                    border border-white/20 rounded-3xl \n                    shadow-2xl overflow-hidden \n                    animate-scale-in\n                "),onClick:e=>e.stopPropagation(),children:[(0,xy.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-white/5 pointer-events-none rounded-3xl"}),(0,xy.jsx)("button",{onClick:r,className:" absolute top-4 left-4 z-10 w-10 h-10 rounded-full  bg-white/80 hover:bg-white  border border-primary-200/50 hover:border-primary-300 text-primary-600 hover:text-primary-800 flex items-center justify-center transition-all duration-200 hover:scale-110 hover:shadow-lg group ","aria-label":"\u05e1\u05d2\u05d5\u05e8 \u05d7\u05dc\u05d5\u05df",children:(0,xy.jsx)("svg",{className:"w-5 h-5 transition-transform group-hover:rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,xy.jsx)("div",{className:"relative max-h-[90vh] overflow-y-auto p-6",children:i}),(0,xy.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/50 to-transparent"})]})]})}function uv(e){let{isOpen:n,onClose:r,onSuccess:i}=e;const{user:o,refreshUserApartments:a}=ky(),[s,l]=(0,t.useState)({name:"",address:"",description:""}),[c,u]=(0,t.useState)(!1),[h,f]=(0,t.useState)("");(0,t.useEffect)(()=>{console.log("CreateApartmentModal render - isOpen:",n),console.log("CreateApartmentModal render - user:",o?o.uid:"no user")},[n,o]);const p=e=>{const{name:t,value:n}=e.target;l(e=>d(d({},e),{},{[t]:n}))};return n?(console.log("Rendering CreateApartmentModal with isOpen:",n),(0,xy.jsx)(cv,{isOpen:n,onClose:r,title:"\u05e6\u05d5\u05e8 \u05d3\u05d9\u05e8\u05d4 \u05d7\u05d3\u05e9\u05d4",children:(0,xy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o)if(s.name.trim()){u(!0),f("");try{console.log("Creating apartment with data:",s);const e={name:s.name.trim(),address:s.address.trim()||"",description:s.description.trim()||"",ownerId:o.uid,users:[o.uid],userRoles:{[o.uid]:"owner"},createdAt:new Date,updatedAt:new Date,settings:{currency:"ILS",language:"he",timezone:"Asia/Jerusalem"}},t=await kd(hu(my,"apartments"),e);console.log("Apartment created successfully with ID:",t.id),await wd(fu(my,"users",o.uid),{apartments:{[t.id]:{role:"owner",permissions:[],joinedAt:new Date}}},{merge:!0}),console.log("User profile updated with new apartment"),await a(),l({name:"",address:"",description:""}),null===i||void 0===i||i(t.id)}catch(h){console.error("Error creating apartment:",h),f("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea \u05d4\u05d3\u05d9\u05e8\u05d4: "+h.message)}finally{u(!1)}}else f("\u05e9\u05dd \u05d4\u05d3\u05d9\u05e8\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4");else f("\u05d0\u05d9\u05df \u05de\u05e9\u05ea\u05de\u05e9 \u05de\u05d7\u05d5\u05d1\u05e8")},className:"space-y-4",children:[h&&(0,xy.jsx)("div",{className:"p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm",children:h}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u05e9\u05dd \u05d4\u05d3\u05d9\u05e8\u05d4 *"}),(0,xy.jsx)("input",{type:"text",id:"name",name:"name",value:s.name,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"\u05d4\u05d6\u05df \u05e9\u05dd \u05dc\u05d3\u05d9\u05e8\u05d4",required:!0,autoFocus:!0})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u05db\u05ea\u05d5\u05d1\u05ea"}),(0,xy.jsx)("input",{type:"text",id:"address",name:"address",value:s.address,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05d3\u05d9\u05e8\u05d4"})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"\u05ea\u05d9\u05d0\u05d5\u05e8"}),(0,xy.jsx)("textarea",{id:"description",name:"description",value:s.description,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"\u05ea\u05d9\u05d0\u05d5\u05e8 \u05e7\u05e6\u05e8 \u05e9\u05dc \u05d4\u05d3\u05d9\u05e8\u05d4"})]}),(0,xy.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,xy.jsx)("button",{type:"submit",disabled:c,className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"\u05d9\u05d5\u05e6\u05e8...":"\u05e6\u05d5\u05e8 \u05d3\u05d9\u05e8\u05d4"}),(0,xy.jsx)("button",{type:"button",onClick:r,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"\u05d1\u05d8\u05dc"})]})]})})):(console.log("Modal not open, returning null"),null)}function dv(){const[e,n]=(0,t.useState)(navigator.onLine);return(0,t.useEffect)(()=>{const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),e?null:(0,xy.jsx)("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",children:(0,xy.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xy.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,xy.jsx)("span",{children:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e0\u05d8\u05e8\u05e0\u05d8. \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05d3\u05d5\u05e8\u05e9\u05ea \u05d7\u05d9\u05d1\u05d5\u05e8 \u05e4\u05e2\u05d9\u05dc \u05db\u05d3\u05d9 \u05dc\u05e2\u05d1\u05d5\u05d3."})]})})}function hv(e){var t,n;let{message:r,onDelete:i,renderAttachment:o}=e;const a=r.senderId===(null===(t=yy.currentUser)||void 0===t?void 0:t.uid);return(0,xy.jsx)("div",{className:"flex ".concat(a?"justify-start":"justify-end"," group"),dir:"rtl",children:(0,xy.jsxs)("div",{className:"max-w-[70%] ".concat(a?"mr-auto":"ml-auto"," relative"),children:[a&&(0,xy.jsx)("button",{onClick:()=>i(r.id),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 z-10",title:"\u05de\u05d7\u05e7 \u05d4\u05d5\u05d3\u05e2\u05d4",children:"\xd7"}),(0,xy.jsxs)("div",{className:"px-3 py-2 rounded-lg ".concat(a?"bg-blue-500 text-white rounded-bl-none":"bg-gray-100 text-gray-900 rounded-br-none border border-gray-200"),children:[!a&&(0,xy.jsx)("div",{className:"text-xs font-medium text-blue-600 mb-1",children:r.sender}),r.content&&(0,xy.jsx)("div",{className:"break-words text-sm leading-relaxed",dir:"rtl",children:r.content}),null===(n=r.attachments)||void 0===n?void 0:n.map((e,t)=>(0,xy.jsx)("div",{children:o(e,a)},t)),(0,xy.jsx)("div",{className:"text-xs mt-1 ".concat(a?"text-blue-100":"text-gray-500"),dir:"ltr",children:r.createdAt?"function"===typeof r.createdAt.toDate?r.createdAt.toDate().toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"}):new Date(r.createdAt).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"}):""})]})]})})}const fv={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let pv;const mv=new Uint8Array(16);const gv=[];for(let n=0;n<256;++n)gv.push((n+256).toString(16).slice(1));function yv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(gv[e[t+0]]+gv[e[t+1]]+gv[e[t+2]]+gv[e[t+3]]+"-"+gv[e[t+4]]+gv[e[t+5]]+"-"+gv[e[t+6]]+gv[e[t+7]]+"-"+gv[e[t+8]]+gv[e[t+9]]+"-"+gv[e[t+10]]+gv[e[t+11]]+gv[e[t+12]]+gv[e[t+13]]+gv[e[t+14]]+gv[e[t+15]]).toLowerCase()}const vv=function(e,t,n){var r,i,o,a;if(fv.randomUUID&&!t&&!e)return fv.randomUUID();const s=null!==(r=null!==(i=(e=e||{}).random)&&void 0!==i?i:null===(o=(a=e).rng)||void 0===o?void 0:o.call(a))&&void 0!==r?r:function(){if(!pv){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");pv=crypto.getRandomValues.bind(crypto)}return pv(mv)}();if(s.length<16)throw new Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError("UUID byte range ".concat(n,":").concat(n+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[n+e]=s[e];return t}return yv(s)},bv=["image/jpeg","image/png","image/gif","image/webp","application/pdf","text/plain"],wv=e=>{let{className:t}=e;return(0,xy.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})};function xv(e){let{onFileUploaded:n,projectId:r,disabled:i=!1,minimal:o=!1}=e;const[a,s]=(0,t.useState)(!1),l=(0,t.useRef)(null),c=async e=>{try{var t;(e=>{if(e.size>2097152)throw new Error("\u05d4\u05e7\u05d5\u05d1\u05e5 \u05d2\u05d3\u05d5\u05dc \u05de\u05d3\u05d9. \u05de\u05e7\u05e1\u05d9\u05de\u05d5\u05dd 2MB");if(!bv.includes(e.type))throw new Error("\u05e1\u05d5\u05d2 \u05e7\u05d5\u05d1\u05e5 \u05dc\u05d0 \u05e0\u05ea\u05de\u05da")})(e),s(!0);const i=await(e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}))(e),o={id:vv(),name:e.name,dataUrl:i,size:e.size,type:e.type,isImage:e.type.startsWith("image/"),uploadedAt:Od(),uploadedBy:(null===(t=yy.currentUser)||void 0===t?void 0:t.uid)||"anonymous",projectId:r};await kd(hu(my,"files"),o);const a=d(d({},o),{},{url:i});s(!1),n&&n(a)}catch(iB){console.error("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05e7\u05d5\u05d1\u05e5:",iB),s(!1)}},u=e=>{var t,n;(null===(t=e.target.files)||void 0===t?void 0:t.length)>0&&(n=e.target.files,Array.from(n).forEach(c))},h=()=>{i||a||!l.current||l.current.click()};return o?(0,xy.jsxs)("button",{onClick:h,disabled:i||a,className:"w-10 h-10 rounded-full transition-colors flex items-center justify-center ".concat(i||a?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-600 hover:bg-gray-300"),title:"\u05e6\u05e8\u05e3 \u05e7\u05d5\u05d1\u05e5",children:[(0,xy.jsx)("input",{ref:l,type:"file",multiple:!0,accept:bv.join(","),onChange:u,className:"hidden",disabled:i||a}),a?(0,xy.jsx)("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):(0,xy.jsx)(wv,{className:"w-5 h-5"})]}):(0,xy.jsx)("div",{className:"space-y-2",children:(0,xy.jsxs)("div",{className:"\n          border-2 border-dashed rounded-lg p-3 text-center transition-colors cursor-pointer\n          border-gray-300 hover:border-gray-400\n          ".concat(i?"opacity-50 cursor-not-allowed":"","\n          ").concat(a?"pointer-events-none":"","\n        "),onClick:h,children:[(0,xy.jsx)("input",{ref:l,type:"file",multiple:!0,accept:bv.join(","),onChange:u,className:"hidden",disabled:i||a}),a?(0,xy.jsxs)("div",{className:"space-y-2",children:[(0,xy.jsx)("div",{className:"animate-spin mx-auto w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full"}),(0,xy.jsx)("p",{className:"text-sm text-gray-600",children:"\u05de\u05e2\u05dc\u05d4 \u05e7\u05d5\u05d1\u05e5..."})]}):(0,xy.jsxs)("div",{className:"space-y-2",children:[(0,xy.jsx)(wv,{className:"w-8 h-8 text-gray-400 mx-auto"}),(0,xy.jsx)("p",{className:"text-sm text-gray-600",children:"\u05dc\u05d7\u05e5 \u05dc\u05d1\u05d7\u05d9\u05e8\u05ea \u05e7\u05d5\u05d1\u05e5"}),(0,xy.jsx)("p",{className:"text-xs text-gray-500",children:"\u05ea\u05de\u05d5\u05e0\u05d5\u05ea, PDF - \u05e2\u05d3 2MB"})]})]})})}function Sv(e){let{newMessage:t,setNewMessage:n,onSubmit:r,sending:i,attachments:o,setAttachments:a,onFileUploaded:s,projectId:l}=e;return(0,xy.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-200",dir:"rtl",children:[o.length>0&&(0,xy.jsxs)("div",{className:"mb-3 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,xy.jsxs)("div",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,xy.jsx)("span",{children:"\ud83d\udcce"}),"\u05e7\u05d1\u05e6\u05d9\u05dd \u05de\u05e6\u05d5\u05e8\u05e4\u05d9\u05dd (",o.length,")"]}),(0,xy.jsx)("div",{className:"space-y-2",children:o.map((e,t)=>(0,xy.jsx)("div",{className:"relative",children:"image"===e.type?(0,xy.jsxs)("div",{className:"relative",children:[(0,xy.jsx)("img",{src:e.url,alt:e.filename,className:"h-12 w-12 object-cover rounded border"}),(0,xy.jsx)("button",{onClick:()=>a(e=>e.filter((e,n)=>n!==t)),className:"absolute -top-1 -left-1 w-4 h-4 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600",children:"\xd7"})]}):(0,xy.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-white border border-gray-200 rounded",children:[(0,xy.jsx)(Xy,{className:"w-4 h-4 text-gray-600"}),(0,xy.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,xy.jsx)("div",{className:"text-sm font-medium truncate",children:e.filename}),(0,xy.jsxs)("div",{className:"text-xs text-gray-500",children:[(e.size/1024).toFixed(1),"KB"]})]}),(0,xy.jsx)("button",{onClick:()=>a(e=>e.filter((e,n)=>n!==t)),className:"w-4 h-4 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600",children:"\xd7"})]})},t))})]}),(0,xy.jsxs)("div",{className:"bg-white border border-gray-300 rounded-lg focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500 flex items-center px-3 py-2",children:[(0,xy.jsx)("div",{className:"flex items-center ml-3",children:(0,xy.jsx)(xv,{onFileUploaded:s,projectId:l,disabled:i,minimal:!0})}),(0,xy.jsx)("form",{onSubmit:r,className:"flex-1 flex items-center",children:(0,xy.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),placeholder:"\u05d4\u05e7\u05dc\u05d3 \u05d4\u05d5\u05d3\u05e2\u05d4...",className:"flex-1 bg-transparent border-0 focus:ring-0 text-gray-900 placeholder-gray-500 text-sm outline-none text-right",disabled:i,dir:"rtl"})}),(0,xy.jsx)("button",{type:"submit",onClick:r,disabled:i||!t.trim()&&0===o.length,className:"w-8 h-8 rounded-md transition-colors flex items-center justify-center mr-3 ".concat(i||!t.trim()&&0===o.length?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"),children:i?(0,xy.jsx)("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-transparent rounded-full animate-spin"}):(0,xy.jsx)(Wy,{className:"w-4 h-4"})})]})]})}function kv(e,t){return"image"===e.type?(0,xy.jsx)("div",{className:"mt-2 rounded-lg overflow-hidden max-w-xs",children:(0,xy.jsx)("img",{src:e.url,alt:e.filename,className:"w-full h-auto max-h-48 object-cover"})}):(0,xy.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 mt-2 p-2 rounded-lg border transition-colors max-w-xs ".concat(t?"border-blue-200 bg-blue-50 hover:bg-blue-100":"border-gray-200 bg-gray-50 hover:bg-gray-100"),children:[(0,xy.jsx)(Xy,{className:"w-4 h-4 text-gray-600"}),(0,xy.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,xy.jsx)("div",{className:"text-sm font-medium truncate text-gray-900",children:e.filename}),(0,xy.jsxs)("div",{className:"text-xs text-gray-500",children:[(e.size/1024).toFixed(1),"KB"]})]})]})}function Ev(e){let{projectId:n,onClose:r}=e;const[i,o]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[l,c]=(0,t.useState)(""),[u,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)([]),[y,v]=(0,t.useState)(!1),b=(0,t.useRef)(null),w=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(!n)return p("\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05de\u05d6\u05d4\u05d4 \u05e4\u05e8\u05d5\u05d9\u05e7\u05d8"),void s(!1);const e=Ed(ed(hu(my,"projects",n,"messages"),od("createdAt","asc")),e=>{const t=e.docs.map(e=>d({id:e.id},e.data()));o(t),s(!1),p(null)},e=>{console.error("Error fetching messages:",e),s(!1),p("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05d4\u05d5\u05d3\u05e2\u05d5\u05ea. \u05e0\u05d0 \u05dc\u05d5\u05d5\u05d3\u05d0 \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e0\u05d8\u05e8\u05e0\u05d8")});return e},[n]);(0,t.useEffect)(()=>{(()=>{var e;null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[i]);const x=async e=>{if(!n||!e)return;if(window.confirm("Are you sure you want to delete this message?"))try{await Sd(fu(my,"projects",n,"messages",e))}catch(f){console.error("Error deleting message:",f),p("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05d4\u05d4\u05d5\u05d3\u05e2\u05d4")}};return a?(0,xy.jsx)("div",{className:"flex-1 bg-white p-4 animate-pulse",children:(0,xy.jsxs)("div",{className:"space-y-3",children:[(0,xy.jsx)("div",{className:"h-10 bg-gray-200 rounded-lg w-2/3"}),(0,xy.jsx)("div",{className:"h-10 bg-gray-100 rounded-lg w-1/2 ml-auto"}),(0,xy.jsx)("div",{className:"h-10 bg-gray-200 rounded-lg w-3/5"})]})}):n?(0,xy.jsxs)("div",{className:"h-full flex flex-col bg-white overflow-hidden",dir:"rtl",children:[(0,xy.jsx)("div",{className:"bg-gray-50 border-b border-gray-200",children:(0,xy.jsx)("div",{className:"px-4 py-3",children:(0,xy.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xy.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-sm",children:"\ud83d\udcac"})}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("h2",{className:"font-semibold text-gray-900 text-base",children:"\u05e6'\u05d0\u05d8 \u05e6\u05d5\u05d5\u05ea"}),(0,xy.jsxs)("p",{className:"text-xs text-gray-500",children:[(null===i||void 0===i?void 0:i.length)||0," \u05d4\u05d5\u05d3\u05e2\u05d5\u05ea"]})]})]}),(0,xy.jsxs)("div",{className:"flex items-center gap-1",children:[i.length>5&&(0,xy.jsx)("button",{onClick:()=>{var e;null===(e=w.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},className:"w-8 h-8 rounded-md bg-white hover:bg-gray-100 text-gray-600 transition-colors flex items-center justify-center text-sm",title:"\u05d2\u05dc\u05d5\u05dc \u05dc\u05d4\u05ea\u05d7\u05dc\u05d4",children:"\u2b06\ufe0f"}),(0,xy.jsx)("button",{onClick:async()=>{if(!n||y)return;if(window.confirm("Are you sure you want to delete all messages and start a new chat?")){v(!0),p(null);try{const e=ed(hu(my,"projects",n,"messages")),t=(await bd(e)).docs.map(e=>Sd(e.ref));await Promise.all(t),o([]),c(""),g([])}catch(f){console.error("Error clearing chat:",f),p("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05d4\u05d4\u05d5\u05d3\u05e2\u05d5\u05ea")}finally{v(!1)}}},disabled:y||0===i.length,className:"w-8 h-8 rounded-md bg-white hover:bg-gray-100 text-gray-600 transition-colors flex items-center justify-center",title:"\u05e6'\u05d0\u05d8 \u05d7\u05d3\u05e9",children:y?"\ud83d\udd04":"+"}),r&&(0,xy.jsx)("button",{onClick:()=>{r&&r()},className:"w-8 h-8 rounded-md bg-white hover:bg-gray-100 text-gray-600 transition-colors flex items-center justify-center",title:"\u05e1\u05d2\u05d5\u05e8 \u05e6'\u05d0\u05d8",children:"\u2715"})]})]})})}),f&&(0,xy.jsx)("div",{className:"mx-4 mt-3 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md text-sm",children:(0,xy.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xy.jsx)("span",{children:"\u26a0\ufe0f"}),f]})}),(0,xy.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3 chat-scrollbar",style:{scrollBehavior:"smooth"},children:[(0,xy.jsx)("div",{ref:w}),(!i||0===i.length)&&(0,xy.jsxs)("div",{className:"text-center py-8",children:[(0,xy.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-xl",children:"\ud83d\udcac"})}),(0,xy.jsx)("p",{className:"text-gray-600 text-base font-medium mb-1",children:"\u05d0\u05d9\u05df \u05d4\u05d5\u05d3\u05e2\u05d5\u05ea \u05e2\u05d3\u05d9\u05d9\u05df"}),(0,xy.jsx)("p",{className:"text-gray-400 text-sm",children:"\u05d4\u05ea\u05d7\u05dc \u05e9\u05d9\u05d7\u05d4 \u05e2\u05dd \u05d4\u05e6\u05d5\u05d5\u05ea"})]}),null===i||void 0===i?void 0:i.map(e=>(0,xy.jsx)(hv,{message:e,onDelete:x,renderAttachment:kv},e.id)),(0,xy.jsx)("div",{ref:b})]}),(0,xy.jsx)(Sv,{newMessage:l,setNewMessage:c,onSubmit:async e=>{if(e.preventDefault(),(l.trim()||0!==m.length)&&n){h(!0),p(null);try{await kd(hu(my,"projects",n,"messages"),{content:l.trim(),createdAt:Od(),sender:yy.currentUser.displayName||yy.currentUser.email||"\u05d0\u05e0\u05d5\u05e0\u05d9\u05de\u05d9",senderId:yy.currentUser.uid,projectId:n,attachments:m}),c(""),g([])}catch(f){console.error("Error sending message:",f),p("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05d4\u05d5\u05d3\u05e2\u05d4. \u05e0\u05d0 \u05dc\u05d5\u05d5\u05d3\u05d0 \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e0\u05d8\u05e8\u05e0\u05d8")}finally{h(!1)}}},sending:u,attachments:m,setAttachments:g,onFileUploaded:e=>{g(t=>[...t,{type:e.isImage?"image":"file",url:e.url,filename:e.name,size:e.size,contentType:e.type}])},projectId:n})]}):(0,xy.jsx)("div",{className:"flex-1 bg-white flex items-center justify-center",children:(0,xy.jsxs)("div",{className:"text-center p-6",children:[(0,xy.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-2xl",children:"\ud83d\udcac"})}),(0,xy.jsx)("p",{className:"text-gray-600",children:"\u05d1\u05d7\u05e8 \u05e4\u05e8\u05d5\u05d9\u05e7\u05d8 \u05db\u05d3\u05d9 \u05dc\u05d4\u05ea\u05d7\u05d9\u05dc \u05dc\u05e9\u05d5\u05d7\u05d7"})]})})}function _v(e){let{projectId:n,apartmentId:r,apartmentInfo:i,unreadMessages:o=0}=e;const[a,s]=(0,t.useState)(!1),l=()=>{s(!a)};return(0,xy.jsxs)("div",{className:"fixed bottom-6 left-6 z-50",style:{zIndex:9999},children:[a&&(0,xy.jsx)("div",{className:"mb-4 bg-white rounded-2xl chat-bubble-shadow border border-gray-200 overflow-hidden w-96 h-[32rem] chat-bubble-enter",children:(0,xy.jsx)(Ev,{projectId:n,apartmentId:r,apartmentInfo:i,onClose:l})}),(0,xy.jsxs)("button",{onClick:l,className:"w-14 h-14 rounded-full shadow-lg transition-all duration-300 flex items-center justify-center relative ".concat(a?"bg-gray-600 hover:bg-gray-700":"bg-gray-800 hover:bg-gray-900 hover:scale-105"),title:a?"\u05e1\u05d2\u05d5\u05e8 \u05e6'\u05d0\u05d8":"\u05e4\u05ea\u05d7 \u05e6'\u05d0\u05d8",children:[a?(0,xy.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,xy.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),!a&&o>0&&(0,xy.jsx)("div",{className:"absolute -top-1 -left-1 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-bounce",children:o>99?"99+":o})]})]})}function jv(e){let{user:t,selectedApartment:n,isSidebarOpen:r,setIsSidebarOpen:i,activeView:o,setActiveView:a,unreadMessages:s,onLogout:l,isManager:c,isOwner:u,onCreateApartment:d,children:h,currentProjectId:f,apartmentId:p,showCreateApartmentModal:m,setShowCreateApartmentModal:g,handleApartmentCreated:y}=e;return(0,xy.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 to-indigo-100",dir:"rtl",children:[(0,xy.jsx)("div",{className:"".concat(r?"block":"hidden"," w-80 xl:w-96 bg-white/90 backdrop-blur-xl border-r border-white/20 shadow-2xl relative z-30"),children:(0,xy.jsx)($y,{activeView:o,setActiveView:a,isOpen:r,setIsOpen:i,userId:null===t||void 0===t?void 0:t.uid,tenant:n,onLogout:l,isManager:c,isOwner:u})}),r&&(0,xy.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-20",onClick:()=>i(!1)}),(0,xy.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,xy.jsx)("header",{className:"bg-white/80 backdrop-blur-xl border-b border-white/20 px-6 py-4 shadow-sm",children:(0,xy.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xy.jsx)("div",{className:"flex items-center space-x-4",dir:"ltr",children:(0,xy.jsx)("button",{onClick:()=>i(!r),className:"p-1.5 rounded-lg bg-white/50 hover:bg-white/70 border border-white/30 text-primary-600 hover:text-primary-800 transition-all duration-200 mr-4",children:(0,xy.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,xy.jsxs)("div",{className:"flex items-center space-x-4",dir:"ltr",children:[(0,xy.jsx)(lv,{onCreateApartment:d}),(0,xy.jsx)(dv,{})]})]})}),(0,xy.jsx)("main",{className:"flex-1 overflow-auto",children:(0,xy.jsx)("div",{className:"h-full relative",children:h})})]}),(0,xy.jsx)(_v,{projectId:f,apartmentId:p,apartmentInfo:n,unreadMessages:s}),(0,xy.jsx)(uv,{isOpen:m,onClose:()=>g(!1),onSuccess:y})]})}const Ov=["children","onClick","className","disabled","type","variant","size","icon","loading"];function Tv(e){let{children:t,onClick:n,className:r="",disabled:i=!1,type:o="button",variant:a="primary",size:s="md",icon:l,loading:c=!1}=e,u=Jy(e,Ov);const h={primary:"bg-gradient-to-l from-purple-500 to-blue-400 text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5 border-0",secondary:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50",ghost:"bg-transparent text-primary-600 hover:bg-white/50 hover:backdrop-blur-sm border-0",success:"bg-gradient-to-l from-green-400 to-emerald-500 text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5 border-0",warning:"bg-gradient-to-l from-yellow-400 to-orange-400 text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5 border-0",error:"bg-gradient-to-l from-red-400 to-pink-500 text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5 border-0",glass:"bg-white/60 backdrop-blur-lg text-primary-900 border border-white/50 hover:bg-white/80 hover:backdrop-blur-xl shadow-lg hover:shadow-xl hover:scale-105 font-semibold"},f={sm:"px-3 py-1.5 text-sm rounded-lg",md:"px-4 py-2.5 text-sm rounded-xl",lg:"px-6 py-3 text-base rounded-xl",xl:"px-8 py-4 text-lg rounded-2xl"},p=h[a]||h.primary,m=f[s]||f.md;return(0,xy.jsxs)("button",d(d({type:o,onClick:n,disabled:i||c,className:"\n                group\n                flex items-center justify-center gap-2\n                ".concat("relative overflow-hidden font-medium transition-all duration-300 ease-in-out transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none focus:outline-none focus:ring-2 focus:ring-accent-400","\n                ").concat(p,"\n                ").concat(m,"\n                ").concat(r,"\n                ").concat(c?"cursor-wait":"","\n            ")},u),{},{children:[(0,xy.jsx)("div",{className:"absolute inset-0 bg-gradient-glass opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-inherit pointer-events-none"}),(0,xy.jsx)("div",{className:"absolute inset-0 overflow-hidden rounded-inherit",children:(0,xy.jsx)("div",{className:"absolute inset-0 bg-white/20 transform scale-0 rounded-full transition-transform duration-500 group-active:scale-100"})}),(0,xy.jsxs)("div",{className:"relative flex items-center justify-center gap-2",children:[c?(0,xy.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):l&&(0,xy.jsx)("span",{className:"flex-shrink-0",children:l}),t&&(0,xy.jsx)("span",{children:t})]})]}))}Math.pow(10,8);const Nv=6048e5,Iv=Symbol.for("constructDateFrom");function Cv(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Iv in e?e[Iv](t):e instanceof Date?new e.constructor(t):new Date(t)}function Av(e,t){return Cv(t||e,e)}function Pv(e,t){const n=Av(e,null===t||void 0===t?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Dv(e,t){const n=Av(e,null===t||void 0===t?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Mv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=Cv.bind(null,e||n.find(e=>"object"===typeof e));return n.map(i)}function Rv(e,t){var n;const{start:r,end:i}=function(e,t){const[n,r]=Mv(e,t.start,t.end);return{start:n,end:r}}(null===t||void 0===t?void 0:t.in,e);let o=+r>+i;const a=o?+r:+i,s=o?i:r;s.setHours(0,0,0,0);let l=null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1;if(!l)return[];l<0&&(l=-l,o=!o);const c=[];for(;+s<=a;)c.push(Cv(r,s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return o?c.reverse():c}function Lv(e,t,n){const[r,i]=Mv(null===n||void 0===n?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Uv(e){return Cv(e,Date.now())}function Fv(e,t){const n=Av(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function Bv(e,t,n){const[r,i]=Mv(null===n||void 0===n?void 0:n.in,e,t);return+Fv(r)===+Fv(i)}function zv(e,t){return Bv(Cv((null===t||void 0===t?void 0:t.in)||e,e),Uv((null===t||void 0===t?void 0:t.in)||e))}const Vv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function qv(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Wv={date:qv({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:qv({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:qv({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Hv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Kv(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const Gv={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Kv({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Kv({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Kv({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Kv({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Kv({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Yv(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,e=>e.test(a)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,e=>e.test(a));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}function Xv(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;return{value:a,rest:t.slice(i.length)}}}const Qv={ordinalNumber:Xv({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:Yv({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Yv({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yv({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Yv({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Yv({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},$v={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=Vv[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Wv,formatRelative:(e,t,n,r)=>Hv[e],localize:Gv,match:Qv,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Jv={};function Zv(){return Jv}function eb(e){const t=Av(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function tb(e,t,n){const[r,i]=Mv(null===n||void 0===n?void 0:n.in,e,t),o=Fv(r),a=Fv(i),s=+o-eb(o),l=+a-eb(a);return Math.round((s-l)/864e5)}function nb(e,t){const n=Av(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function rb(e,t){const n=Av(e,null===t||void 0===t?void 0:t.in);return tb(n,nb(n))+1}function ib(e,t){var n,r,i,o,a,s;const l=Zv(),c=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(s=l.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==n?n:0,u=Av(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function ob(e,t){return ib(e,d(d({},t),{},{weekStartsOn:1}))}function ab(e,t){const n=Av(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),i=Cv(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=ob(i),a=Cv(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=ob(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function sb(e,t){const n=ab(e,t),r=Cv((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ob(r)}function lb(e,t){const n=Av(e,null===t||void 0===t?void 0:t.in),r=+ob(n)-+sb(n);return Math.round(r/Nv)+1}function cb(e,t){var n,r,i,o,a,s;const l=Av(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),u=Zv(),d=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(s=u.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==n?n:1,h=Cv((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,d),h.setHours(0,0,0,0);const f=ib(h,t),p=Cv((null===t||void 0===t?void 0:t.in)||e,0);p.setFullYear(c,0,d),p.setHours(0,0,0,0);const m=ib(p,t);return+l>=+f?c+1:+l>=+m?c:c-1}function ub(e,t){var n,r,i,o,a,s;const l=Zv(),c=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(s=l.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==n?n:1,u=cb(e,t),d=Cv((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return ib(d,t)}function db(e,t){const n=Av(e,null===t||void 0===t?void 0:t.in),r=+ib(n,t)-+ub(n,t);return Math.round(r/Nv)+1}function hb(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const fb={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return hb("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):hb(n+1,2)},d:(e,t)=>hb(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>hb(e.getHours()%12||12,t.length),H:(e,t)=>hb(e.getHours(),t.length),m:(e,t)=>hb(e.getMinutes(),t.length),s:(e,t)=>hb(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return hb(Math.trunc(r*Math.pow(10,n-3)),t.length)}},pb="midnight",mb="noon",gb="morning",yb="afternoon",vb="evening",bb="night",wb={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return fb.y(e,t)},Y:function(e,t,n,r){const i=cb(e,r),o=i>0?i:1-i;if("YY"===t){return hb(o%100,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):hb(o,t.length)},R:function(e,t){return hb(ab(e),t.length)},u:function(e,t){return hb(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return hb(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return hb(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return fb.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return hb(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=db(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):hb(i,t.length)},I:function(e,t,n){const r=lb(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):hb(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):fb.d(e,t)},D:function(e,t,n){const r=rb(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):hb(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return hb(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return hb(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return hb(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?mb:0===r?pb:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?vb:r>=12?yb:r>=4?gb:bb,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return fb.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):fb.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):hb(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):hb(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):fb.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):fb.s(e,t)},S:function(e,t){return fb.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Sb(r);case"XXXX":case"XX":return kb(r);default:return kb(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Sb(r);case"xxxx":case"xx":return kb(r);default:return kb(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+xb(r,":");default:return"GMT"+kb(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+xb(r,":");default:return"GMT"+kb(r,":")}},t:function(e,t,n){return hb(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return hb(+e,t.length)}};function xb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+t+hb(o,2)}function Sb(e,t){if(e%60===0){return(e>0?"-":"+")+hb(Math.abs(e)/60,2)}return kb(e,t)}function kb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+hb(Math.trunc(r/60),2)+t+hb(r%60,2)}const Eb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},_b=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},jb={p:_b,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Eb(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",Eb(r,t)).replace("{{time}}",_b(i,t))}},Ob=/^D+$/,Tb=/^Y+$/,Nb=["D","DD","YY","YYYY"];function Ib(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Cb(e){return!(!Ib(e)&&"number"!==typeof e||isNaN(+Av(e)))}const Ab=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Db=/^'([^]*?)'?$/,Mb=/''/g,Rb=/[a-zA-Z]/;function Lb(e,t,n){var r,i,o,a,s,l,c,u,d,h,f,p,m,g;const y=Zv(),v=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:y.locale)&&void 0!==r?r:$v,b=null!==(o=null!==(a=null!==(s=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==s?s:y.firstWeekContainsDate)&&void 0!==a?a:null===(u=y.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:1,w=null!==(d=null!==(h=null!==(f=null!==(p=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==p?p:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==f?f:y.weekStartsOn)&&void 0!==h?h:null===(g=y.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,x=Av(e,null===n||void 0===n?void 0:n.in);if(!Cb(x))throw new RangeError("Invalid time value");let S=t.match(Pb).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,jb[t])(e,v.formatLong)}return e}).join("").match(Ab).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Ub(e)};if(wb[t])return{isToken:!0,value:e};if(t.match(Rb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});v.localize.preprocessor&&(S=v.localize.preprocessor(x,S));const k={firstWeekContainsDate:b,weekStartsOn:w,locale:v};return S.map(r=>{if(!r.isToken)return r.value;const i=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return Tb.test(e)}(i))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return Ob.test(e)}(i))||function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),Nb.includes(e))throw new RangeError(r)}(i,t,String(e));return(0,wb[i[0]])(x,i,v.localize,k)}).join("")}function Ub(e){const t=e.match(Db);return t?t[1].replace(Mb,"'"):e}const Fb={lessThanXSeconds:{one:"\u05e4\u05d7\u05d5\u05ea \u05de\u05e9\u05e0\u05d9\u05d9\u05d4",two:"\u05e4\u05d7\u05d5\u05ea \u05de\u05e9\u05ea\u05d9 \u05e9\u05e0\u05d9\u05d5\u05ea",other:"\u05e4\u05d7\u05d5\u05ea \u05de\u05be{{count}} \u05e9\u05e0\u05d9\u05d5\u05ea"},xSeconds:{one:"\u05e9\u05e0\u05d9\u05d9\u05d4",two:"\u05e9\u05ea\u05d9 \u05e9\u05e0\u05d9\u05d5\u05ea",other:"{{count}} \u05e9\u05e0\u05d9\u05d5\u05ea"},halfAMinute:"\u05d7\u05e6\u05d9 \u05d3\u05e7\u05d4",lessThanXMinutes:{one:"\u05e4\u05d7\u05d5\u05ea \u05de\u05d3\u05e7\u05d4",two:"\u05e4\u05d7\u05d5\u05ea \u05de\u05e9\u05ea\u05d9 \u05d3\u05e7\u05d5\u05ea",other:"\u05e4\u05d7\u05d5\u05ea \u05de\u05be{{count}} \u05d3\u05e7\u05d5\u05ea"},xMinutes:{one:"\u05d3\u05e7\u05d4",two:"\u05e9\u05ea\u05d9 \u05d3\u05e7\u05d5\u05ea",other:"{{count}} \u05d3\u05e7\u05d5\u05ea"},aboutXHours:{one:"\u05db\u05e9\u05e2\u05d4",two:"\u05db\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd",other:"\u05db\u05be{{count}} \u05e9\u05e2\u05d5\u05ea"},xHours:{one:"\u05e9\u05e2\u05d4",two:"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd",other:"{{count}} \u05e9\u05e2\u05d5\u05ea"},xDays:{one:"\u05d9\u05d5\u05dd",two:"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd",other:"{{count}} \u05d9\u05de\u05d9\u05dd"},aboutXWeeks:{one:"\u05db\u05e9\u05d1\u05d5\u05e2",two:"\u05db\u05e9\u05d1\u05d5\u05e2\u05d9\u05d9\u05dd",other:"\u05db\u05be{{count}} \u05e9\u05d1\u05d5\u05e2\u05d5\u05ea"},xWeeks:{one:"\u05e9\u05d1\u05d5\u05e2",two:"\u05e9\u05d1\u05d5\u05e2\u05d9\u05d9\u05dd",other:"{{count}} \u05e9\u05d1\u05d5\u05e2\u05d5\u05ea"},aboutXMonths:{one:"\u05db\u05d7\u05d5\u05d3\u05e9",two:"\u05db\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd",other:"\u05db\u05be{{count}} \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},xMonths:{one:"\u05d7\u05d5\u05d3\u05e9",two:"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd",other:"{{count}} \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},aboutXYears:{one:"\u05db\u05e9\u05e0\u05d4",two:"\u05db\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd",other:"\u05db\u05be{{count}} \u05e9\u05e0\u05d9\u05dd"},xYears:{one:"\u05e9\u05e0\u05d4",two:"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd",other:"{{count}} \u05e9\u05e0\u05d9\u05dd"},overXYears:{one:"\u05d9\u05d5\u05ea\u05e8 \u05de\u05e9\u05e0\u05d4",two:"\u05d9\u05d5\u05ea\u05e8 \u05de\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd",other:"\u05d9\u05d5\u05ea\u05e8 \u05de\u05be{{count}} \u05e9\u05e0\u05d9\u05dd"},almostXYears:{one:"\u05db\u05de\u05e2\u05d8 \u05e9\u05e0\u05d4",two:"\u05db\u05de\u05e2\u05d8 \u05e9\u05e0\u05ea\u05d9\u05d9\u05dd",other:"\u05db\u05de\u05e2\u05d8 {{count}} \u05e9\u05e0\u05d9\u05dd"}},Bb={date:qv({formats:{full:"EEEE, d \u05d1MMMM y",long:"d \u05d1MMMM y",medium:"d \u05d1MMM y",short:"d.M.y"},defaultWidth:"full"}),time:qv({formats:{full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:qv({formats:{full:"{{date}} '\u05d1\u05e9\u05e2\u05d4' {{time}}",long:"{{date}} '\u05d1\u05e9\u05e2\u05d4' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},zb={lastWeek:"eeee '\u05e9\u05e2\u05d1\u05e8 \u05d1\u05e9\u05e2\u05d4' p",yesterday:"'\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05e9\u05e2\u05d4' p",today:"'\u05d4\u05d9\u05d5\u05dd \u05d1\u05e9\u05e2\u05d4' p",tomorrow:"'\u05de\u05d7\u05e8 \u05d1\u05e9\u05e2\u05d4' p",nextWeek:"eeee '\u05d1\u05e9\u05e2\u05d4' p",other:"P"},Vb={ordinalNumber:(e,t)=>{const n=Number(e);if(n<=0||n>10)return String(n);const r=String(null===t||void 0===t?void 0:t.unit),i=n-1;return["year","hour","minute","second"].indexOf(r)>=0?["\u05e8\u05d0\u05e9\u05d5\u05e0\u05d4","\u05e9\u05e0\u05d9\u05d9\u05d4","\u05e9\u05dc\u05d9\u05e9\u05d9\u05ea","\u05e8\u05d1\u05d9\u05e2\u05d9\u05ea","\u05d7\u05de\u05d9\u05e9\u05d9\u05ea","\u05e9\u05d9\u05e9\u05d9\u05ea","\u05e9\u05d1\u05d9\u05e2\u05d9\u05ea","\u05e9\u05de\u05d9\u05e0\u05d9\u05ea","\u05ea\u05e9\u05d9\u05e2\u05d9\u05ea","\u05e2\u05e9\u05d9\u05e8\u05d9\u05ea"][i]:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05d9\u05e2\u05d9","\u05e9\u05de\u05d9\u05e0\u05d9","\u05ea\u05e9\u05d9\u05e2\u05d9","\u05e2\u05e9\u05d9\u05e8\u05d9"][i]},era:Kv({values:{narrow:["\u05dc\u05e4\u05e0\u05d4\u05f4\u05e1","\u05dc\u05e1\u05e4\u05d9\u05e8\u05d4"],abbreviated:["\u05dc\u05e4\u05e0\u05d4\u05f4\u05e1","\u05dc\u05e1\u05e4\u05d9\u05e8\u05d4"],wide:["\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e1\u05e4\u05d9\u05e8\u05d4","\u05dc\u05e1\u05e4\u05d9\u05e8\u05d4"]},defaultWidth:"wide"}),quarter:Kv({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["\u05e8\u05d1\u05e2\u05d5\u05df 1","\u05e8\u05d1\u05e2\u05d5\u05df 2","\u05e8\u05d1\u05e2\u05d5\u05df 3","\u05e8\u05d1\u05e2\u05d5\u05df 4"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Kv({values:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["\u05d9\u05e0\u05d5\u05f3","\u05e4\u05d1\u05e8\u05f3","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05f3","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05f3","\u05e1\u05e4\u05d8\u05f3","\u05d0\u05d5\u05e7\u05f3","\u05e0\u05d5\u05d1\u05f3","\u05d3\u05e6\u05de\u05f3"],wide:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"]},defaultWidth:"wide"}),day:Kv({values:{narrow:["\u05d0\u05f3","\u05d1\u05f3","\u05d2\u05f3","\u05d3\u05f3","\u05d4\u05f3","\u05d5\u05f3","\u05e9\u05f3"],short:["\u05d0\u05f3","\u05d1\u05f3","\u05d2\u05f3","\u05d3\u05f3","\u05d4\u05f3","\u05d5\u05f3","\u05e9\u05f3"],abbreviated:["\u05d9\u05d5\u05dd \u05d0\u05f3","\u05d9\u05d5\u05dd \u05d1\u05f3","\u05d9\u05d5\u05dd \u05d2\u05f3","\u05d9\u05d5\u05dd \u05d3\u05f3","\u05d9\u05d5\u05dd \u05d4\u05f3","\u05d9\u05d5\u05dd \u05d5\u05f3","\u05e9\u05d1\u05ea"],wide:["\u05d9\u05d5\u05dd \u05e8\u05d0\u05e9\u05d5\u05df","\u05d9\u05d5\u05dd \u05e9\u05e0\u05d9","\u05d9\u05d5\u05dd \u05e9\u05dc\u05d9\u05e9\u05d9","\u05d9\u05d5\u05dd \u05e8\u05d1\u05d9\u05e2\u05d9","\u05d9\u05d5\u05dd \u05d7\u05de\u05d9\u05e9\u05d9","\u05d9\u05d5\u05dd \u05e9\u05d9\u05e9\u05d9","\u05d9\u05d5\u05dd \u05e9\u05d1\u05ea"]},defaultWidth:"wide"}),dayPeriod:Kv({values:{narrow:{am:"\u05dc\u05e4\u05e0\u05d4\u05f4\u05e6",pm:"\u05d0\u05d7\u05d4\u05f4\u05e6",midnight:"\u05d7\u05e6\u05d5\u05ea",noon:"\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd",morning:"\u05d1\u05d5\u05e7\u05e8",afternoon:"\u05d0\u05d7\u05e8 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd",evening:"\u05e2\u05e8\u05d1",night:"\u05dc\u05d9\u05dc\u05d4"},abbreviated:{am:"\u05dc\u05e4\u05e0\u05d4\u05f4\u05e6",pm:"\u05d0\u05d7\u05d4\u05f4\u05e6",midnight:"\u05d7\u05e6\u05d5\u05ea",noon:"\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd",morning:"\u05d1\u05d5\u05e7\u05e8",afternoon:"\u05d0\u05d7\u05e8 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd",evening:"\u05e2\u05e8\u05d1",night:"\u05dc\u05d9\u05dc\u05d4"},wide:{am:"\u05dc\u05e4\u05e0\u05d4\u05f4\u05e6",pm:"\u05d0\u05d7\u05d4\u05f4\u05e6",midnight:"\u05d7\u05e6\u05d5\u05ea",noon:"\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd",morning:"\u05d1\u05d5\u05e7\u05e8",afternoon:"\u05d0\u05d7\u05e8 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd",evening:"\u05e2\u05e8\u05d1",night:"\u05dc\u05d9\u05dc\u05d4"}},defaultWidth:"wide",formattingValues:{narrow:{am:"\u05dc\u05e4\u05e0\u05d4\u05f4\u05e6",pm:"\u05d0\u05d7\u05d4\u05f4\u05e6",midnight:"\u05d7\u05e6\u05d5\u05ea",noon:"\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd",morning:"\u05d1\u05d1\u05d5\u05e7\u05e8",afternoon:"\u05d1\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd",evening:"\u05d1\u05e2\u05e8\u05d1",night:"\u05d1\u05dc\u05d9\u05dc\u05d4"},abbreviated:{am:"\u05dc\u05e4\u05e0\u05d4\u05f4\u05e6",pm:"\u05d0\u05d7\u05d4\u05f4\u05e6",midnight:"\u05d7\u05e6\u05d5\u05ea",noon:"\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd",morning:"\u05d1\u05d1\u05d5\u05e7\u05e8",afternoon:"\u05d0\u05d7\u05e8 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd",evening:"\u05d1\u05e2\u05e8\u05d1",night:"\u05d1\u05dc\u05d9\u05dc\u05d4"},wide:{am:"\u05dc\u05e4\u05e0\u05d4\u05f4\u05e6",pm:"\u05d0\u05d7\u05d4\u05f4\u05e6",midnight:"\u05d7\u05e6\u05d5\u05ea",noon:"\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd",morning:"\u05d1\u05d1\u05d5\u05e7\u05e8",afternoon:"\u05d0\u05d7\u05e8 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd",evening:"\u05d1\u05e2\u05e8\u05d1",night:"\u05d1\u05dc\u05d9\u05dc\u05d4"}},defaultFormattingWidth:"wide"})},qb=["\u05e8\u05d0","\u05e9\u05e0","\u05e9\u05dc","\u05e8\u05d1","\u05d7","\u05e9\u05d9","\u05e9\u05d1","\u05e9\u05de","\u05ea","\u05e2"],Wb={ordinalNumber:Xv({matchPattern:/^(\d+|(\u05e8\u05d0\u05e9\u05d5\u05df|\u05e9\u05e0\u05d9|\u05e9\u05dc\u05d9\u05e9\u05d9|\u05e8\u05d1\u05d9\u05e2\u05d9|\u05d7\u05de\u05d9\u05e9\u05d9|\u05e9\u05d9\u05e9\u05d9|\u05e9\u05d1\u05d9\u05e2\u05d9|\u05e9\u05de\u05d9\u05e0\u05d9|\u05ea\u05e9\u05d9\u05e2\u05d9|\u05e2\u05e9\u05d9\u05e8\u05d9|\u05e8\u05d0\u05e9\u05d5\u05e0\u05d4|\u05e9\u05e0\u05d9\u05d9\u05d4|\u05e9\u05dc\u05d9\u05e9\u05d9\u05ea|\u05e8\u05d1\u05d9\u05e2\u05d9\u05ea|\u05d7\u05de\u05d9\u05e9\u05d9\u05ea|\u05e9\u05d9\u05e9\u05d9\u05ea|\u05e9\u05d1\u05d9\u05e2\u05d9\u05ea|\u05e9\u05de\u05d9\u05e0\u05d9\u05ea|\u05ea\u05e9\u05d9\u05e2\u05d9\u05ea|\u05e2\u05e9\u05d9\u05e8\u05d9\u05ea))/i,parsePattern:/^(\d+|\u05e8\u05d0|\u05e9\u05e0|\u05e9\u05dc|\u05e8\u05d1|\u05d7|\u05e9\u05d9|\u05e9\u05d1|\u05e9\u05de|\u05ea|\u05e2)/i,valueCallback:e=>{const t=parseInt(e,10);return isNaN(t)?qb.indexOf(e)+1:t}}),era:Yv({matchPatterns:{narrow:/^\u05dc(\u05e1\u05e4\u05d9\u05e8\u05d4|\u05e4\u05e0\u05d4\u05f4\u05e1)/i,abbreviated:/^\u05dc(\u05e1\u05e4\u05d9\u05e8\u05d4|\u05e4\u05e0\u05d4\u05f4\u05e1)/i,wide:/^\u05dc(\u05e4\u05e0\u05d9 \u05d4)?\u05e1\u05e4\u05d9\u05e8\u05d4/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^\u05dc\u05e4/i,/^\u05dc\u05e1/i]},defaultParseWidth:"any"}),quarter:Yv({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^\u05e8\u05d1\u05e2\u05d5\u05df [1234]/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yv({matchPatterns:{narrow:/^\d+/i,abbreviated:/^(\u05d9\u05e0\u05d5|\u05e4\u05d1\u05e8|\u05de\u05e8\u05e5|\u05d0\u05e4\u05e8|\u05de\u05d0\u05d9|\u05d9\u05d5\u05e0\u05d9|\u05d9\u05d5\u05dc\u05d9|\u05d0\u05d5\u05d2|\u05e1\u05e4\u05d8|\u05d0\u05d5\u05e7|\u05e0\u05d5\u05d1|\u05d3\u05e6\u05de)\u05f3?/i,wide:/^(\u05d9\u05e0\u05d5\u05d0\u05e8|\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8|\u05de\u05e8\u05e5|\u05d0\u05e4\u05e8\u05d9\u05dc|\u05de\u05d0\u05d9|\u05d9\u05d5\u05e0\u05d9|\u05d9\u05d5\u05dc\u05d9|\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8|\u05e1\u05e4\u05d8\u05de\u05d1\u05e8|\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8|\u05e0\u05d5\u05d1\u05de\u05d1\u05e8|\u05d3\u05e6\u05de\u05d1\u05e8)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^1$/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^7/i,/^8/i,/^9/i,/^10/i,/^11/i,/^12/i],any:[/^\u05d9\u05e0/i,/^\u05e4/i,/^\u05de\u05e8/i,/^\u05d0\u05e4/i,/^\u05de\u05d0/i,/^\u05d9\u05d5\u05e0/i,/^\u05d9\u05d5\u05dc/i,/^\u05d0\u05d5\u05d2/i,/^\u05e1/i,/^\u05d0\u05d5\u05e7/i,/^\u05e0/i,/^\u05d3/i]},defaultParseWidth:"any"}),day:Yv({matchPatterns:{narrow:/^[\u05d0\u05d1\u05d2\u05d3\u05d4\u05d5\u05e9]\u05f3/i,short:/^[\u05d0\u05d1\u05d2\u05d3\u05d4\u05d5\u05e9]\u05f3/i,abbreviated:/^(\u05e9\u05d1\u05ea|\u05d9\u05d5\u05dd (\u05d0|\u05d1|\u05d2|\u05d3|\u05d4|\u05d5)\u05f3)/i,wide:/^\u05d9\u05d5\u05dd (\u05e8\u05d0\u05e9\u05d5\u05df|\u05e9\u05e0\u05d9|\u05e9\u05dc\u05d9\u05e9\u05d9|\u05e8\u05d1\u05d9\u05e2\u05d9|\u05d7\u05de\u05d9\u05e9\u05d9|\u05e9\u05d9\u05e9\u05d9|\u05e9\u05d1\u05ea)/i},defaultMatchWidth:"wide",parsePatterns:{abbreviated:[/\u05d0\u05f3$/i,/\u05d1\u05f3$/i,/\u05d2\u05f3$/i,/\u05d3\u05f3$/i,/\u05d4\u05f3$/i,/\u05d5\u05f3$/i,/^\u05e9/i],wide:[/\u05df$/i,/\u05e0\u05d9$/i,/\u05dc\u05d9\u05e9\u05d9$/i,/\u05e2\u05d9$/i,/\u05de\u05d9\u05e9\u05d9$/i,/\u05e9\u05d9\u05e9\u05d9$/i,/\u05ea$/i],any:[/^\u05d0/i,/^\u05d1/i,/^\u05d2/i,/^\u05d3/i,/^\u05d4/i,/^\u05d5/i,/^\u05e9/i]},defaultParseWidth:"any"}),dayPeriod:Yv({matchPatterns:{any:/^(\u05d0\u05d7\u05e8 \u05d4|\u05d1)?(\u05d7\u05e6\u05d5\u05ea|\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05d5\u05e7\u05e8|\u05e2\u05e8\u05d1|\u05dc\u05d9\u05dc\u05d4|\u05d0\u05d7\u05d4\u05f4\u05e6|\u05dc\u05e4\u05e0\u05d4\u05f4\u05e6)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^\u05dc\u05e4/i,pm:/^\u05d0\u05d7\u05d4/i,midnight:/^\u05d7/i,noon:/^\u05e6/i,morning:/\u05d1\u05d5\u05e7\u05e8/i,afternoon:/\u05d1\u05e6|\u05d0\u05d7\u05e8/i,evening:/\u05e2\u05e8\u05d1/i,night:/\u05dc\u05d9\u05dc\u05d4/i}},defaultParseWidth:"any"})},Hb={code:"he",formatDistance:(e,t,n)=>{if("xDays"===e&&null!==n&&void 0!==n&&n.addSuffix&&t<=2)return n.comparison&&n.comparison>0?1===t?"\u05de\u05d7\u05e8":"\u05de\u05d7\u05e8\u05ea\u05d9\u05d9\u05dd":1===t?"\u05d0\u05ea\u05de\u05d5\u05dc":"\u05e9\u05dc\u05e9\u05d5\u05dd";let r;const i=Fb[e];return r="string"===typeof i?i:1===t?i.one:2===t?i.two:i.other.replace("{{count}}",String(t)),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"\u05d1\u05e2\u05d5\u05d3 "+r:"\u05dc\u05e4\u05e0\u05d9 "+r:r},formatLong:Bb,formatRelative:(e,t,n,r)=>zb[e],localize:Vb,match:Wb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Kb(e){return e?"string"===typeof e?new Date(e):e instanceof Date?e:e.toDate?e.toDate():null:null}function Gb(e){if(!e)return"";const t=Kb(e);return t?Lb(t,"dd/MM/yyyy HH:mm",{locale:Hb}):""}function Yb(e){if(!e)return"";const t=Kb(e);return t?Lb(t,"MMMM yyyy",{locale:Hb}):""}function Xb(e,t,n){if(!e||!t||!n)return!1;const r=Kb(e),i=Kb(t),o=Kb(n);if(!r||!i||!o)return!1;const a=new Date(r.getFullYear(),r.getMonth(),r.getDate()),s=new Date(i.getFullYear(),i.getMonth(),i.getDate()),l=new Date(o.getFullYear(),o.getMonth(),o.getDate());return a>=s&&a<=l}function Qb(e){let{booking:t,isOpen:n,onClose:r,onEdit:i,onDelete:o}=e;if(!n||!t)return null;return(0,xy.jsx)("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:r,children:(0,xy.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto animate-scale-in border border-white/20 relative",onClick:e=>e.stopPropagation(),children:[(0,xy.jsxs)("div",{className:"p-6 pb-4 border-b border-primary-100 flex items-center justify-between",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xy.jsx)("div",{className:"p-2 bg-gradient-to-l from-purple-500 to-blue-400 rounded-xl",children:(0,xy.jsx)(Ky,{className:"w-5 h-5 text-white"})}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("h3",{className:"text-xl font-bold text-primary-800",children:t.guestName}),(0,xy.jsx)("p",{className:"text-sm text-primary-600",children:"\u05e4\u05e8\u05d8\u05d9 \u05d4\u05d6\u05de\u05e0\u05d4"})]})]}),(0,xy.jsx)("button",{onClick:r,className:"p-2 rounded-xl bg-white/80 hover:bg-white border border-white/30 text-primary-600 hover:text-primary-800 transition-all duration-200","aria-label":"\u05e1\u05d2\u05d5\u05e8 \u05db\u05e8\u05d8\u05d9\u05e1",children:(0,xy.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,xy.jsxs)("div",{className:"p-6 space-y-4",children:[((null===t||void 0===t?void 0:t.guestPhone)||(null===t||void 0===t?void 0:t.guestEmail))&&(0,xy.jsxs)("div",{className:"space-y-3",children:[(null===t||void 0===t?void 0:t.guestPhone)&&(0,xy.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-blue-50/60 rounded-xl",children:[(0,xy.jsx)("span",{className:"text-blue-600 text-lg",children:"\ud83d\udcde"}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("p",{className:"text-sm text-primary-600 font-medium",children:"\u05d8\u05dc\u05e4\u05d5\u05df"}),(0,xy.jsx)("p",{className:"text-primary-800 font-semibold",children:t.guestPhone})]})]}),(null===t||void 0===t?void 0:t.guestEmail)&&(0,xy.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-purple-50/60 rounded-xl",children:[(0,xy.jsx)("span",{className:"text-purple-600 text-lg",children:"\u2709\ufe0f"}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("p",{className:"text-sm text-primary-600 font-medium",children:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc"}),(0,xy.jsx)("p",{className:"text-blue-600 font-semibold",children:t.guestEmail})]})]})]}),(0,xy.jsxs)("div",{className:"space-y-3",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-primary-50/60 rounded-xl",children:[(0,xy.jsx)(Ay,{className:"w-5 h-5 text-success-600"}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("p",{className:"text-sm text-primary-600 font-medium",children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05db\u05e0\u05d9\u05e1\u05d4"}),(0,xy.jsx)("p",{className:"text-primary-800 font-semibold",children:Gb(Kb(t.checkIn))})]})]}),(0,xy.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-primary-50/60 rounded-xl",children:[(0,xy.jsx)(Ay,{className:"w-5 h-5 text-error-600"}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("p",{className:"text-sm text-primary-600 font-medium",children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05e6\u05d9\u05d0\u05d4"}),(0,xy.jsx)("p",{className:"text-primary-800 font-semibold",children:Gb(Kb(t.checkOut))})]})]})]}),(0,xy.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-accent-50/60 rounded-xl",children:[(0,xy.jsx)(Gy,{className:"w-5 h-5 text-accent-600"}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("p",{className:"text-sm text-primary-600 font-medium",children:"\u05de\u05e9\u05da \u05d4\u05e9\u05d4\u05d9\u05d9\u05d4"}),(0,xy.jsx)("p",{className:"text-primary-800 font-semibold",children:(()=>{const e=Kb(t.checkIn),n=Kb(t.checkOut)-e,r=Math.ceil(n/864e5);return r>0?"".concat(r," \u05dc\u05d9\u05dc\u05d5\u05ea"):"\u05e4\u05d7\u05d5\u05ea \u05de\u05d9\u05d5\u05dd"})()})]})]}),(0,xy.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-success-50/60 rounded-xl",children:[(0,xy.jsx)("div",{className:"w-3 h-3 bg-success-500 rounded-full"}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("p",{className:"text-sm text-primary-600 font-medium",children:"\u05e1\u05d8\u05d8\u05d5\u05e1"}),(0,xy.jsx)("p",{className:"text-success-700 font-semibold",children:"confirmed"===t.status?"\u05de\u05d0\u05d5\u05e9\u05e8":t.status})]})]}),t.notes&&(0,xy.jsx)("div",{className:"p-3 bg-warning-50/60 rounded-xl",children:(0,xy.jsxs)("div",{className:"flex items-start gap-3",children:[(0,xy.jsx)(Yy,{className:"w-5 h-5 text-warning-600 mt-0.5"}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("p",{className:"text-sm text-primary-600 font-medium mb-1",children:"\u05d4\u05e2\u05e8\u05d5\u05ea"}),(0,xy.jsx)("p",{className:"text-primary-700 text-sm leading-relaxed",children:t.notes})]})]})})]}),(0,xy.jsx)("div",{className:"p-6 pt-4 border-t border-primary-100",children:(0,xy.jsxs)("div",{className:"flex gap-3",children:[(0,xy.jsx)(Tv,{onClick:()=>{i(t),r()},variant:"primary",size:"md",className:"flex-1",icon:(0,xy.jsx)(Vy,{className:"w-4 h-4"}),children:"\u05e2\u05e8\u05d5\u05da \u05d4\u05d6\u05de\u05e0\u05d4"}),(0,xy.jsx)(Tv,{onClick:()=>{window.confirm("\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 \u05d4\u05d6\u05de\u05e0\u05d4 \u05d6\u05d5?")&&(o(t.id),r())},variant:"error",size:"md",className:"flex-1",icon:(0,xy.jsx)(qy,{className:"w-4 h-4"}),children:"\u05de\u05d7\u05e7 \u05d4\u05d6\u05de\u05e0\u05d4"})]})})]})})}function $b(e){let{bookings:n,onEdit:r,onDelete:i,onDateClick:o,notes:a=[]}=e;const[s,l]=(0,t.useState)(new Date),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)({x:0,y:0}),f=Rv({start:Pv(s),end:Dv(s)});function p(e){const t=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-yellow-500","bg-teal-500","bg-orange-500","bg-indigo-500","bg-emerald-500","bg-cyan-500"];let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]}return null!==n&&void 0!==n&&n.length?(0,xy.jsxs)("div",{className:"p-4 animate-fade-in bg-white rounded-2xl shadow-lg",children:[(0,xy.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xy.jsx)(Tv,{onClick:()=>{l(new Date(s.getFullYear(),s.getMonth()-1)),u(null)},variant:"glass",size:"sm",icon:(0,xy.jsx)("span",{className:"text-lg",children:"\u2190"}),className:"w-10 h-10 rounded-full bg-white/80 backdrop-blur-sm border border-white/30 shadow-lg hover:shadow-xl transition-all duration-200"}),(0,xy.jsx)("h2",{className:"text-3xl font-bold text-primary-900 bg-gradient-to-r from-primary-600 to-accent-500 bg-clip-text text-transparent",children:Yb(s)}),(0,xy.jsx)(Tv,{onClick:()=>{l(new Date(s.getFullYear(),s.getMonth()+1)),u(null)},variant:"glass",size:"sm",icon:(0,xy.jsx)("span",{className:"text-lg",children:"\u2192"}),className:"w-10 h-10 rounded-full bg-white/80 backdrop-blur-sm border border-white/30 shadow-lg hover:shadow-xl transition-all duration-200"})]}),(0,xy.jsxs)("div",{className:"grid grid-cols-7 gap-3 p-1 bg-gradient-to-br from-gray-100/50 to-primary-100/20 rounded-3xl backdrop-blur-sm",children:[["\u05d0","\u05d1","\u05d2","\u05d3","\u05d4","\u05d5","\u05e9"].map(e=>(0,xy.jsx)("div",{className:"text-center text-base font-bold bg-gradient-to-br from-primary-600 to-accent-500 bg-clip-text text-transparent py-3 border-b border-primary-100/30",children:e},e)),f.map(e=>{const t=n.filter(t=>Xb(e,Kb(t.checkIn),Kb(t.checkOut))),r=a.filter(t=>Xb(e,Kb(t.date),Kb(t.date))),i=Lv(e,s),l=zv(e);return(0,xy.jsxs)("div",{onClick:()=>o(e),className:"\n                                relative min-h-[120px] p-2 rounded-2xl transition-all duration-200 cursor-pointer flex flex-col\n                                ".concat(i?"bg-white/90 backdrop-blur-sm":"bg-gray-100/60","\n                                ").concat(l?"border-2 border-accent-500/50 shadow-lg shadow-accent-200/50":"border border-primary-100/30","\n                                hover:bg-gradient-to-br hover:from-white hover:to-accent-50 hover:shadow-xl hover:scale-[1.02]\n                                after:absolute after:inset-0 after:rounded-2xl after:shadow-[inset_0_0_0.5px_rgba(0,0,0,0.1)] after:pointer-events-none\n                            "),children:[(0,xy.jsx)("div",{className:"text-right mb-2 relative z-10",children:(0,xy.jsx)("span",{className:"\n                                    text-base font-bold px-3 py-1 rounded-xl\n                                    ".concat(l?"bg-gradient-to-r from-accent-500 to-primary-500 text-white shadow-lg":"text-primary-700","\n                                "),children:Lb(e,"d")})}),(0,xy.jsx)("div",{className:"space-y-2 relative z-10 flex flex-col items-center",children:t.map(e=>(0,xy.jsx)("div",{onClick:t=>((e,t)=>{t.stopPropagation(),h({x:0,y:0}),u(e)})(e,t),className:"\n                                            text-[10px] font-medium py-1.5 px-1 rounded text-white cursor-pointer \n                                            hover:opacity-90 transition-all shadow-sm backdrop-blur-sm mx-auto\n                                            ".concat(p(e.guestName),"\n                                        "),style:{minWidth:0,maxWidth:"120px"},children:(0,xy.jsx)("span",{className:"truncate block text-center mx-auto",style:{direction:"rtl"},children:e.guestName})},e.id))}),r.length>0&&(0,xy.jsx)("div",{className:"mt-2 relative z-10",children:r.map(e=>(0,xy.jsx)("div",{className:"text-xs p-2 rounded-xl bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border border-yellow-200/50 shadow-md backdrop-blur-sm",children:e.text},e.id))})]},e.toString())})]}),(0,xy.jsx)(Qb,{booking:c,isOpen:!!c,onClose:()=>{u(null)},onEdit:r,onDelete:i})]}):(0,xy.jsxs)("div",{className:"p-12 text-center animate-fade-in bg-white rounded-2xl shadow-lg",children:[(0,xy.jsx)("div",{className:"w-20 h-20 bg-gradient-primary rounded-2xl mx-auto mb-6 flex items-center justify-center",children:(0,xy.jsx)(Ay,{className:"w-10 h-10 text-white"})}),(0,xy.jsx)("h3",{className:"text-xl font-semibold text-primary-900 mb-2",children:"\u05d0\u05d9\u05df \u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05dc\u05d4\u05e6\u05d2\u05d4"}),(0,xy.jsx)("p",{className:"text-primary-700 font-medium",children:"\u05dc\u05d7\u05e5 \u05e2\u05dc \u05d9\u05d5\u05dd \u05db\u05d3\u05d9 \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05d4\u05d6\u05de\u05e0\u05d4 \u05d7\u05d3\u05e9\u05d4"})]})}function Jb(e){let{isOpen:t,onClose:n,onConfirm:r,title:i="\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7?",message:o="",confirmText:a="\u05d0\u05d9\u05e9\u05d5\u05e8",cancelText:s="\u05d1\u05d9\u05d8\u05d5\u05dc",confirmVariant:l="primary",icon:c=null}=e;return(0,xy.jsx)(cv,{isOpen:t,onClose:n,size:"sm",children:(0,xy.jsxs)("div",{className:"flex flex-col items-center text-center",children:[c?(0,xy.jsx)("div",{className:"mb-4 text-4xl",children:c}):(0,xy.jsx)("div",{className:"mb-4 text-4xl text-accent-400",children:(0,xy.jsx)("svg",{className:"w-10 h-10 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"})})}),(0,xy.jsx)("h2",{className:"text-xl font-bold mb-2",children:i}),o&&(0,xy.jsx)("p",{className:"text-gray-600 mb-6 text-base",children:o}),(0,xy.jsxs)("div",{className:"flex gap-3 w-full justify-center",children:[(0,xy.jsx)(Tv,{variant:l,onClick:r,className:"flex-1",children:a}),(0,xy.jsx)(Tv,{variant:"secondary",onClick:n,className:"flex-1",children:s})]})]})})}const Zb=Gd(gy,"sendEmailToGuest"),ew=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u05de\u05d7\u05db\u05d9\u05dd \u05dc\u05da!",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";try{console.log("\ud83d\ude80 emailUtils - \u05e4\u05e8\u05de\u05d8\u05e8\u05d9\u05dd \u05e9\u05d4\u05ea\u05e7\u05d1\u05dc\u05d5:",{guestEmail:e,guestName:t,subject:n,message:r,checkInTime:i,checkInTimeStr:o});const a={guestEmail:e,guestName:t,subject:n,message:r,checkInTime:i,checkInTimeStr:o};console.log("\ud83d\udce4 emailUtils - \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05e9\u05e0\u05e9\u05dc\u05d7\u05d9\u05dd \u05dc-Firebase:",a);const s=await Zb(a);return console.log("\u2705 emailUtils - \u05ea\u05d2\u05d5\u05d1\u05d4 \u05de-Firebase:",s.data),{success:!0,result:s.data}}catch(iB){return console.error("\u274c emailUtils - \u05e9\u05d2\u05d9\u05d0\u05d4:",iB),{success:!1,error:iB.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05de\u05d9\u05d9\u05dc"}}},tw=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),nw=["title","items","columns","onSave","onDelete","onEdit","onSendEmail","form","getTitle","getSubtitle","getMetadata","showEmailButton","hideAddButton"];function rw(e){let{title:n,items:r=[],columns:i,onSave:o,onDelete:a,onEdit:s,onSendEmail:l,form:c,getTitle:u,getSubtitle:h,getMetadata:f,showEmailButton:p=!1,hideAddButton:m=!1}=e,g=Jy(e,nw);const[y,v]=(0,t.useState)(!1),[b,w]=(0,t.useState)(null),[x,S]=(0,t.useState)(null),k=e=>{s?s(e):(w(e),v(!0))};return(0,xy.jsxs)("div",{className:"p-4 sm:p-6 bg-white rounded-2xl shadow-lg border border-white/20",children:[(0,xy.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,xy.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-primary-800",children:n}),!m&&(0,xy.jsx)(Tv,{onClick:()=>{w(null),v(!0)},className:"bg-gradient-to-l from-green-400 to-emerald-500 text-white shadow-md hover:from-green-500 hover:to-emerald-600",icon:(0,xy.jsx)(zy,{}),children:"\u05d4\u05d5\u05e1\u05e3 \u05d7\u05d3\u05e9"})]}),i?(0,xy.jsx)("div",{className:"overflow-x-auto",children:(0,xy.jsxs)("table",{className:"min-w-full divide-y divide-gray-100",children:[(0,xy.jsx)("thead",{className:"bg-gradient-to-l from-blue-50 to-purple-50",children:(0,xy.jsxs)("tr",{children:[i.map(e=>(0,xy.jsx)("th",{className:"px-6 py-3 text-right text-xs font-bold text-primary-700 uppercase",children:e.label},e.key)),(0,xy.jsx)("th",{})]})}),(0,xy.jsx)("tbody",{className:"bg-white divide-y divide-gray-50",children:r.map(e=>(0,xy.jsxs)("tr",{className:"hover:bg-blue-50/40 transition-all",children:[i.map(t=>(0,xy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-primary-700",children:t.render?t.render(e[t.key]):e[t.key]},t.key)),(0,xy.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex gap-2 justify-end",children:[p&&e.email&&(0,xy.jsx)("button",{onClick:()=>l(e),className:"text-purple-600 hover:text-white hover:bg-gradient-to-l hover:from-purple-400 hover:to-blue-400 p-2 rounded-lg transition-all",title:"\u05e9\u05dc\u05d7 \u05de\u05d9\u05d9\u05dc '\u05de\u05d7\u05db\u05d9\u05dd \u05dc\u05da'",children:"\ud83d\udce7"}),(0,xy.jsx)("button",{onClick:()=>k(e),className:"text-indigo-600 hover:text-white hover:bg-gradient-to-l hover:from-indigo-400 hover:to-blue-400 p-2 rounded-lg transition-all",title:"\u05e2\u05e8\u05d5\u05da",children:(0,xy.jsx)(Vy,{})}),(0,xy.jsx)("button",{onClick:()=>S(e.id),className:"text-red-600 hover:text-white hover:bg-gradient-to-l hover:from-red-400 hover:to-pink-500 p-2 rounded-lg transition-all",title:"\u05de\u05d7\u05e7",children:(0,xy.jsx)(qy,{})})]})]},e.id))})]})}):(0,xy.jsx)("div",{className:"divide-y divide-gray-100",children:r.map(e=>(0,xy.jsx)("div",{className:"border-b border-gray-100 last:border-b-0",children:(0,xy.jsxs)("div",{className:"p-4 hover:bg-blue-50/40 rounded-2xl transition-all flex flex-col gap-2",children:[(0,xy.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,xy.jsxs)("div",{children:[(0,xy.jsx)("h3",{className:"text-lg font-bold text-primary-900",children:u?u(e):e.title}),h&&(0,xy.jsx)("p",{className:"text-sm text-primary-600",children:h(e)})]}),(0,xy.jsxs)("div",{className:"flex gap-2 items-center",children:[p&&e.email&&(0,xy.jsx)("button",{onClick:()=>l(e),className:"text-purple-600 hover:text-white hover:bg-gradient-to-l hover:from-purple-400 hover:to-blue-400 p-2 rounded-lg transition-all",title:"\u05e9\u05dc\u05d7 \u05de\u05d9\u05d9\u05dc '\u05de\u05d7\u05db\u05d9\u05dd \u05dc\u05da'",children:"\ud83d\udce7"}),(0,xy.jsx)("button",{onClick:()=>k(e),className:"text-indigo-600 hover:text-white hover:bg-gradient-to-l hover:from-indigo-400 hover:to-blue-400 p-2 rounded-lg transition-all",title:"\u05e2\u05e8\u05d5\u05da",children:(0,xy.jsx)(Vy,{})}),(0,xy.jsx)("button",{onClick:()=>S(e.id),className:"text-red-600 hover:text-white hover:bg-gradient-to-l hover:from-red-400 hover:to-pink-500 p-2 rounded-lg transition-all",title:"\u05de\u05d7\u05e7",children:(0,xy.jsx)(qy,{})})]})]}),f&&(0,xy.jsx)("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2",children:f(e).map((e,t)=>(0,xy.jsxs)("div",{className:"text-sm",children:[(0,xy.jsxs)("span",{className:"font-medium text-primary-700",children:[e.label,": "]}),(0,xy.jsx)("span",{className:"text-primary-600",children:e.value})]},t))})]})},e.id))}),y&&c&&(0,xy.jsx)(c,d({item:b,onClose:()=>v(!1),onSave:o},g)),x&&(0,xy.jsx)(Jb,{title:"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05de\u05d7\u05d9\u05e7\u05d4",message:"\u05d4\u05d0\u05dd \u05dc\u05de\u05d7\u05d5\u05e7 \u05e4\u05e8\u05d9\u05d8 \u05d6\u05d4?",onConfirm:()=>{x&&(a(x),S(null))},onCancel:()=>S(null)})]})}function iw(e){let{bookings:n,onEdit:r,onDelete:i}=e;const[o,a]=(0,t.useState)(null),s=[...n].sort((e,t)=>{var n,r;return((null===(n=t.checkIn)||void 0===n?void 0:n.seconds)||0)-((null===(r=e.checkIn)||void 0===r?void 0:r.seconds)||0)});if(null===n||void 0===n||!n.length)return(0,xy.jsx)("div",{className:"text-center py-8 text-gray-500",children:"\u05d0\u05d9\u05df \u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05dc\u05d4\u05e6\u05d2\u05d4"});const l=[{key:"guestName",label:"\u05d0\u05d5\u05e8\u05d7",render:(e,t)=>e||(null===t||void 0===t?void 0:t.guestName)||""},{key:"contact",label:"\u05e4\u05e8\u05d8\u05d9 \u05e7\u05e9\u05e8",render:(e,t)=>(0,xy.jsxs)("div",{className:"space-y-1",children:[(null===t||void 0===t?void 0:t.guestPhone)&&(0,xy.jsxs)("div",{className:"flex items-center gap-1",children:[(0,xy.jsx)("span",{className:"text-gray-400",children:"\ud83d\udcde"}),(0,xy.jsx)("span",{children:t.guestPhone})]}),(null===t||void 0===t?void 0:t.guestEmail)&&(0,xy.jsxs)("div",{className:"flex items-center gap-1",children:[(0,xy.jsx)("span",{className:"text-gray-400",children:"\u2709\ufe0f"}),(0,xy.jsx)("span",{className:"text-blue-600",children:t.guestEmail})]})]})},{key:"checkIn",label:"\u05e6'\u05e7-\u05d0\u05d9\u05df",render:e=>Gb(e)},{key:"checkOut",label:"\u05e6'\u05e7-\u05d0\u05d0\u05d5\u05d8",render:e=>Gb(e)},{key:"status",label:"\u05e1\u05d8\u05d8\u05d5\u05e1",render:e=>{return{confirmed:"\u05de\u05d0\u05d5\u05e9\u05e8",pending:"\u05de\u05de\u05ea\u05d9\u05df",cancelled:"\u05d1\u05d5\u05d8\u05dc"}[t=e]||t;var t}},{key:"notes",label:"\u05d4\u05e2\u05e8\u05d5\u05ea",render:e=>e||""}];return(0,xy.jsxs)("div",{className:"overflow-x-auto",dir:"rtl",children:[(0,xy.jsx)(rw,{items:s,columns:l,onEdit:r,onDelete:i,onSendEmail:async e=>{if(e.guestEmail)if(tw(e.guestEmail))try{console.log("\ud83d\udce7 \u05e9\u05d5\u05dc\u05d7 \u05de\u05d9\u05d9\u05dc \u05dc\u05d0\u05d5\u05e8\u05d7:",e.guestName),console.log("\ud83c\udfaf \u05e4\u05e8\u05d8\u05d9 \u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05d4\u05de\u05dc\u05d0\u05d9\u05dd:",e),console.log("\u23f0 \u05e9\u05e2\u05ea \u05e6'\u05e7-\u05d0\u05d9\u05df:",e.checkInTime),console.log("\ud83d\udcc5 \u05ea\u05d0\u05e8\u05d9\u05da \u05e6'\u05e7-\u05d0\u05d9\u05df:",e.checkIn),console.log("\u23f0 \u05e9\u05e2\u05ea \u05e6'\u05e7-\u05d0\u05d0\u05d5\u05d8:",e.checkOutTime),console.log("\ud83d\udcc5 \u05ea\u05d0\u05e8\u05d9\u05da \u05e6'\u05e7-\u05d0\u05d0\u05d5\u05d8:",e.checkOut);const t=await ew(e.guestEmail,e.guestName,"\u05de\u05d7\u05db\u05d9\u05dd \u05dc\u05da!","",e.checkInTime,e.checkInTime,e.checkOutTime);if(!t.success)throw new Error(t.error);alert("\u05d4\u05de\u05d9\u05d9\u05dc \u05e0\u05e9\u05dc\u05d7 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 \u05dc-".concat(e.guestName," (").concat(e.guestEmail,")"))}catch(iB){console.error("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05de\u05d9\u05d9\u05dc:",iB),alert("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05de\u05d9\u05d9\u05dc \u05dc-".concat(e.guestName,": ").concat(iB.message))}else alert("\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4");else alert("\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05dc\u05d5\u05d7 \u05de\u05d9\u05d9\u05dc - \u05d0\u05d9\u05df \u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0\u05d5\u05e8\u05d7 \u05d6\u05d4")},showEmailButton:!0,hideAddButton:!0}),o&&(0,xy.jsx)(Jb,{title:"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05de\u05d7\u05d9\u05e7\u05d4",message:"\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 \u05d4\u05d6\u05de\u05e0\u05d4 \u05d6\u05d5?",onConfirm:()=>{o&&(i(o),a(null))},onCancel:()=>a(null)})]})}const ow=["label"],aw=["label"],sw=["label","children"];function lw(e){let{label:t}=e,n=Jy(e,ow);return(0,xy.jsxs)("div",{className:"mb-4",children:[t&&(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,xy.jsx)("input",d(d({},n),{},{className:"w-full px-4 py-2 rounded-xl border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-accent-300 focus:border-accent-400 transition placeholder-gray-400 text-base bg-white"}))]})}function cw(e){let{label:t}=e,n=Jy(e,aw);return(0,xy.jsxs)("div",{className:"mb-4",children:[t&&(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,xy.jsx)("textarea",d(d({},n),{},{rows:"4",className:"w-full px-4 py-2 rounded-xl border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-accent-300 focus:border-accent-400 transition placeholder-gray-400 text-base bg-white"}))]})}function uw(e){let{label:t,children:n}=e,r=Jy(e,sw);return(0,xy.jsxs)("div",{className:"mb-4",children:[t&&(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,xy.jsx)("select",d(d({},r),{},{className:"w-full px-4 py-2 rounded-xl border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-accent-300 focus:border-accent-400 transition text-base bg-white",children:n}))]})}function dw(e){let{booking:n,onSubmit:r,onCancel:i}=e;const[o,a]=(0,t.useState)({guestName:"",guestPhone:"",guestEmail:"",checkIn:"",checkInTime:"14:00",checkOut:"",checkOutTime:"10:00",status:"confirmed",notes:""});(0,t.useEffect)(()=>{if(n){const e=n.checkIn?n.checkIn.toDate():null,t=n.checkOut?n.checkOut.toDate():null;a({guestName:n.guestName||"",guestPhone:n.guestPhone||"",guestEmail:n.guestEmail||"",checkIn:e?e.toISOString().split("T")[0]:"",checkInTime:e?e.toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"}):"14:00",checkOut:t?t.toISOString().split("T")[0]:"",checkOutTime:t?t.toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"}):"10:00",status:n.status||"confirmed",notes:n.notes||""})}},[n]);const s=e=>{const{name:t,value:n}=e.target;a(e=>d(d({},e),{},{[t]:n}))};return(0,xy.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new Date(o.checkIn),[n,i]=o.checkInTime.split(":");t.setHours(parseInt(n,10),parseInt(i,10));const a=new Date(o.checkOut),[s,l]=o.checkOutTime.split(":");a.setHours(parseInt(s,10),parseInt(l,10)),r(d(d({},o),{},{checkIn:t,checkOut:a,checkInTimeStr:o.checkInTime,checkOutTimeStr:o.checkOutTime}))},className:"space-y-4",dir:"rtl",children:[(0,xy.jsx)(lw,{label:"\u05e9\u05dd \u05d4\u05d0\u05d5\u05e8\u05d7",type:"text",id:"guestName",name:"guestName",value:o.guestName,onChange:s,required:!0,placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05de\u05dc\u05d0"}),(0,xy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xy.jsx)("div",{className:"w-full",children:(0,xy.jsx)(lw,{label:"\u05d8\u05dc\u05e4\u05d5\u05df",type:"tel",id:"guestPhone",name:"guestPhone",value:o.guestPhone,onChange:s,required:!0,placeholder:"\u05dc\u05d3\u05d5\u05d2' 050-1234567"})}),(0,xy.jsx)("div",{className:"w-full",children:(0,xy.jsx)(lw,{label:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",type:"email",id:"guestEmail",name:"guestEmail",value:o.guestEmail,onChange:s,required:!0,placeholder:"example@email.com"})})]}),(0,xy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xy.jsxs)("div",{className:"w-full",children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u05e6'\u05e7-\u05d0\u05d9\u05df"}),(0,xy.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,xy.jsx)(lw,{type:"time",id:"checkInTime",name:"checkInTime",value:o.checkInTime,onChange:s,required:!0}),(0,xy.jsx)(lw,{type:"date",id:"checkIn",name:"checkIn",value:o.checkIn,onChange:s,required:!0})]})]}),(0,xy.jsxs)("div",{className:"w-full",children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u05e6'\u05e7-\u05d0\u05d0\u05d5\u05d8"}),(0,xy.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,xy.jsx)(lw,{type:"time",id:"checkOutTime",name:"checkOutTime",value:o.checkOutTime,onChange:s,required:!0}),(0,xy.jsx)(lw,{type:"date",id:"checkOut",name:"checkOut",value:o.checkOut,onChange:s,required:!0})]})]})]}),(0,xy.jsxs)(uw,{label:"\u05e1\u05d8\u05d8\u05d5\u05e1",id:"status",name:"status",value:o.status,onChange:s,children:[(0,xy.jsx)("option",{value:"confirmed",children:"\u05de\u05d0\u05d5\u05e9\u05e8"}),(0,xy.jsx)("option",{value:"pending",children:"\u05de\u05de\u05ea\u05d9\u05df"}),(0,xy.jsx)("option",{value:"cancelled",children:"\u05d1\u05d5\u05d8\u05dc"})]}),(0,xy.jsx)(cw,{label:"\u05d4\u05e2\u05e8\u05d5\u05ea",id:"notes",name:"notes",value:o.notes,onChange:s,rows:3,placeholder:"\u05d4\u05e2\u05e8\u05d5\u05ea \u05e0\u05d5\u05e1\u05e4\u05d5\u05ea \u05dc\u05d4\u05d6\u05de\u05e0\u05d4..."}),(0,xy.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,xy.jsx)(Tv,{type:"button",variant:"secondary",onClick:i,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,xy.jsxs)(Tv,{type:"submit",variant:"primary",children:[n?"\u05e2\u05d3\u05db\u05df":"\u05e6\u05d5\u05e8"," \u05d4\u05d6\u05de\u05e0\u05d4"]})]})]})}const hw=["checkInTimeStr","checkOutTimeStr"];function fw(e){let{bookings:n=[],loading:r=!1,error:i=null,onSave:o,onDelete:a,settings:s=null,currentProjectId:l=null,onProjectSelect:c,selectedApartment:u=null}=e;const[h,f]=(0,t.useState)("calendar"),[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(null),[v,b]=(0,t.useState)(!1),w=(e,t)=>{console.error(e),console.error(t||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05dc\u05ea\u05d9 \u05e6\u05e4\u05d5\u05d9\u05d4")},x=e=>{y(e),m(!0)},S=()=>{m(!1),y(null)};const k=async e=>{try{await Sd(fu(my,"bookings",e))}catch(i){w(i,"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05d7\u05d9\u05e7\u05ea \u05d4\u05d4\u05d6\u05de\u05e0\u05d4")}};return r?(0,xy.jsx)("div",{className:"flex justify-center items-center h-full p-8 animate-fade-in",children:(0,xy.jsxs)("div",{className:"modern-card p-8 text-center max-w-md",children:[(0,xy.jsx)("div",{className:"w-16 h-16 bg-gradient-primary rounded-2xl mx-auto mb-4 flex items-center justify-center animate-pulse-soft",children:(0,xy.jsx)("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"})}),(0,xy.jsx)("h3",{className:"text-xl font-semibold text-primary-800 mb-2",children:"\u05d8\u05d5\u05e2\u05df \u05d4\u05d6\u05de\u05e0\u05d5\u05ea..."}),(0,xy.jsx)("p",{className:"text-primary-600",children:"\u05de\u05d1\u05d9\u05d0 \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05de\u05d4\u05e9\u05e8\u05ea"})]})}):i?(0,xy.jsx)("div",{className:"flex justify-center items-center h-full p-8",children:(0,xy.jsxs)("div",{className:"modern-card p-8 text-center max-w-md border-error-200 bg-error-50/50",children:[(0,xy.jsx)("div",{className:"w-16 h-16 bg-gradient-error rounded-2xl mx-auto mb-4 flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-white text-2xl",children:"\u26a0\ufe0f"})}),(0,xy.jsx)("h3",{className:"text-xl font-semibold text-error-800 mb-2",children:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"}),(0,xy.jsx)("p",{className:"text-error-600",children:i})]})}):(0,xy.jsxs)("div",{className:"min-h-full p-6 animate-fade-in",children:[(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 flex flex-col md:flex-row md:justify-between md:items-center gap-4 border border-white/20",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-4",children:[(0,xy.jsx)("div",{className:"p-3 bg-gradient-to-l from-purple-500 to-blue-400 rounded-2xl text-white shadow-lg flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-2xl",children:(0,xy.jsx)(Ay,{})})}),(0,xy.jsx)("h2",{className:"text-2xl font-bold text-primary-900",children:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05d4\u05d6\u05de\u05e0\u05d5\u05ea"})]}),(0,xy.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xy.jsx)(Tv,{onClick:()=>f("calendar"===h?"list":"calendar"),variant:"ghost",size:"md",icon:"calendar"===h?(0,xy.jsx)(By,{className:"w-5 h-5"}):(0,xy.jsx)(Ay,{className:"w-5 h-5"}),children:"calendar"===h?"\u05ea\u05e6\u05d5\u05d2\u05ea \u05e8\u05e9\u05d9\u05de\u05d4":"\u05ea\u05e6\u05d5\u05d2\u05ea \u05dc\u05d5\u05d7 \u05e9\u05e0\u05d4"}),(0,xy.jsx)(Tv,{onClick:()=>{y(null),m(!0)},variant:"accent",size:"md",icon:(0,xy.jsx)(zy,{className:"w-5 h-5"}),className:"min-w-[140px]",children:"\u05d4\u05d6\u05de\u05e0\u05d4 \u05d7\u05d3\u05e9\u05d4"})]})]}),(0,xy.jsx)("div",{className:"flex-1",children:"calendar"===h?(0,xy.jsx)($b,{bookings:n,onEdit:x,onDelete:k,onDateClick:e=>{y(null),m(!0)}}):(0,xy.jsx)(iw,{bookings:n,onEdit:x,onDelete:k})}),(0,xy.jsx)(cv,{isOpen:p,onClose:S,children:(0,xy.jsxs)("div",{className:"p-6 max-w-2xl w-full",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-primary-100",children:[(0,xy.jsx)("div",{className:"p-2 bg-gradient-primary rounded-xl",children:(0,xy.jsx)(Ay,{className:"w-5 h-5 text-white"})}),(0,xy.jsx)("h2",{className:"text-xl font-bold text-primary-800",children:g?"\u05e2\u05e8\u05d9\u05db\u05ea \u05d4\u05d6\u05de\u05e0\u05d4":"\u05d4\u05d6\u05de\u05e0\u05d4 \u05d7\u05d3\u05e9\u05d4"})]}),(0,xy.jsx)(dw,{booking:g,onSubmit:async e=>{if(console.log("[BookingsView] \u05d4\u05ea\u05d7\u05dc\u05ea \u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05d6\u05de\u05e0\u05d4:",e),!yy.currentUser)return void w(new Error("\u05dc\u05d0 \u05de\u05d7\u05d5\u05d1\u05e8 \u05dc\u05de\u05e2\u05e8\u05db\u05ea"),"\u05e0\u05d3\u05e8\u05e9\u05ea \u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea \u05db\u05d3\u05d9 \u05dc\u05e9\u05de\u05d5\u05e8 \u05d4\u05d6\u05de\u05e0\u05d5\u05ea");const{checkInTimeStr:t,checkOutTimeStr:r}=e,o=d(d({},Jy(e,hw)),{},{checkInTime:t,checkOutTime:r,createdAt:new Date,updatedAt:new Date,apartmentId:null===u||void 0===u?void 0:u.id});console.log("[BookingsView] \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05dc\u05e9\u05de\u05d9\u05e8\u05d4:",{checkInTimeStr:t,checkOutTimeStr:r,checkInTime:t,checkOutTime:r,dataToSave:o});const a=Kb(e.checkIn),s=Kb(e.checkOut);console.log("[BookingsView] \u05ea\u05d0\u05e8\u05d9\u05db\u05d9\u05dd \u05dc\u05d0\u05d7\u05e8 \u05d4\u05de\u05e8\u05d4:",{checkIn:a,checkOut:s});if(n.some(e=>{if(g&&e.id===g.id)return!1;const t=Kb(e.checkIn),n=Kb(e.checkOut),r=(i=s,o=t,a<n&&o<i);var i,o;return console.log("[BookingsView] \u05d1\u05d3\u05d9\u05e7\u05ea \u05d7\u05e4\u05d9\u05e4\u05d4 \u05e2\u05dd \u05d4\u05d6\u05de\u05e0\u05d4:",{existing:e.guestName,existingCheckIn:t,existingCheckOut:n,hasOverlap:r}),r}))return console.log("[BookingsView] \u05e0\u05de\u05e6\u05d0\u05d4 \u05d7\u05e4\u05d9\u05e4\u05d4 - \u05de\u05e6\u05d9\u05d2 \u05d0\u05d6\u05d4\u05e8\u05d4"),void b(!0);try{if(!g&&e.guestName&&e.guestPhone&&e.guestEmail)try{console.log("[BookingsView] \u05d9\u05d5\u05e6\u05e8 \u05d0\u05d5\u05e8\u05d7 \u05d7\u05d3\u05e9"),await kd(hu(my,"guests"),{name:e.guestName,phone:e.guestPhone,email:e.guestEmail,notes:"\u05e0\u05d5\u05e6\u05e8 \u05d0\u05d5\u05d8\u05d5\u05de\u05d8\u05d9\u05ea \u05de\u05d4\u05d6\u05de\u05e0\u05d4 - ".concat((new Date).toLocaleDateString("he-IL")),apartmentId:null===u||void 0===u?void 0:u.id}),console.log("[BookingsView] \u05d0\u05d5\u05e8\u05d7 \u05e0\u05d5\u05e6\u05e8 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4")}catch(l){console.warn("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea \u05d0\u05d5\u05e8\u05d7:",l)}if(g)console.log("[BookingsView] \u05de\u05e2\u05d3\u05db\u05df \u05d4\u05d6\u05de\u05e0\u05d4 \u05e7\u05d9\u05d9\u05de\u05ea:",g.id),await xd(fu(my,"bookings",g.id),o);else{console.log("[BookingsView] \u05d9\u05d5\u05e6\u05e8 \u05d4\u05d6\u05de\u05e0\u05d4 \u05d7\u05d3\u05e9\u05d4");const e=await kd(hu(my,"bookings"),o);console.log("[BookingsView] \u05d4\u05d6\u05de\u05e0\u05d4 \u05e0\u05d5\u05e6\u05e8\u05d4 \u05e2\u05dd ID:",e.id)}console.log("[BookingsView] \u05d4\u05d6\u05de\u05e0\u05d4 \u05e0\u05e9\u05de\u05e8\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),S()}catch(i){console.error("[BookingsView] \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05d4\u05d6\u05de\u05e0\u05d4:",i),w(i,"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05d4\u05d6\u05de\u05e0\u05d4")}},onCancel:S})]})}),(0,xy.jsx)(cv,{isOpen:v,onClose:()=>b(!1),children:(0,xy.jsxs)("div",{className:"p-6 text-center max-w-md",children:[(0,xy.jsx)("div",{className:"w-16 h-16 bg-gradient-error rounded-2xl mx-auto mb-4 flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-white text-2xl",children:"\u26a0\ufe0f"})}),(0,xy.jsx)("h2",{className:"text-xl font-bold text-error-800 mb-4",children:"\u05e9\u05d2\u05d9\u05d0\u05ea \u05db\u05e4\u05d9\u05dc\u05d5\u05ea"}),(0,xy.jsx)("p",{className:"text-error-600 mb-6",children:"\u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05de\u05ea \u05d4\u05d6\u05de\u05e0\u05d4 \u05d1\u05ea\u05d0\u05e8\u05d9\u05db\u05d9\u05dd \u05d0\u05dc\u05d5!"}),(0,xy.jsx)(Tv,{onClick:()=>b(!1),variant:"error",size:"md",className:"w-full",children:"\u05d4\u05d1\u05e0\u05ea\u05d9"})]})})]})}const pw=new class{constructor(){this.errors=[],this.warnings=[],this.performance=[],this.isDebugMode=!1}logError(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={timestamp:(new Date).toISOString(),error:e.message||e,stack:e.stack,component:t,context:n,type:"ERROR"};return this.errors.push(r),this.isDebugMode&&console.error("\ud83d\udc1b Bug Detected:",r),r}logWarning(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={timestamp:(new Date).toISOString(),message:e,component:t,context:n,type:"WARNING"};return this.warnings.push(r),this.isDebugMode&&console.warn("\u26a0\ufe0f Warning:",r),r}measurePerformance(e,t){const n=performance.now(),r=t(),i=performance.now()-n,o={timestamp:(new Date).toISOString(),name:e,duration:"".concat(i.toFixed(2),"ms"),type:"PERFORMANCE"};return this.performance.push(o),i>100&&this.isDebugMode&&console.warn("\ud83d\udc0c Slow Performance:",o),r}validateProps(e,t,n){const r=[];return t.forEach(t=>{void 0!==e[t]&&null!==e[t]||r.push("Missing required prop: ".concat(t))}),Object.keys(e).forEach(t=>{void 0===e[t]&&r.push("Prop ".concat(t," is undefined"))}),r.length>0&&this.logWarning("Props validation failed in ".concat(n),n,{issues:r,props:e}),r}validateState(e,t){const n=[];return null!==e&&void 0!==e||n.push("State is null or undefined"),Object.keys(e||{}).forEach(t=>{const r=e[t];Array.isArray(r)&&0===r.length&&t.includes("data")&&n.push("".concat(t," array is empty - might indicate data loading issue"))}),n.length>0&&this.logWarning("State validation issues in ".concat(t),t,{issues:n,state:e}),n}validateApiResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=[];return e||r.push("API response is empty"),e&&"object"===typeof e&&n.forEach(t=>{t in e||r.push("Missing expected field: ".concat(t))}),r.length>0&&this.logError(new Error("API Response validation failed for ".concat(t)),"API",{issues:r,response:e,endpoint:t}),r}generateReport(){const e={timestamp:(new Date).toISOString(),summary:{totalErrors:this.errors.length,totalWarnings:this.warnings.length,performanceIssues:this.performance.filter(e=>parseFloat(e.duration)>100).length},errors:this.errors,warnings:this.warnings,performance:this.performance};return this.isDebugMode&&(console.group("\ud83d\udd0d Bug Detection Report"),console.table(e.summary),console.log("Full Report:",e),console.groupEnd()),e}clearLogs(){this.errors=[],this.warnings=[],this.performance=[]}checkMemoryUsage(){if(performance.memory){const e={used:Math.round(performance.memory.usedJSHeapSize/1048576),total:Math.round(performance.memory.totalJSHeapSize/1048576),limit:Math.round(performance.memory.jsHeapSizeLimit/1048576)};return e.used>.8*e.limit&&this.logWarning("High memory usage detected","Memory",e),e}return null}};function mw(e){return{logError:(t,n)=>pw.logError(t,e,n),logWarning:(t,n)=>pw.logWarning(t,e,n),validateProps:(t,n)=>pw.validateProps(t,n,e),validateState:t=>pw.validateState(t,e),measurePerf:(t,n)=>pw.measurePerformance("".concat(e,".").concat(t),n),generateReport:()=>pw.generateReport(),checkMemory:()=>pw.checkMemoryUsage()}}t.Component;function gw(e,n){const{logError:r,logWarning:i}=mw("useGuestEmail"),[o,a]=(0,t.useState)(!1),s=t=>{let r=(null===e||void 0===e?void 0:e.checkInTime)||"",i=(null===e||void 0===e?void 0:e.checkOutTime)||"";console.log("\ud83d\udd0d \u05de\u05d7\u05e4\u05e9 \u05d4\u05d6\u05de\u05e0\u05d4 \u05dc\u05d0\u05d5\u05e8\u05d7:",t.name,t.email),console.log("\ud83d\udccb \u05db\u05dc \u05d4\u05d4\u05d6\u05de\u05e0\u05d5\u05ea:",n);const o=(e=>n.find(t=>t.guestEmail===e.email||t.guestName===e.name))(t);return console.log("\ud83c\udfaf \u05d4\u05d6\u05de\u05e0\u05d4 \u05e9\u05e0\u05de\u05e6\u05d0\u05d4:",o),o?(console.log("\u23f0 \u05e9\u05e2\u05ea \u05e6'\u05e7-\u05d0\u05d9\u05df \u05de\u05d4\u05d4\u05d6\u05de\u05e0\u05d4:",o.checkInTime),console.log("\ud83d\udcc5 \u05ea\u05d0\u05e8\u05d9\u05da \u05e6'\u05e7-\u05d0\u05d9\u05df \u05de\u05d4\u05d4\u05d6\u05de\u05e0\u05d4:",o.checkIn),console.log("\u23f0 \u05e9\u05e2\u05ea \u05e6'\u05e7-\u05d0\u05d0\u05d5\u05d8 \u05de\u05d4\u05d4\u05d6\u05de\u05e0\u05d4:",o.checkOutTime),console.log("\ud83d\udcc5 \u05ea\u05d0\u05e8\u05d9\u05da \u05e6'\u05e7-\u05d0\u05d0\u05d5\u05d8 \u05de\u05d4\u05d4\u05d6\u05de\u05e0\u05d4:",o.checkOut),o.checkInTime?(r=o.checkInTime,console.log("\u2705 \u05e0\u05de\u05e6\u05d0\u05d4 \u05d4\u05d6\u05de\u05e0\u05d4 \u05dc\u05d0\u05d5\u05e8\u05d7 \u05e2\u05dd \u05e9\u05e2\u05ea \u05e6'\u05e7-\u05d0\u05d9\u05df:",r)):console.log("\u26a0\ufe0f \u05d0\u05d9\u05df \u05e9\u05e2\u05ea \u05e6'\u05e7-\u05d0\u05d9\u05df \u05d1\u05d4\u05d6\u05de\u05e0\u05d4"),o.checkOutTime?(i=o.checkOutTime,console.log("\u2705 \u05e0\u05de\u05e6\u05d0\u05d4 \u05d4\u05d6\u05de\u05e0\u05d4 \u05dc\u05d0\u05d5\u05e8\u05d7 \u05e2\u05dd \u05e9\u05e2\u05ea \u05e6'\u05e7-\u05d0\u05d0\u05d5\u05d8:",i)):console.log("\u26a0\ufe0f \u05d0\u05d9\u05df \u05e9\u05e2\u05ea \u05e6'\u05e7-\u05d0\u05d0\u05d5\u05d8 \u05d1\u05d4\u05d6\u05de\u05e0\u05d4")):console.log("\u274c \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d4 \u05d4\u05d6\u05de\u05e0\u05d4 \u05dc\u05d0\u05d5\u05e8\u05d7"),{checkInTimeToSend:r,checkOutTimeToSend:i}};return{sendEmail:async e=>{if(!e.email)return i("Cannot send email - no email address",{guest:e}),void alert("\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05dc\u05d5\u05d7 \u05de\u05d9\u05d9\u05dc - \u05d0\u05d9\u05df \u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0\u05d5\u05e8\u05d7 \u05d6\u05d4");if(!tw(e.email))return i("Invalid email address",{email:e.email}),void alert("\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4");a(!0);try{const t="\u05e9\u05d5\u05dc\u05d7 \u05de\u05d9\u05d9\u05dc \u05dc-".concat(e.name,"...");console.log(t);const{checkInTimeToSend:n,checkOutTimeToSend:r}=s(e);console.log("\ud83d\udce4 \u05e9\u05d5\u05dc\u05d7 \u05de\u05d9\u05d9\u05dc \u05e2\u05dd \u05e9\u05e2\u05ea \u05e6'\u05e7-\u05d0\u05d9\u05df:",n),console.log("\ud83d\udce4 \u05e9\u05d5\u05dc\u05d7 \u05de\u05d9\u05d9\u05dc \u05e2\u05dd \u05e9\u05e2\u05ea \u05e6'\u05e7-\u05d0\u05d0\u05d5\u05d8:",r);const o=await ew(e.email,e.name,"\u05de\u05d7\u05db\u05d9\u05dd \u05dc\u05da!","",n,n,r);if(!o.success)throw new Error(o.error);alert("\u05d4\u05de\u05d9\u05d9\u05dc \u05e0\u05e9\u05dc\u05d7 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 \u05dc-".concat(e.name," (").concat(e.email,")")),i("Email sent successfully",{guest:e.name,email:e.email})}catch(iB){r(iB,{action:"send_email",guest:e}),alert("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05de\u05d9\u05d9\u05dc \u05dc-".concat(e.name,": ").concat(iB.message))}finally{a(!1)}},sending:o}}function yw(e){let{isOpen:t,onClose:n,onSubmit:r,editingGuest:i,guestData:o,setGuestData:a,error:s}=e;const l=()=>{a({name:"",phone:"",email:"",notes:""}),n()};return(0,xy.jsx)(cv,{isOpen:t,onClose:l,children:(0,xy.jsxs)("div",{className:"p-6",children:[(0,xy.jsx)("h3",{className:"text-xl font-bold mb-4",children:i?"\u05e2\u05e8\u05d9\u05db\u05ea \u05d0\u05d5\u05e8\u05d7":"\u05d0\u05d5\u05e8\u05d7 \u05d7\u05d3\u05e9"}),(0,xy.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(e)},className:"space-y-4",children:[(0,xy.jsx)(lw,{label:"\u05e9\u05dd \u05d4\u05d0\u05d5\u05e8\u05d7",value:o.name,onChange:e=>a(t=>d(d({},t),{},{name:e.target.value})),required:!0}),(0,xy.jsx)(lw,{label:"\u05d8\u05dc\u05e4\u05d5\u05df",type:"tel",value:o.phone,onChange:e=>a(t=>d(d({},t),{},{phone:e.target.value}))}),(0,xy.jsx)(lw,{label:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",type:"email",value:o.email,onChange:e=>a(t=>d(d({},t),{},{email:e.target.value}))}),(0,xy.jsx)(cw,{label:"\u05d4\u05e2\u05e8\u05d5\u05ea",value:o.notes,onChange:e=>a(t=>d(d({},t),{},{notes:e.target.value}))}),s&&(0,xy.jsx)("div",{className:"text-error-600 text-sm",children:s}),(0,xy.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,xy.jsx)(Tv,{type:"button",variant:"ghost",onClick:l,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,xy.jsx)(Tv,{type:"submit",variant:"primary",children:i?"\u05e9\u05de\u05d5\u05e8 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd":"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05d5\u05e8\u05d7"})]})]})]})})}function vw(e){let{guests:n=[],onSave:r,onDelete:i,settings:o={},bookings:a=[]}=e;const{logError:s,validateProps:l}=mw("GuestsView"),{sendEmail:c}=gw(o,a);t.useEffect(()=>{l({guests:n,onSave:r,onDelete:i},["onSave","onDelete"]),Array.isArray(n)||s(new Error("guests prop must be an array"),{guests:n})},[n,r,i,l,s]);const[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)({name:"",phone:"",email:"",notes:""}),[g,y]=(0,t.useState)(null);return g?(0,xy.jsx)("div",{className:"flex justify-center items-center h-full p-8",children:(0,xy.jsxs)("div",{className:"modern-card p-8 text-center max-w-md border-error-200 bg-error-50/50",children:[(0,xy.jsx)("div",{className:"w-16 h-16 bg-gradient-error rounded-2xl mx-auto mb-4 flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-white text-2xl",children:"\u26a0\ufe0f"})}),(0,xy.jsx)("h3",{className:"text-xl font-semibold text-error-800 mb-2",children:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"}),(0,xy.jsx)("p",{className:"text-error-600",children:g})]})}):(0,xy.jsxs)("div",{className:"min-h-full p-6 animate-fade-in",children:[(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 flex flex-col md:flex-row md:justify-between md:items-center gap-4 border border-white/20",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-4",children:[(0,xy.jsx)("div",{className:"p-3 bg-gradient-to-l from-purple-500 to-blue-400 rounded-2xl text-white shadow-lg flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-2xl",children:(0,xy.jsx)(Py,{})})}),(0,xy.jsx)("h2",{className:"text-2xl font-bold text-primary-900",children:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05d0\u05d5\u05e8\u05d7\u05d9\u05dd"})]}),(0,xy.jsx)(Tv,{onClick:()=>{f(null),m({name:"",phone:"",email:"",notes:""}),d(!0)},variant:"accent",size:"md",icon:(0,xy.jsx)(zy,{className:"w-5 h-5"}),className:"min-w-[140px]",children:"\u05d0\u05d5\u05e8\u05d7 \u05d7\u05d3\u05e9"})]}),(0,xy.jsx)("div",{className:"modern-card overflow-auto",children:(0,xy.jsx)(rw,{items:n,onEdit:e=>{f(e.id),m({name:e.name||"",phone:e.phone||"",email:e.email||"",notes:e.notes||""}),d(!0)},onDelete:i,onSendEmail:c,showEmailButton:!0,getTitle:e=>e.name,getSubtitle:e=>e.phone,getMetadata:e=>[{label:"\u05d8\u05dc\u05e4\u05d5\u05df",value:e.phone},{label:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",value:e.email},{label:"\u05d4\u05e2\u05e8\u05d5\u05ea",value:e.notes}],hideAddButton:!0})}),(0,xy.jsx)(yw,{isOpen:u,onClose:()=>{d(!1),f(null),y(null)},onSubmit:async e=>{if(e.preventDefault(),!p.email||tw(p.email))try{h?await r(h,p):await r(null,p),d(!1),f(null),m({name:"",phone:"",email:"",notes:""}),y(null)}catch(g){y("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05d0\u05d5\u05e8\u05d7"),console.error("Error saving guest:",g)}else y("\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05de\u05d9\u05d9\u05dc \u05d0\u05d9\u05e0\u05d4 \u05ea\u05e7\u05d9\u05e0\u05d4")},editingGuest:h,guestData:p,setGuestData:m,error:g})]})}function bw(e){let{task:t={},onSubmit:n,onCancel:r,isEditing:i=!1}=e;const o=d(d({},{title:"",description:"",status:"pending",priority:"medium",dueDate:(new Date).toISOString().split("T")[0],emailEnabled:!1,emailTime:"09:00",emailDaysBefore:0}),t);return(0,xy.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(o)},className:"space-y-4",children:[(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u05db\u05d5\u05ea\u05e8\u05ea"}),(0,xy.jsx)("input",{type:"text",name:"title",value:o.title,onChange:e=>n(d(d({},o),{},{title:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u05ea\u05d9\u05d0\u05d5\u05e8"}),(0,xy.jsx)("textarea",{name:"description",value:o.description,onChange:e=>n(d(d({},o),{},{description:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"3"})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u05e1\u05d8\u05d8\u05d5\u05e1"}),(0,xy.jsxs)("select",{name:"status",value:o.status,onChange:e=>n(d(d({},o),{},{status:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,xy.jsx)("option",{value:"pending",children:"\u05de\u05de\u05ea\u05d9\u05df"}),(0,xy.jsx)("option",{value:"in_progress",children:"\u05d1\u05d1\u05d9\u05e6\u05d5\u05e2"}),(0,xy.jsx)("option",{value:"completed",children:"\u05d4\u05d5\u05e9\u05dc\u05dd"})]})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u05e2\u05d3\u05d9\u05e4\u05d5\u05ea"}),(0,xy.jsxs)("select",{name:"priority",value:o.priority,onChange:e=>n(d(d({},o),{},{priority:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,xy.jsx)("option",{value:"low",children:"\u05e0\u05de\u05d5\u05db\u05d4"}),(0,xy.jsx)("option",{value:"medium",children:"\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u05ea"}),(0,xy.jsx)("option",{value:"high",children:"\u05d2\u05d1\u05d5\u05d4\u05d4"})]})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05e2\u05d3"}),(0,xy.jsx)("input",{type:"date",name:"dueDate",value:o.dueDate,onChange:e=>n(d(d({},o),{},{dueDate:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,xy.jsxs)("div",{className:"border-t border-gray-200 pt-4 space-y-3",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xy.jsx)("input",{type:"checkbox",id:"taskEmailEnabled",checked:o.emailEnabled,onChange:e=>n(d(d({},o),{},{emailEnabled:e.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),(0,xy.jsx)("label",{htmlFor:"taskEmailEnabled",className:"text-sm font-medium text-gray-700",children:"\ud83d\udce7 \u05e9\u05dc\u05d7 \u05ea\u05d6\u05db\u05d5\u05e8\u05ea \u05d1\u05de\u05d9\u05d9\u05dc \u05dc\u05de\u05e9\u05d9\u05de\u05d4 \u05d6\u05d5"})]}),o.emailEnabled&&(0,xy.jsx)("div",{className:"pr-7 space-y-3 animate-fade-in",children:(0,xy.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"\u05e9\u05e2\u05ea \u05e9\u05dc\u05d9\u05d7\u05d4"}),(0,xy.jsx)("input",{type:"time",value:o.emailTime,onChange:e=>n(d(d({},o),{},{emailTime:e.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"\u05d9\u05de\u05d9\u05dd \u05de\u05e8\u05d0\u05e9"}),(0,xy.jsxs)("select",{value:o.emailDaysBefore,onChange:e=>n(d(d({},o),{},{emailDaysBefore:parseInt(e.target.value)})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,xy.jsx)("option",{value:0,children:"\u05d1\u05d9\u05d5\u05dd \u05e2\u05e6\u05de\u05d5"}),(0,xy.jsx)("option",{value:1,children:"\u05d9\u05d5\u05dd \u05de\u05e8\u05d0\u05e9"}),(0,xy.jsx)("option",{value:2,children:"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd \u05de\u05e8\u05d0\u05e9"}),(0,xy.jsx)("option",{value:3,children:"3 \u05d9\u05de\u05d9\u05dd \u05de\u05e8\u05d0\u05e9"}),(0,xy.jsx)("option",{value:7,children:"\u05e9\u05d1\u05d5\u05e2 \u05de\u05e8\u05d0\u05e9"})]})]})]})})]}),(0,xy.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,xy.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,xy.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:i?"\u05e2\u05d3\u05db\u05df":"\u05e9\u05de\u05d5\u05e8"})]})]})}bw.defaultProps={isEditing:!1};const ww=e=>{switch(e){case"high":return"text-red-600 bg-red-50 px-2 py-1 rounded-lg";case"medium":return"text-yellow-700 bg-yellow-50 px-2 py-1 rounded-lg";case"low":return"text-green-600 bg-green-50 px-2 py-1 rounded-lg";default:return"text-gray-600 bg-gray-50 px-2 py-1 rounded-lg"}},xw=e=>{switch(e){case"completed":return"bg-gradient-to-l from-green-400 to-emerald-400 text-white shadow-sm";case"in_progress":return"bg-gradient-to-l from-blue-400 to-blue-600 text-white shadow-sm";case"pending":return"bg-gradient-to-l from-yellow-400 to-orange-400 text-white shadow-sm";default:return"bg-gray-200 text-gray-800"}};function Sw(e){let{tasks:t,onEdit:n,onDelete:r}=e;return(0,xy.jsx)("div",{className:"bg-white rounded-2xl shadow-lg overflow-auto border border-white/20",children:(0,xy.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xy.jsx)("thead",{className:"bg-gradient-to-l from-blue-50 to-purple-50",children:(0,xy.jsxs)("tr",{children:[(0,xy.jsx)("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"\u05db\u05d5\u05ea\u05e8\u05ea"}),(0,xy.jsx)("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"\u05e1\u05d8\u05d8\u05d5\u05e1"}),(0,xy.jsx)("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"\u05e2\u05d3\u05d9\u05e4\u05d5\u05ea"}),(0,xy.jsx)("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05e2\u05d3"}),(0,xy.jsx)("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"\u05ea\u05d6\u05db\u05d5\u05e8\u05ea \u05de\u05d9\u05d9\u05dc"}),(0,xy.jsx)("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea"})]})}),(0,xy.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:t.map(e=>(0,xy.jsxs)("tr",{className:"hover:bg-blue-50/60 cursor-pointer transition-all",onClick:()=>n(e),children:[(0,xy.jsx)("td",{className:"px-6 py-4 font-medium text-primary-800",children:(0,xy.jsxs)("div",{children:[(0,xy.jsx)("div",{className:"font-semibold",children:e.title}),e.description&&(0,xy.jsx)("div",{className:"text-xs text-primary-600 mt-1 max-w-xs truncate",children:e.description})]})}),(0,xy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,xy.jsxs)("span",{className:"inline-flex text-xs leading-5 font-bold rounded-full px-3 py-1 ".concat(xw(e.status)),children:["pending"===e.status&&"\u05de\u05de\u05ea\u05d9\u05df","in_progress"===e.status&&"\u05d1\u05d1\u05d9\u05e6\u05d5\u05e2","completed"===e.status&&"\u05d4\u05d5\u05e9\u05dc\u05dd"]})}),(0,xy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,xy.jsxs)("span",{className:"font-semibold text-xs ".concat(ww(e.priority)),children:["high"===e.priority&&"\u05d2\u05d1\u05d5\u05d4\u05d4","medium"===e.priority&&"\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u05ea","low"===e.priority&&"\u05e0\u05de\u05d5\u05db\u05d4"]})}),(0,xy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-primary-700 text-sm",children:e.dueDate}),(0,xy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.emailEnabled?(0,xy.jsxs)("div",{className:"flex items-center gap-1 text-blue-600",children:[(0,xy.jsx)("span",{className:"text-xs",children:"\ud83d\udce7"}),(0,xy.jsxs)("span",{className:"text-xs font-medium",children:[e.emailTime||"09:00",e.emailDaysBefore>0&&(0,xy.jsxs)("span",{className:"text-blue-500",children:[" ","(-",e.emailDaysBefore,")"]})]})]}):(0,xy.jsx)("span",{className:"text-gray-400 text-xs",children:"-"})}),(0,xy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-left text-sm font-medium",children:(0,xy.jsx)("button",{onClick:t=>{t.stopPropagation(),r(e.id)},className:"text-red-600 hover:text-white hover:bg-gradient-to-l hover:from-red-400 hover:to-pink-500 px-3 py-1 rounded-lg transition-all font-bold shadow-sm",children:"\u05de\u05d7\u05e7"})})]},e.id))})]})})}const kw=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const[i,o]=(0,t.useState)([]),[a,s]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0),[u,h]=(0,t.useState)(!1),f=(0,t.useRef)(null),p=(0,t.useRef)(!0),m=(0,t.useMemo)(()=>Array.isArray(n)?n:[],[n]),g=(0,t.useMemo)(()=>JSON.stringify(m.map(e=>e.toString())),[m]),y=(0,t.useCallback)(()=>{f.current&&(f.current(),f.current=null)},[]),v=(0,t.useCallback)(()=>{o([]),s(null),c(!0),h(!1)},[]);return(0,t.useEffect)(()=>{if(y(),p.current=!0,!e)return v(),void c(!1);if(!navigator.onLine)return s("\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e0\u05d8\u05e8\u05e0\u05d8. \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05d3\u05d5\u05e8\u05e9\u05ea \u05d7\u05d9\u05d1\u05d5\u05e8 \u05e4\u05e2\u05d9\u05dc \u05db\u05d3\u05d9 \u05dc\u05e2\u05d1\u05d5\u05d3."),void c(!1);try{const n=hu(my,e);let i=ed(n);if(m.length>0&&(i=ed(n,...m)),r&&!u)try{i=ed(i,od(r))}catch(t){console.warn("\u274c OrderBy failed for ".concat(r,", continuing without order"))}f.current=Ed(i,e=>{if(!p.current)return;const t=[];e.docs.forEach(e=>{t.push(d(d({},e.data()),{},{id:e.id}))}),o(t),c(!1),s(null)},t=>{if(p.current){if(console.error("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea ".concat(e,":"),t),"failed-precondition"===t.code&&t.message.includes("index")&&r&&!u)return console.warn("\ud83d\udd04 Index not ready for ".concat(e," with orderBy ").concat(r,", falling back to no orderBy")),void setTimeout(()=>{p.current&&h(!0)},100);s("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd: ".concat(t.message)),c(!1)}})}catch(n){console.error("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea \u05e9\u05d0\u05d9\u05dc\u05ea\u05d4 \u05e2\u05d1\u05d5\u05e8 ".concat(e,":"),n),s("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05d2\u05d3\u05e8\u05ea \u05d4\u05e9\u05d0\u05d9\u05dc\u05ea\u05d4: ".concat(n.message)),c(!1)}return()=>{p.current=!1,y()}},[e,g,r,u,y,v]),(0,t.useEffect)(()=>()=>{p.current=!1,y()},[]),{documents:i,error:a,isLoading:l,indexFallback:u,cleanup:y}},Ew=(e,t,n)=>"reminder"===e?((e,t)=>'\n  <!DOCTYPE html>\n  <html dir="rtl" lang="he">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>\u05ea\u05d6\u05db\u05d5\u05e8\u05ea: '.concat(e.title,"</title>\n    ").concat("\n  <style>\n    body { \n      font-family: 'Segoe UI', Arial, sans-serif; \n      line-height: 1.6; \n      color: #333; \n      margin: 0; \n      padding: 0; \n      background-color: #f4f4f4; \n    }\n    .container { \n      max-width: 600px; \n      margin: 0 auto; \n      background: white; \n      border-radius: 12px; \n      overflow: hidden; \n      box-shadow: 0 4px 6px rgba(0,0,0,0.1); \n    }\n    .header { \n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); \n      color: white; \n      padding: 30px 20px; \n      text-align: center; \n    }\n    .content { \n      padding: 30px 20px; \n    }\n    .title { \n      font-size: 24px; \n      font-weight: bold; \n      margin: 0 0 10px 0; \n    }\n    .subtitle { \n      font-size: 14px; \n      opacity: 0.9; \n      margin: 0; \n    }\n    .card { \n      background: #f8f9fa; \n      border-radius: 8px; \n      padding: 20px; \n      margin: 20px 0; \n      border-right: 4px solid; \n    }\n    .reminder-card { \n      border-right-color: #ffc107; \n      background: linear-gradient(135deg, #fff8e1 0%, #fff3c4 100%); \n    }\n    .task-card { \n      border-right-color: #007bff; \n      background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); \n    }\n    .footer { \n      background: #f8f9fa; \n      padding: 20px; \n      text-align: center; \n      font-size: 12px; \n      color: #666; \n    }\n    .button { \n      display: inline-block; \n      background: #007bff; \n      color: white; \n      padding: 12px 24px; \n      text-decoration: none; \n      border-radius: 6px; \n      font-weight: bold; \n      margin: 10px 0; \n    }\n    .date-badge { \n      background: #e9ecef; \n      padding: 4px 8px; \n      border-radius: 4px; \n      font-size: 12px; \n      font-weight: bold; \n      color: #495057; \n    }\n    .priority-high { color: #dc3545; font-weight: bold; }\n    .priority-medium { color: #ffc107; font-weight: bold; }\n    .priority-low { color: #28a745; font-weight: bold; }\n  </style>\n",'\n  </head>\n  <body>\n    <div class="container">\n      <div class="header">\n        <div class="title">\ud83d\udcdd \u05ea\u05d6\u05db\u05d5\u05e8\u05ea \u05d7\u05e9\u05d5\u05d1\u05d4</div>\n        <div class="subtitle">\u05de').concat((null===t||void 0===t?void 0:t.propertyName)||"\u05de\u05e2\u05e8\u05db\u05ea \u05d4\u05e0\u05d9\u05d4\u05d5\u05dc",'</div>\n      </div>\n      \n      <div class="content">\n        <div class="card reminder-card">\n          <h2 style="margin: 0 0 15px 0; color: #856404;">\ud83d\uddd3\ufe0f ').concat(e.title,'</h2>\n          <p style="margin: 10px 0; line-height: 1.6;">').concat(e.content,"</p>\n          \n          ").concat(e.date?'\n            <div style="margin: 15px 0;">\n              <span class="date-badge">\ud83d\udcc5 '.concat(new Date(e.date).toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric",weekday:"long"}),"</span>\n            </div>\n          "):"",'\n        </div>\n        \n        <p style="text-align: center; margin: 25px 0;">\n          <a href="#" class="button">\ud83d\udc40 \u05e6\u05e4\u05d4 \u05d1\u05de\u05e2\u05e8\u05db\u05ea</a>\n        </p>\n      </div>\n      \n      <div class="footer">\n        <p>\u05e0\u05e9\u05dc\u05d7 \u05de').concat((null===t||void 0===t?void 0:t.propertyName)||"\u05de\u05e2\u05e8\u05db\u05ea \u05e0\u05d9\u05d4\u05d5\u05dc \u05d4\u05e0\u05db\u05e1","</p>\n        <p>\u05ea\u05d6\u05db\u05d5\u05e8\u05ea \u05d6\u05d5 \u05e0\u05e9\u05dc\u05d7\u05d4 \u05d0\u05d5\u05d8\u05d5\u05de\u05d8\u05d9\u05ea \u05de\u05d4\u05de\u05e2\u05e8\u05db\u05ea</p>\n      </div>\n    </div>\n  </body>\n  </html>\n"))(t,n):"task"===e?((e,t)=>'\n  <!DOCTYPE html>\n  <html dir="rtl" lang="he">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>\u05de\u05e9\u05d9\u05de\u05d4: '.concat(e.title,"</title>\n    ").concat("\n  <style>\n    body { \n      font-family: 'Segoe UI', Arial, sans-serif; \n      line-height: 1.6; \n      color: #333; \n      margin: 0; \n      padding: 0; \n      background-color: #f4f4f4; \n    }\n    .container { \n      max-width: 600px; \n      margin: 0 auto; \n      background: white; \n      border-radius: 12px; \n      overflow: hidden; \n      box-shadow: 0 4px 6px rgba(0,0,0,0.1); \n    }\n    .header { \n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); \n      color: white; \n      padding: 30px 20px; \n      text-align: center; \n    }\n    .content { \n      padding: 30px 20px; \n    }\n    .title { \n      font-size: 24px; \n      font-weight: bold; \n      margin: 0 0 10px 0; \n    }\n    .subtitle { \n      font-size: 14px; \n      opacity: 0.9; \n      margin: 0; \n    }\n    .card { \n      background: #f8f9fa; \n      border-radius: 8px; \n      padding: 20px; \n      margin: 20px 0; \n      border-right: 4px solid; \n    }\n    .reminder-card { \n      border-right-color: #ffc107; \n      background: linear-gradient(135deg, #fff8e1 0%, #fff3c4 100%); \n    }\n    .task-card { \n      border-right-color: #007bff; \n      background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); \n    }\n    .footer { \n      background: #f8f9fa; \n      padding: 20px; \n      text-align: center; \n      font-size: 12px; \n      color: #666; \n    }\n    .button { \n      display: inline-block; \n      background: #007bff; \n      color: white; \n      padding: 12px 24px; \n      text-decoration: none; \n      border-radius: 6px; \n      font-weight: bold; \n      margin: 10px 0; \n    }\n    .date-badge { \n      background: #e9ecef; \n      padding: 4px 8px; \n      border-radius: 4px; \n      font-size: 12px; \n      font-weight: bold; \n      color: #495057; \n    }\n    .priority-high { color: #dc3545; font-weight: bold; }\n    .priority-medium { color: #ffc107; font-weight: bold; }\n    .priority-low { color: #28a745; font-weight: bold; }\n  </style>\n",'\n  </head>\n  <body>\n    <div class="container">\n      <div class="header">\n        <div class="title">\u2705 \u05ea\u05d6\u05db\u05d5\u05e8\u05ea \u05de\u05e9\u05d9\u05de\u05d4</div>\n        <div class="subtitle">\u05de').concat((null===t||void 0===t?void 0:t.propertyName)||"\u05de\u05e2\u05e8\u05db\u05ea \u05d4\u05e0\u05d9\u05d4\u05d5\u05dc",'</div>\n      </div>\n      \n      <div class="content">\n        <div class="card task-card">\n          <h2 style="margin: 0 0 15px 0; color: #004085;">\ud83d\udccb ').concat(e.title,"</h2>\n          \n          ").concat(e.description?'\n            <p style="margin: 10px 0; line-height: 1.6;">'.concat(e.description,"</p>\n          "):"",'\n          \n          <div style="margin: 15px 0;">\n            <div style="display: inline-block; margin-left: 10px;">\n              <strong>\u05e2\u05d3\u05d9\u05e4\u05d5\u05ea:</strong> \n              <span class="priority-').concat(e.priority,'">\n                ').concat("high"===e.priority?"\ud83d\udd34 \u05d2\u05d1\u05d5\u05d4\u05d4":"medium"===e.priority?"\ud83d\udfe1 \u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u05ea":"\ud83d\udfe2 \u05e0\u05de\u05d5\u05db\u05d4",'\n              </span>\n            </div>\n            \n            <div style="display: inline-block;">\n              <strong>\u05e1\u05d8\u05d8\u05d5\u05e1:</strong> \n              <span style="color: ').concat("completed"===e.status?"#28a745":"in_progress"===e.status?"#007bff":"#ffc107",';">\n                ').concat("completed"===e.status?"\u2705 \u05d4\u05d5\u05e9\u05dc\u05dd":"in_progress"===e.status?"\ud83d\udd04 \u05d1\u05d1\u05d9\u05e6\u05d5\u05e2":"\u23f3 \u05de\u05de\u05ea\u05d9\u05df","\n              </span>\n            </div>\n          </div>\n          \n          ").concat(e.dueDate?'\n            <div style="margin: 15px 0;">\n              <span class="date-badge">\ud83d\uddd3\ufe0f \u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05e2\u05d3: '.concat(new Date(e.dueDate).toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric"}),"</span>\n            </div>\n          "):"",'\n        </div>\n        \n        <p style="text-align: center; margin: 25px 0;">\n          <a href="#" class="button">\ud83d\udcf1 \u05e4\u05ea\u05d7 \u05d1\u05de\u05e2\u05e8\u05db\u05ea</a>\n        </p>\n      </div>\n      \n      <div class="footer">\n        <p>\u05e0\u05e9\u05dc\u05d7 \u05de').concat((null===t||void 0===t?void 0:t.propertyName)||"\u05de\u05e2\u05e8\u05db\u05ea \u05e0\u05d9\u05d4\u05d5\u05dc \u05d4\u05e0\u05db\u05e1","</p>\n        <p>\u05ea\u05d6\u05db\u05d5\u05e8\u05ea \u05d6\u05d5 \u05e0\u05e9\u05dc\u05d7\u05d4 \u05d0\u05d5\u05d8\u05d5\u05de\u05d8\u05d9\u05ea \u05de\u05d4\u05de\u05e2\u05e8\u05db\u05ea</p>\n      </div>\n    </div>\n  </body>\n  </html>\n"))(t,n):"",_w=Kd(),jw=async(e,t,n,r)=>{try{const i=((e,t,n)=>{if(!e)return null;const r=new Date(e),i=new Date(r);i.setDate(i.getDate()-n);const[o,a]=t.split(":");return i.setHours(parseInt(o),parseInt(a),0,0),i})(t.date||t.dueDate,n.emailTime,n.emailDaysBefore);if(!i||i<new Date)return console.log("Email send time has passed or is invalid"),null;const o=Ew(e,t,r),a=(e=>{const t=[];return null!==e&&void 0!==e&&e.email&&t.push(e.email),null!==e&&void 0!==e&&e.additionalEmails&&Array.isArray(e.additionalEmails)&&t.push(...e.additionalEmails),t})(r),s=((e,t)=>"reminder"===e?"\u05ea\u05d6\u05db\u05d5\u05e8\u05ea: ".concat(t.title):"\u05de\u05e9\u05d9\u05de\u05d4: ".concat(t.title))(e,t),l=Gd(_w,"scheduleEmail"),c=await l({to:a.length>0?a:[],subject:s,html:o,scheduledTime:i.toISOString(),type:e,itemId:t.id,apartmentId:null===r||void 0===r?void 0:r.id});return console.log("Email scheduled successfully:",c.data),c.data}catch(iB){if(i(iB))return console.warn("\ud83d\udd0c Browser extension interference in email scheduling, ignoring:",iB.message),null;throw console.error("Error scheduling email:",iB),iB}};function Ow(e){let{initial:n,onSave:r,onCancel:i}=e;const[o,a]=(0,t.useState)((null===n||void 0===n?void 0:n.title)||""),[s,l]=(0,t.useState)((null===n||void 0===n?void 0:n.content)||""),[c,u]=(0,t.useState)((null===n||void 0===n?void 0:n.date)||""),[d,h]=(0,t.useState)((null===n||void 0===n?void 0:n.emailEnabled)||!1),[f,p]=(0,t.useState)((null===n||void 0===n?void 0:n.emailTime)||"09:00"),[m,g]=(0,t.useState)((null===n||void 0===n?void 0:n.emailDaysBefore)||0);return(0,xy.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r({title:o,content:s,date:c,emailEnabled:d,emailTime:f,emailDaysBefore:m})},className:"space-y-3 animate-fade-in",dir:"rtl",children:[(0,xy.jsx)("input",{className:"modern-input text-sm",placeholder:"\u05db\u05d5\u05ea\u05e8\u05ea \u05d4\u05ea\u05d6\u05db\u05d5\u05e8\u05ea...",value:o,onChange:e=>a(e.target.value),maxLength:40,required:!0,autoFocus:!0}),(0,xy.jsx)("textarea",{className:"modern-input resize-none text-sm",placeholder:"\u05ea\u05d5\u05db\u05df \u05d4\u05ea\u05d6\u05db\u05d5\u05e8\u05ea...",value:s,onChange:e=>l(e.target.value),rows:3,maxLength:200,required:!0}),(0,xy.jsx)("input",{type:"date",className:"modern-input text-sm",value:c,onChange:e=>u(e.target.value),placeholder:"\u05ea\u05d0\u05e8\u05d9\u05da (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05dc\u05d9)"}),(0,xy.jsxs)("div",{className:"border-t border-yellow-200 pt-3 space-y-2",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xy.jsx)("input",{type:"checkbox",id:"emailEnabled",checked:d,onChange:e=>h(e.target.checked),className:"w-4 h-4 text-yellow-600 bg-gray-100 border-gray-300 rounded focus:ring-yellow-500"}),(0,xy.jsx)("label",{htmlFor:"emailEnabled",className:"text-sm text-primary-700 font-medium",children:"\ud83d\udce7 \u05e9\u05dc\u05d7 \u05ea\u05d6\u05db\u05d5\u05e8\u05ea \u05d1\u05de\u05d9\u05d9\u05dc"})]}),d&&(0,xy.jsx)("div",{className:"space-y-2 pr-6 animate-fade-in",children:(0,xy.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-xs text-primary-600 mb-1",children:"\u05e9\u05e2\u05ea \u05e9\u05dc\u05d9\u05d7\u05d4"}),(0,xy.jsx)("input",{type:"time",value:f,onChange:e=>p(e.target.value),className:"modern-input text-xs w-full"})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-xs text-primary-600 mb-1",children:"\u05d9\u05de\u05d9\u05dd \u05de\u05e8\u05d0\u05e9"}),(0,xy.jsxs)("select",{value:m,onChange:e=>g(parseInt(e.target.value)),className:"modern-input text-xs w-full",children:[(0,xy.jsx)("option",{value:0,children:"\u05d1\u05d9\u05d5\u05dd \u05e2\u05e6\u05de\u05d5"}),(0,xy.jsx)("option",{value:1,children:"\u05d9\u05d5\u05dd \u05de\u05e8\u05d0\u05e9"}),(0,xy.jsx)("option",{value:2,children:"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd \u05de\u05e8\u05d0\u05e9"}),(0,xy.jsx)("option",{value:3,children:"3 \u05d9\u05de\u05d9\u05dd \u05de\u05e8\u05d0\u05e9"}),(0,xy.jsx)("option",{value:7,children:"\u05e9\u05d1\u05d5\u05e2 \u05de\u05e8\u05d0\u05e9"})]})]})]})})]}),(0,xy.jsxs)("div",{className:"flex gap-2 justify-end pt-1",children:[(0,xy.jsx)("button",{type:"button",onClick:i,className:"btn-secondary text-xs px-3 py-1",children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,xy.jsx)("button",{type:"submit",className:"btn-primary text-xs px-3 py-1",children:"\u05e9\u05de\u05d5\u05e8"})]})]})}function Tw(e){let{reminder:t,index:n,isEditing:r,onEdit:i,onSave:o,onCancelEdit:a,onDelete:s}=e;return(0,xy.jsx)("div",{className:"group p-3 bg-white border border-primary-100 rounded-lg shadow-sm hover:shadow-md transition-all duration-200 animate-slide-up",style:{animationDelay:"".concat(.1*n,"s")},children:r?(0,xy.jsx)(Ow,{initial:t,onSave:e=>o(d(d({},t),e)),onCancel:a}):(0,xy.jsxs)("div",{className:"relative",children:[(0,xy.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,xy.jsx)("h4",{className:"font-semibold text-primary-800 flex-1 leading-tight text-sm",children:t.title}),(0,xy.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,xy.jsx)("button",{className:"p-1 text-primary-400 hover:text-accent-600 hover:bg-white/50 rounded transition-all duration-200",onClick:()=>i(t.id),title:"\u05e2\u05e8\u05d5\u05da \u05ea\u05d6\u05db\u05d5\u05e8\u05ea",children:(0,xy.jsx)(Vy,{className:"w-3 h-3"})}),(0,xy.jsx)("button",{className:"p-1 text-primary-400 hover:text-error-600 hover:bg-white/50 rounded transition-all duration-200",onClick:()=>{window.confirm("\u05d4\u05d0\u05dd \u05dc\u05de\u05d7\u05d5\u05e7 \u05ea\u05d6\u05db\u05d5\u05e8\u05ea \u05d6\u05d5?")&&s(t.id)},title:"\u05de\u05d7\u05e7 \u05ea\u05d6\u05db\u05d5\u05e8\u05ea",children:(0,xy.jsx)(qy,{className:"w-3 h-3"})})]})]}),(0,xy.jsx)("div",{className:"text-primary-700 text-xs leading-relaxed whitespace-pre-line mb-2",children:t.content}),(0,xy.jsxs)("div",{className:"space-y-1 pt-2 border-t border-primary-100",children:[t.date&&(0,xy.jsxs)("div",{className:"flex items-center gap-1",children:[(0,xy.jsx)("div",{className:"w-1.5 h-1.5 bg-yellow-400 rounded-full"}),(0,xy.jsx)("span",{className:"text-xs text-yellow-600 font-medium",children:new Date(t.date).toLocaleDateString("he-IL",{month:"short",day:"numeric"})})]}),t.emailEnabled&&(0,xy.jsxs)("div",{className:"flex items-center gap-1",children:[(0,xy.jsx)("span",{className:"text-xs",children:"\ud83d\udce7"}),(0,xy.jsxs)("span",{className:"text-xs text-blue-600 font-medium",children:["\u05de\u05d9\u05d9\u05dc \u05d1\u05e9\u05e2\u05d4 ",t.emailTime||"09:00",t.emailDaysBefore>0&&" (".concat(t.emailDaysBefore," \u05d9\u05de\u05d9\u05dd \u05de\u05e8\u05d0\u05e9)")]})]})]}),(0,xy.jsx)("div",{className:"absolute top-0 left-0 w-4 h-4 bg-gradient-to-br from-yellow-200/50 to-transparent rounded-tl-lg pointer-events-none"})]})})}function Nw(e){let{hasError:t=!1}=e;return t?(0,xy.jsx)("div",{className:"h-full flex flex-col items-center justify-center",dir:"rtl",children:(0,xy.jsxs)("div",{className:"text-center py-8",children:[(0,xy.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl mx-auto mb-3 flex items-center justify-center",children:(0,xy.jsx)(Hy,{className:"w-6 h-6 text-gray-400"})}),(0,xy.jsx)("p",{className:"text-gray-500 font-medium text-sm",children:"\u05d0\u05d9\u05df \u05d6\u05d9\u05d4\u05d5\u05d9 \u05de\u05e9\u05ea\u05de\u05e9"}),(0,xy.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"\u05e0\u05d0 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05dc\u05de\u05e2\u05e8\u05db\u05ea"})]})}):(0,xy.jsxs)("div",{className:"text-center py-8 animate-fade-in",children:[(0,xy.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-100 to-orange-200 rounded-xl mx-auto mb-3 flex items-center justify-center",children:(0,xy.jsx)(Hy,{className:"w-6 h-6 text-yellow-600"})}),(0,xy.jsx)("p",{className:"text-primary-600 font-medium text-sm",children:"\u05d0\u05d9\u05df \u05ea\u05d6\u05db\u05d5\u05e8\u05d5\u05ea \u05e2\u05d3\u05d9\u05d9\u05df"}),(0,xy.jsx)("p",{className:"text-primary-400 text-xs mt-1",children:"\u05dc\u05d7\u05e5 \u05e2\u05dc + \u05db\u05d3\u05d9 \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05ea\u05d6\u05db\u05d5\u05e8\u05ea"})]})}function Iw(e){let{apartmentId:n,apartmentInfo:r}=e;const{reminders:o,loading:a,editing:s,saving:l,handleSave:c,handleDelete:u,startEditing:h,cancelEditing:f}=function(e,n){const r=(0,t.useMemo)(()=>e?[nd("apartmentId","==",e)]:[],[e]),{documents:o=[],isLoading:a}=kw(e?"reminders":null,r),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1);return{reminders:o,loading:a,editing:s,saving:c,handleSave:async t=>{u(!0);try{let o;if("new"===s){const n=d(d({},t),{},{apartmentId:e,createdAt:Od()}),r=await kd(hu(my,"reminders"),n);o=d(d({},n),{},{id:r.id})}else"string"===typeof s&&(await xd(fu(my,"reminders",s),t),o=d(d({},t),{},{id:s}));if(t.emailEnabled&&o)try{console.log("Scheduling email for reminder:",{title:o.title,apartmentInfo:n,emailSettings:{emailTime:t.emailTime,emailDaysBefore:t.emailDaysBefore}}),await jw("reminder",o,{emailTime:t.emailTime,emailDaysBefore:t.emailDaysBefore},n),console.log("Email scheduled for reminder:",o.title)}catch(r){i(r)?console.warn("\ud83d\udd0c Browser extension interference in email scheduling, ignoring:",r.message):console.error("Failed to schedule email:",r)}l(null)}finally{u(!1)}},handleDelete:async e=>{await Sd(fu(my,"reminders",e))},startEditing:e=>{l(e)},cancelEditing:()=>{l(null)}}}(n,r);return n?a?(0,xy.jsxs)("div",{className:"animate-pulse",children:[(0,xy.jsx)("div",{className:"h-4 bg-primary-200 rounded mb-3"}),(0,xy.jsxs)("div",{className:"space-y-2",children:[(0,xy.jsx)("div",{className:"h-16 bg-primary-100 rounded"}),(0,xy.jsx)("div",{className:"h-16 bg-primary-100 rounded"})]})]}):(0,xy.jsxs)("div",{className:"h-full flex flex-col",dir:"rtl",children:[(0,xy.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-primary-100",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xy.jsx)("div",{className:"p-2 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-lg",children:(0,xy.jsx)(Hy,{className:"w-4 h-4 text-white"})}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("h3",{className:"text-lg font-bold text-primary-800",children:"\u05ea\u05d6\u05db\u05d5\u05e8\u05d5\u05ea"}),(0,xy.jsxs)("p",{className:"text-xs text-primary-600",children:[(null===o||void 0===o?void 0:o.length)||0," \u05ea\u05d6\u05db\u05d5\u05e8\u05d5\u05ea \u05e4\u05e2\u05d9\u05dc\u05d5\u05ea"]})]})]}),(0,xy.jsx)("button",{className:"group p-2 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-lg text-white shadow-md hover:shadow-lg transition-all duration-200 hover:-translate-y-0.5",title:"\u05ea\u05d6\u05db\u05d5\u05e8\u05ea \u05d7\u05d3\u05e9\u05d4",onClick:()=>h("new"),disabled:l,children:(0,xy.jsx)(zy,{className:"w-4 h-4 transition-transform group-hover:rotate-90"})})]}),(0,xy.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1",children:[(!o||0===o.length)&&"new"!==s&&(0,xy.jsx)(Nw,{}),"new"===s&&(0,xy.jsx)("div",{className:"p-3 bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-lg animate-scale-in",children:(0,xy.jsx)(Ow,{initial:{},onSave:c,onCancel:f})}),null===o||void 0===o?void 0:o.map((e,t)=>(0,xy.jsx)(Tw,{reminder:e,index:t,isEditing:s===e.id,onEdit:h,onSave:c,onCancelEdit:f,onDelete:u},e.id))]}),l&&(0,xy.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-3 p-2 bg-white/50 backdrop-blur-sm rounded-lg border border-white/30 animate-fade-in",children:[(0,xy.jsx)("div",{className:"w-3 h-3 border-2 border-yellow-500 border-t-transparent rounded-full animate-spin"}),(0,xy.jsx)("span",{className:"text-primary-600 text-xs font-medium",children:"\u05e9\u05d5\u05de\u05e8 \u05ea\u05d6\u05db\u05d5\u05e8\u05ea..."})]})]}):(0,xy.jsx)(Nw,{hasError:!0})}function Cw(e){let{apartmentId:n,apartmentInfo:r}=e;const{tasks:i,loading:o,error:a,addTask:s,updateTask:l,deleteTask:c}=function(){const e=(0,t.useContext)(_y);if(!e)throw new Error("useTaskContext must be used within a TaskProvider");return e}(),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null);return o?(0,xy.jsx)("div",{className:"flex justify-center items-center h-full p-8 animate-fade-in",children:(0,xy.jsxs)("div",{className:"modern-card p-8 text-center max-w-md",children:[(0,xy.jsx)("div",{className:"w-16 h-16 bg-gradient-primary rounded-2xl mx-auto mb-4 flex items-center justify-center animate-pulse-soft",children:(0,xy.jsx)("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"})}),(0,xy.jsx)("h3",{className:"text-xl font-semibold text-primary-800 mb-2",children:"\u05d8\u05d5\u05e2\u05df \u05de\u05e9\u05d9\u05de\u05d5\u05ea..."}),(0,xy.jsx)("p",{className:"text-primary-600",children:"\u05de\u05d1\u05d9\u05d0 \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05de\u05d4\u05e9\u05e8\u05ea"})]})}):a?(0,xy.jsx)("div",{className:"flex justify-center items-center h-full p-8",children:(0,xy.jsxs)("div",{className:"modern-card p-8 text-center max-w-md border-error-200 bg-error-50/50",children:[(0,xy.jsx)("div",{className:"w-16 h-16 bg-gradient-error rounded-2xl mx-auto mb-4 flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-white text-2xl",children:"\u26a0\ufe0f"})}),(0,xy.jsx)("h3",{className:"text-xl font-semibold text-error-800 mb-2",children:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"}),(0,xy.jsx)("p",{className:"text-error-600",children:a})]})}):(0,xy.jsxs)("div",{className:"min-h-full p-6 animate-fade-in",children:[(0,xy.jsxs)("div",{className:"modern-card p-4 mb-6 flex justify-between items-center",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-4",children:[(0,xy.jsx)("div",{className:"p-3 bg-gradient-to-l from-purple-500 to-blue-400 rounded-2xl text-white shadow-lg flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-2xl",children:(0,xy.jsx)(Dy,{})})}),(0,xy.jsx)("h2",{className:"text-xl font-bold text-primary-900",children:"\u05de\u05e9\u05d9\u05de\u05d5\u05ea \u05d5\u05ea\u05d6\u05db\u05d5\u05e8\u05d5\u05ea"})]}),(0,xy.jsx)(Tv,{onClick:()=>{f(null),d(!0)},variant:"accent",size:"md",icon:(0,xy.jsx)(zy,{className:"w-5 h-5"}),children:"\u05de\u05e9\u05d9\u05de\u05d4 \u05d7\u05d3\u05e9\u05d4"})]}),(0,xy.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[(0,xy.jsx)("div",{className:"lg:col-span-2",children:(0,xy.jsxs)("div",{className:"modern-card overflow-auto h-full",children:[(0,xy.jsxs)("div",{className:"p-4 border-b border-primary-100 bg-gradient-to-r from-primary-50 to-accent-50",children:[(0,xy.jsx)("h3",{className:"text-lg font-semibold text-primary-800",children:"\u05e8\u05e9\u05d9\u05de\u05ea \u05de\u05e9\u05d9\u05de\u05d5\u05ea"}),(0,xy.jsxs)("p",{className:"text-sm text-primary-600",children:[(null===i||void 0===i?void 0:i.length)||0," \u05de\u05e9\u05d9\u05de\u05d5\u05ea \u05e4\u05e2\u05d9\u05dc\u05d5\u05ea"]})]}),(0,xy.jsx)("div",{className:"p-4",children:(0,xy.jsx)(Sw,{tasks:i,onEdit:e=>{f(e),d(!0)},onDelete:c})})]})}),(0,xy.jsx)("div",{className:"lg:col-span-1",children:(0,xy.jsx)("div",{className:"modern-card h-full",children:(0,xy.jsx)("div",{className:"p-4 h-full",children:(0,xy.jsx)(Iw,{apartmentId:n,apartmentInfo:r})})})})]}),(0,xy.jsx)(cv,{isOpen:u,onClose:()=>{d(!1),f(null)},children:(0,xy.jsxs)("div",{className:"p-6",children:[(0,xy.jsx)("h3",{className:"text-xl font-bold mb-4",children:h?"\u05e2\u05e8\u05d9\u05db\u05ea \u05de\u05e9\u05d9\u05de\u05d4":"\u05de\u05e9\u05d9\u05de\u05d4 \u05d7\u05d3\u05e9\u05d4"}),(0,xy.jsx)(bw,{task:h,onSubmit:async e=>{try{h?await l(h.id,e):await s(e),d(!1),f(null)}catch(a){console.error("Error saving task:",a)}},onCancel:()=>{d(!1),f(null)}})]})})]})}function Aw(e){let{inventory:n=[],onSave:r,onDelete:i}=e;const[o,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)({name:"",quantity:"",location:"",notes:""}),[h,f]=(0,t.useState)(null);return h?(0,xy.jsx)("div",{className:"flex justify-center items-center h-full p-8",children:(0,xy.jsxs)("div",{className:"modern-card p-8 text-center max-w-md border-error-200 bg-error-50/50",children:[(0,xy.jsx)("div",{className:"w-16 h-16 bg-gradient-error rounded-2xl mx-auto mb-4 flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-white text-2xl",children:"\u26a0\ufe0f"})}),(0,xy.jsx)("h3",{className:"text-xl font-semibold text-error-800 mb-2",children:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"}),(0,xy.jsx)("p",{className:"text-error-600",children:h})]})}):(0,xy.jsxs)("div",{className:"min-h-full p-6 animate-fade-in",children:[(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 flex flex-col md:flex-row md:justify-between md:items-center gap-4 border border-white/20",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-4",children:[(0,xy.jsx)("div",{className:"p-3 bg-gradient-to-l from-purple-500 to-blue-400 rounded-2xl text-white shadow-lg flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-2xl",children:(0,xy.jsx)(My,{})})}),(0,xy.jsx)("h2",{className:"text-2xl font-bold text-primary-900",children:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05de\u05dc\u05d0\u05d9"})]}),(0,xy.jsx)(Tv,{onClick:()=>{l(null),u({name:"",quantity:"",location:"",notes:""}),a(!0)},variant:"accent",size:"md",icon:(0,xy.jsx)(zy,{className:"w-5 h-5"}),className:"min-w-[140px]",children:"\u05e4\u05e8\u05d9\u05d8 \u05d7\u05d3\u05e9"})]}),(0,xy.jsx)("div",{className:"bg-white rounded-2xl shadow-lg overflow-auto border border-white/20",children:(0,xy.jsx)(rw,{items:n,onEdit:e=>{l(e),u({name:e.name||"",quantity:e.quantity||"",location:e.location||"",notes:e.notes||""}),a(!0)},onDelete:i,getTitle:e=>e.name,getSubtitle:e=>"\u05db\u05de\u05d5\u05ea: ".concat(e.quantity||0),getMetadata:e=>[{label:"\u05db\u05de\u05d5\u05ea",value:e.quantity},{label:"\u05de\u05d9\u05e7\u05d5\u05dd",value:e.location},{label:"\u05d4\u05e2\u05e8\u05d5\u05ea",value:e.notes}],hideAddButton:!0})}),(0,xy.jsx)(cv,{isOpen:o,onClose:()=>{a(!1),l(null),u({name:"",quantity:"",location:"",notes:""}),f(null)},children:(0,xy.jsxs)("div",{className:"p-6",children:[(0,xy.jsx)("h3",{className:"text-xl font-bold mb-4",children:s?"\u05e2\u05e8\u05d9\u05db\u05ea \u05e4\u05e8\u05d9\u05d8":"\u05e4\u05e8\u05d9\u05d8 \u05d7\u05d3\u05e9"}),(0,xy.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{s?await r(s.id,c):await r(null,c),a(!1),l(null),u({name:"",quantity:"",location:"",notes:""}),f(null)}catch(h){f("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8"),console.error("Error saving inventory item:",h)}},className:"space-y-4",children:[(0,xy.jsx)(lw,{label:"\u05e9\u05dd \u05d4\u05e4\u05e8\u05d9\u05d8",value:c.name,onChange:e=>u(t=>d(d({},t),{},{name:e.target.value})),required:!0}),(0,xy.jsx)(lw,{label:"\u05db\u05de\u05d5\u05ea",type:"number",value:c.quantity,onChange:e=>u(t=>d(d({},t),{},{quantity:e.target.value}))}),(0,xy.jsx)(lw,{label:"\u05de\u05d9\u05e7\u05d5\u05dd",value:c.location,onChange:e=>u(t=>d(d({},t),{},{location:e.target.value}))}),(0,xy.jsx)(cw,{label:"\u05d4\u05e2\u05e8\u05d5\u05ea",value:c.notes,onChange:e=>u(t=>d(d({},t),{},{notes:e.target.value}))}),h&&(0,xy.jsx)("div",{className:"text-error-600 text-sm",children:h}),(0,xy.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,xy.jsx)(Tv,{type:"button",variant:"ghost",onClick:()=>{a(!1),l(null),u({name:"",quantity:"",location:"",notes:""}),f(null)},children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,xy.jsx)(Tv,{type:"submit",variant:"primary",children:s?"\u05e9\u05de\u05d5\u05e8 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd":"\u05d4\u05d5\u05e1\u05e3 \u05e4\u05e8\u05d9\u05d8"})]})]})]})})]})}function Pw(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Pw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Dw=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Pw(e))&&(r&&(r+=" "),r+=t);return r};var Mw=n(9889),Rw=n.n(Mw),Lw=n(620),Uw=n.n(Lw),Fw=n(5268),Bw=n.n(Fw),zw=n(3097),Vw=n.n(zw),qw=n(9160),Ww=n.n(qw),Hw=function(e){return 0===e?0:e>0?1:-1},Kw=function(e){return Uw()(e)&&e.indexOf("%")===e.length-1},Gw=function(e){return Ww()(e)&&!Bw()(e)},Yw=function(e){return Gw(e)||Uw()(e)},Xw=0,Qw=function(e){var t=++Xw;return"".concat(e||"").concat(t)},$w=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Gw(e)&&!Uw()(e))return r;if(Kw(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return Bw()(n)&&(n=r),i&&n>t&&(n=t),n},Jw=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Zw=function(e,t){return Gw(e)&&Gw(t)?function(n){return e+n*(t-e)}:function(){return t}};function ex(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):Vw()(e,t))===n}):null}var tx=function(e,t){return Gw(e)&&Gw(t)?e-t:Uw()(e)&&Uw()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},nx=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},rx=n(9686),ix=n.n(rx),ox=n(1629),ax=n.n(ox),sx=n(6686),lx=n.n(sx),cx=n(9062);function ux(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function dx(e){return dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(e)}var hx=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fx=["points","pathLength"],px={svg:["viewBox","children"],polygon:fx,polyline:fx},mx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gx=function(e,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),!lx()(r))return null;var i={};return Object.keys(r).forEach(function(e){mx.includes(e)&&(i[e]=n||function(t){return r[e](r,t)})}),i},yx=function(e,t,n){if(!lx()(e)||"object"!==dx(e))return null;var r=null;return Object.keys(e).forEach(function(i){var o=e[i];mx.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))}),r},vx=["children"],bx=["children"];function wx(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var xx={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sx=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},kx=null,Ex=null,_x=function e(n){if(n===kx&&Array.isArray(Ex))return Ex;var r=[];return t.Children.forEach(n,function(t){ix()(t)||((0,cx.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))}),Ex=r,kx=n,r};function jx(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return Sx(e)}):[Sx(t)],_x(e).forEach(function(e){var t=Vw()(e,"type.displayName")||Vw()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function Ox(e,t){var n=jx(e,t);return n&&n[0]}var Tx=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Gw(n)||n<=0||!Gw(r)||r<=0)},Nx=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ix=function(e){return e&&e.type&&Uw()(e.type)&&Nx.indexOf(e.type)>=0},Cx=function(e,n,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,t.isValidElement)(e)&&(i=e.props),!lx()(i))return null;var o={};return Object.keys(i).forEach(function(e){var t;(function(e,t,n,r){var i,o=null!==(i=null===px||void 0===px?void 0:px[r])&&void 0!==i?i:[];return t.startsWith("data-")||!ax()(e)&&(r&&o.includes(t)||hx.includes(t))||n&&mx.includes(t)})(null===(t=i)||void 0===t?void 0:t[e],e,n,r)&&(o[e]=i[e])}),o},Ax=function e(n,r){if(n===r)return!0;var i=t.Children.count(n);if(i!==t.Children.count(r))return!1;if(0===i)return!0;if(1===i)return Px(Array.isArray(n)?n[0]:n,Array.isArray(r)?r[0]:r);for(var o=0;o<i;o++){var a=n[o],s=r[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!Px(a,s))return!1}return!0},Px=function(e,t){if(ix()(e)&&ix()(t))return!0;if(!ix()(e)&&!ix()(t)){var n=e.props||{},r=n.children,i=wx(n,vx),o=t.props||{},a=o.children,s=wx(o,bx);return r&&a?ux(i,s)&&Ax(r,a):!r&&!a&&ux(i,s)}return!1},Dx=function(e,t){var n=[],r={};return _x(e).forEach(function(e,i){if(Ix(e))n.push(e);else if(e){var o=Sx(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(e,o,i);n.push(c),r[o]=!0}}}),n},Mx=function(e,t){return _x(t).indexOf(e)};function Rx(e){return Rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rx(e)}function Lx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ux(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lx(Object(n),!0).forEach(function(t){Fx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fx(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Rx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vx=(0,t.forwardRef)(function(e,n){var r=e.aspect,i=e.initialDimension,o=void 0===i?{width:-1,height:-1}:i,a=e.width,s=void 0===a?"100%":a,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,w=e.style,x=void 0===w?{}:w,S=(0,t.useRef)(null),k=(0,t.useRef)();k.current=b,(0,t.useImperativeHandle)(n,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=Bx((0,t.useState)({containerWidth:o.width,containerHeight:o.height}),2),_=E[0],j=E[1],O=(0,t.useCallback)(function(e,t){j(function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,t.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;O(r,i),null===(t=k.current)||void 0===t||t.call(k,r,i)};g>0&&(e=Rw()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=S.current.getBoundingClientRect(),r=n.width,i=n.height;return O(r,i),t.observe(S.current),function(){t.disconnect()}},[O,g]);var T=(0,t.useMemo)(function(){var e=_.containerWidth,n=_.containerHeight;if(e<0||n<0)return null;nx(Kw(s)||Kw(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),nx(!r||r>0,"The aspect(%s) must be greater than zero.",r);var i=Kw(s)?e:s,o=Kw(c)?n:c;r&&r>0&&(i?o=i/r:o&&(i=o*r),f&&o>f&&(o=f)),nx(i>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,o,s,c,d,h,r);var a=!Array.isArray(p)&&Sx(p.type).endsWith("Chart");return t.Children.map(p,function(e){return t.isValidElement(e)?(0,t.cloneElement)(e,Ux({width:i,height:o},a?{style:Ux({height:"100%",width:"100%",maxHeight:o,maxWidth:i},e.props.style)}:{})):e})},[r,p,c,f,h,d,_,s]);return t.createElement("div",{id:y?"".concat(y):void 0,className:Dw("recharts-responsive-container",v),style:Ux(Ux({},x),{},{width:s,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:S},T)}),qx=n(6604),Wx=n.n(qx),Hx=n(7424),Kx=n.n(Hx),Gx="Invariant failed";function Yx(e,t){if(!e)throw new Error(Gx)}var Xx=["children","width","height","viewBox","className","style","title","desc"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qx.apply(this,arguments)}function $x(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jx(e){var n=e.children,r=e.width,i=e.height,o=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,u=$x(e,Xx),d=o||{width:r,height:i,x:0,y:0},h=Dw("recharts-surface",a);return t.createElement("svg",Qx({},Cx(u,!0,"svg"),{className:h,width:r,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),t.createElement("title",null,l),t.createElement("desc",null,c),n)}var Zx=["children","className"];function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eS.apply(this,arguments)}function tS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var nS=t.forwardRef(function(e,n){var r=e.children,i=e.className,o=tS(e,Zx),a=Dw("recharts-layer",i);return t.createElement("g",eS({className:a},Cx(o,!0),{ref:n}),r)});function rS(e){return rS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rS(e)}function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iS.apply(this,arguments)}function oS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return aS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sS(Object(n),!0).forEach(function(t){cS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cS(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rS(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uS(e){return Array.isArray(e)&&Yw(e[0])&&Yw(e[1])?e.join(" ~ "):e}var dS=function(e){var n=e.separator,r=void 0===n?" : ":n,i=e.contentStyle,o=void 0===i?{}:i,a=e.itemStyle,s=void 0===a?{}:a,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,b=lS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=lS({margin:0},c),x=!ix()(m),S=x?m:"",k=Dw("recharts-default-tooltip",f),E=Dw("recharts-tooltip-label",p);x&&g&&void 0!==u&&null!==u&&(S=g(m,u));var _=v?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",iS({className:k,style:b},_),t.createElement("p",{className:E,style:w},t.isValidElement(S)?S:"".concat(S)),function(){if(u&&u.length){var e=(h?Kx()(u,h):u).map(function(e,n){if("none"===e.type)return null;var i=lS({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||d||uS,a=e.value,l=e.name,c=a,h=l;if(o&&null!=c&&null!=h){var f=o(a,l,e,n,u);if(Array.isArray(f)){var p=oS(f,2);c=p[0],h=p[1]}else c=f}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:i},Yw(h)?t.createElement("span",{className:"recharts-tooltip-item-name"},h):null,Yw(h)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},c),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function hS(e){return hS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hS(e)}function fS(e,t,n){return t=function(e){var t=function(e,t){if("object"!=hS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hS(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pS="recharts-tooltip-wrapper",mS={visibility:"hidden"};function gS(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Dw(pS,fS(fS(fS(fS({},"".concat(pS,"-right"),Gw(n)&&t&&Gw(t.x)&&n>=t.x),"".concat(pS,"-left"),Gw(n)&&t&&Gw(t.x)&&n<t.x),"".concat(pS,"-bottom"),Gw(r)&&t&&Gw(t.y)&&r>=t.y),"".concat(pS,"-top"),Gw(r)&&t&&Gw(t.y)&&r<t.y))}function yS(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&Gw(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function vS(e){return vS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vS(e)}function bS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bS(Object(n),!0).forEach(function(t){jS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OS(r.key),r)}}function SS(e,t,n){return t=ES(t),function(e,t){if(t&&("object"===vS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kS()?Reflect.construct(t,n||[],ES(e).constructor):t.apply(e,n))}function kS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kS=function(){return!!e})()}function ES(e){return ES=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ES(e)}function _S(e,t){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_S(e,t)}function jS(e,t,n){return(t=OS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OS(e){var t=function(e,t){if("object"!=vS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vS(t)?t:t+""}var TS=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return jS(e=SS(this,n,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),jS(e,"handleKeyDown",function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_S(e,t)}(n,e),r=n,(i=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,n=this.props,r=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,a=n.animationEasing,s=n.children,l=n.coordinate,c=n.hasPayload,u=n.isAnimationActive,d=n.offset,h=n.position,f=n.reverseDirection,p=n.useTranslate3d,m=n.viewBox,g=n.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=yS({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=yS({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):mS,cssClasses:gS({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:i,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=y.cssClasses,b=y.cssProperties,w=wS(wS({transition:u&&r?"transform ".concat(o,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return t.createElement("div",{tabIndex:-1,className:v,style:w,ref:function(t){e.wrapperNode=t}},s)}}])&&xS(r.prototype,i),o&&xS(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent),NS={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return NS[e]},set:function(e,t){if("string"===typeof e)NS[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){NS[t]=e[t]})}}},IS=n(977),CS=n.n(IS);function AS(e,t,n){return!0===t?CS()(e,n):ax()(t)?CS()(e,t):e}function PS(e){return PS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PS(e)}function DS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DS(Object(n),!0).forEach(function(t){zS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VS(r.key),r)}}function LS(e,t,n){return t=FS(t),function(e,t){if(t&&("object"===PS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,US()?Reflect.construct(t,n||[],FS(e).constructor):t.apply(e,n))}function US(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(US=function(){return!!e})()}function FS(e){return FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FS(e)}function BS(e,t){return BS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BS(e,t)}function zS(e,t,n){return(t=VS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VS(e){var t=function(e,t){if("object"!=PS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=PS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PS(t)?t:t+""}function qS(e){return e.dataKey}var WS=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),LS(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BS(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){var e=this,n=this.props,r=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,a=n.animationEasing,s=n.content,l=n.coordinate,c=n.filterNull,u=n.isAnimationActive,d=n.offset,h=n.payload,f=n.payloadUniqBy,p=n.position,m=n.reverseDirection,g=n.useTranslate3d,y=n.viewBox,v=n.wrapperStyle,b=null!==h&&void 0!==h?h:[];c&&b.length&&(b=AS(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,qS));var w=b.length>0;return t.createElement(TS,{allowEscapeViewBox:i,animationDuration:o,animationEasing:a,isAnimationActive:u,active:r,coordinate:l,hasPayload:w,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(dS,n)}(s,MS(MS({},this.props),{},{payload:b})))}}])&&RS(r.prototype,i),o&&RS(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);zS(WS,"displayName","Tooltip"),zS(WS,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!NS.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HS=n(643),KS=n.n(HS);Math.abs,Math.atan2;const GS=Math.cos,YS=(Math.max,Math.min,Math.sin),XS=Math.sqrt,QS=Math.PI,$S=2*QS;const JS={draw(e,t){const n=XS(t/QS);e.moveTo(n,0),e.arc(0,0,n,0,$S)}},ZS={draw(e,t){const n=XS(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ek=XS(1/3),tk=2*ek,nk={draw(e,t){const n=XS(t/tk),r=n*ek;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},rk={draw(e,t){const n=XS(t),r=-n/2;e.rect(r,r,n,n)}},ik=YS(QS/10)/YS(7*QS/10),ok=YS($S/10)*ik,ak=-GS($S/10)*ik,sk={draw(e,t){const n=XS(.8908130915292852*t),r=ok*n,i=ak*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=$S*o/5,a=GS(t),s=YS(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},lk=XS(3),ck={draw(e,t){const n=-XS(t/(3*lk));e.moveTo(0,2*n),e.lineTo(-lk*n,-n),e.lineTo(lk*n,-n),e.closePath()}},uk=-.5,dk=XS(3)/2,hk=1/XS(12),fk=3*(hk/2+1),pk={draw(e,t){const n=XS(t/fk),r=n/2,i=n*hk,o=r,a=n*hk+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(uk*r-dk*i,dk*r+uk*i),e.lineTo(uk*o-dk*a,dk*o+uk*a),e.lineTo(uk*s-dk*l,dk*s+uk*l),e.lineTo(uk*r+dk*i,uk*i-dk*r),e.lineTo(uk*o+dk*a,uk*a-dk*o),e.lineTo(uk*s+dk*l,uk*l-dk*s),e.closePath()}};function mk(e){return function(){return e}}function gk(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var yk,vk,bk,wk,xk,Sk,kk,Ek,_k,jk,Ok,Tk,Nk,Ik;const Ck=Math.PI,Ak=2*Ck,Pk=1e-6,Dk=Ak-Pk;function Mk(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Rk{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Mk:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return Mk;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(yk||(yk=gk(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(vk||(vk=gk(["Z"]))))}lineTo(e,t){this._append(bk||(bk=gk(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(wk||(wk=gk(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,o){this._append(xk||(xk=gk(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+o)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append(Sk||(Sk=gk(["M",",",""])),this._x1=e,this._y1=t);else if(d>Pk)if(Math.abs(u*s-l*c)>Pk&&i){let h=n-o,f=r-a,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((Ck-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,w=v/g;Math.abs(b-1)>Pk&&this._append(Ek||(Ek=gk(["L",",",""])),e+b*c,t+b*u),this._append(_k||(_k=gk(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*f),this._x1=e+w*s,this._y1=t+w*l)}else this._append(kk||(kk=gk(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,d=o?r-i:i-r;null===this._x1?this._append(jk||(jk=gk(["M",",",""])),l,c):(Math.abs(this._x1-l)>Pk||Math.abs(this._y1-c)>Pk)&&this._append(Ok||(Ok=gk(["L",",",""])),l,c),n&&(d<0&&(d=d%Ak+Ak),d>Dk?this._append(Tk||(Tk=gk(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-a,t-s,n,n,u,this._x1=l,this._y1=c):d>Pk&&this._append(Nk||(Nk=gk(["A",",",",0,",",",",",",",""])),n,n,+(d>=Ck),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(Ik||(Ik=gk(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function Lk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new Rk(t)}XS(3),XS(3);function Uk(e){return Uk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uk(e)}var Fk=["type","size","sizeType"];function Bk(){return Bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bk.apply(this,arguments)}function zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Vk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zk(Object(n),!0).forEach(function(t){qk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Uk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Uk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Uk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wk(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Hk={symbolCircle:JS,symbolCross:ZS,symbolDiamond:nk,symbolSquare:rk,symbolStar:sk,symbolTriangle:ck,symbolWye:pk},Kk=Math.PI/180,Gk=function(e){var n=e.type,r=void 0===n?"circle":n,i=e.size,o=void 0===i?64:i,a=e.sizeType,s=void 0===a?"area":a,l=Vk(Vk({},Wk(e,Fk)),{},{type:r,size:o,sizeType:s}),c=l.className,u=l.cx,d=l.cy,h=Cx(l,!0);return u===+u&&d===+d&&o===+o?t.createElement("path",Bk({},h,{className:Dw("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(KS()(e));return Hk[t]||JS}(r),t=function(e,t){let n=null,r=Lk(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:mk(e||JS),t="function"===typeof t?t:mk(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:mk(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:mk(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Kk;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,r));return t()}()})):null};function Yk(e){return Yk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yk(e)}function Xk(){return Xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xk.apply(this,arguments)}function Qk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rE(r.key),r)}}function Jk(e,t,n){return t=eE(t),function(e,t){if(t&&("object"===Yk(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Zk()?Reflect.construct(t,n||[],eE(e).constructor):t.apply(e,n))}function Zk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Zk=function(){return!!e})()}function eE(e){return eE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eE(e)}function tE(e,t){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tE(e,t)}function nE(e,t,n){return(t=rE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rE(e){var t=function(e,t){if("object"!=Yk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yk(t)?t:t+""}Gk.registerSymbol=function(e,t){Hk["symbol".concat(KS()(e))]=t};var iE=32,oE=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Jk(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tE(e,t)}(n,e),r=n,i=[{key:"renderIcon",value:function(e){var n=this.props.inactiveColor,r=16,i=iE/6,o=iE/3,a=e.inactive?n:e.color;if("plainline"===e.type)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:iE,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(r,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(r,"\n            H").concat(iE,"M").concat(2*o,",").concat(r,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return t.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(iE,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qk(Object(n),!0).forEach(function(t){nE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,t.cloneElement(e.legendIcon,s)}return t.createElement(Gk,{fill:a,cx:r,cy:r,size:iE,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,n=this.props,r=n.payload,i=n.iconSize,o=n.layout,a=n.formatter,s=n.inactiveColor,l={x:0,y:0,width:iE,height:iE},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(n,r){var o=n.formatter||a,d=Dw(nE(nE({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",n.inactive));if("none"===n.type)return null;var h=ax()(n.value)?null:n.value;nx(!ax()(n.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=n.inactive?s:n.color;return t.createElement("li",Xk({className:d,style:c,key:"legend-item-".concat(r)},yx(e.props,n,r)),t.createElement(Jx,{width:i,height:i,viewBox:l,style:u},e.renderIcon(n)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},o?o(h,n,r):h))})}},{key:"render",value:function(){var e=this.props,n=e.payload,r=e.layout,i=e.align;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===r?i:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],i&&$k(r.prototype,i),o&&$k(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function aE(e){return aE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aE(e)}nE(oE,"displayName","Legend"),nE(oE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var sE=["ref"];function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lE(Object(n),!0).forEach(function(t){mE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gE(r.key),r)}}function dE(e,t,n){return t=fE(t),function(e,t){if(t&&("object"===aE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hE()?Reflect.construct(t,n||[],fE(e).constructor):t.apply(e,n))}function hE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hE=function(){return!!e})()}function fE(e){return fE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fE(e)}function pE(e,t){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pE(e,t)}function mE(e,t,n){return(t=gE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gE(e){var t=function(e,t){if("object"!=aE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aE(t)?t:t+""}function yE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vE(e){return e.value}var bE=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return mE(e=dE(this,n,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pE(e,t)}(n,e),r=n,o=[{key:"getWithHeight",value:function(e,t){var n=cE(cE({},this.defaultProps),e.props).layout;return"vertical"===n&&Gw(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(i=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?cE({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),cE(cE({},t),n)}},{key:"render",value:function(){var e=this,n=this.props,r=n.content,i=n.width,o=n.height,a=n.wrapperStyle,s=n.payloadUniqBy,l=n.payload,c=cE(cE({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return t.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,n){if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return t.createElement(e,n);n.ref;var r=yE(n,sE);return t.createElement(oE,r)}(r,cE(cE({},this.props),{},{payload:AS(l,s,vE)})))}}])&&uE(r.prototype,i),o&&uE(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wE.apply(this,arguments)}mE(bE,"displayName","Legend"),mE(bE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xE=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Dw("recharts-dot",o);return n===+n&&r===+r&&i===+i?t.createElement("circle",wE({},Cx(e,!1),gx(e),{className:a,cx:n,cy:r,r:i})):null},SE=n(5173),kE=n.n(SE),EE=Object.getOwnPropertyNames,_E=Object.getOwnPropertySymbols,jE=Object.prototype.hasOwnProperty;function OE(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function TE(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function NE(e){return EE(e).concat(_E(e))}var IE=Object.hasOwn||function(e,t){return jE.call(e,t)};function CE(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var AE=Object.getOwnPropertyDescriptor,PE=Object.keys;function DE(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function ME(e,t){return CE(e.getTime(),t.getTime())}function RE(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function LE(e,t){return e===t}function UE(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;)if(a[d])d++;else{var h=i.value,f=o.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var FE=CE;function BE(e,t,n){var r=PE(e),i=r.length;if(PE(t).length!==i)return!1;for(;i-- >0;)if(!GE(e,t,n,r[i]))return!1;return!0}function zE(e,t,n){var r,i,o,a=NE(e),s=a.length;if(NE(t).length!==s)return!1;for(;s-- >0;){if(!GE(e,t,n,r=a[s]))return!1;if(i=AE(e,r),o=AE(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function VE(e,t){return CE(e.valueOf(),t.valueOf())}function qE(e,t){return e.source===t.source&&e.flags===t.flags}function WE(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function HE(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function KE(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function GE(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||IE(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var YE=Array.isArray,XE="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,QE=Object.assign,$E=Object.prototype.toString.call.bind(Object.prototype.toString);var JE=ZE();ZE({strict:!0}),ZE({circular:!0}),ZE({circular:!0,strict:!0}),ZE({createInternalComparator:function(){return CE}}),ZE({strict:!0,createInternalComparator:function(){return CE}}),ZE({circular:!0,createInternalComparator:function(){return CE}}),ZE({circular:!0,createInternalComparator:function(){return CE},strict:!0});function ZE(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?zE:DE,areDatesEqual:ME,areErrorsEqual:RE,areFunctionsEqual:LE,areMapsEqual:r?OE(UE,zE):UE,areNumbersEqual:FE,areObjectsEqual:r?zE:BE,arePrimitiveWrappersEqual:VE,areRegExpsEqual:qE,areSetsEqual:r?OE(WE,zE):WE,areTypedArraysEqual:r?zE:HE,areUrlsEqual:KE};if(n&&(i=QE({},i,n(i))),t){var o=TE(i.areArraysEqual),a=TE(i.areMapsEqual),s=TE(i.areObjectsEqual),l=TE(i.areSetsEqual);i=QE({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?a(e,f,p):"function"===m&&i(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return s(e,f,p);if(YE(e))return t(e,f,p);if(null!=XE&&XE(e))return d(e,f,p);if(g===Date)return n(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return o(e,f,p);if(g===Set)return u(e,f,p);var y=$E(e);return"[object Date]"===y?n(e,f,p):"[object RegExp]"===y?c(e,f,p):"[object Map]"===y?o(e,f,p):"[object Set]"===y?u(e,f,p):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,p):"[object URL]"===y?h(e,f,p):"[object Error]"===y?r(e,f,p):"[object Arguments]"===y?s(e,f,p):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,p)}}(l),u=i?i(c):(t=c,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,a,{cache:c,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:o,equals:u,strict:s})}function e_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function t_(e){return t_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t_(e)}function n_(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i_(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=n_(r),o=i[0],a=i.slice(1);return"number"===typeof o?void e_(n.bind(null,a),o):(n(o),void e_(n.bind(null,a)))}"object"===t_(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function o_(e){return o_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o_(e)}function a_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a_(Object(n),!0).forEach(function(t){l_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o_(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c_=function(e){return e},u_=function(e,t){return Object.keys(t).reduce(function(n,r){return s_(s_({},n),{},l_({},r,e(r,t[r])))},{})},d_=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function h_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||p_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f_(e){return function(e){if(Array.isArray(e))return m_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p_(e,t){if(e){if("string"===typeof e)return m_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m_(e,t):void 0}}function m_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g_=1e-4,y_=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},v_=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},b_=function(e,t){return function(n){var r=y_(e,t);return v_(r,n)}},w_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),c=h_(l,4);r=c[0],i=c[1],o=c[2],a=c[3]}}[r,o,i,a].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var u,d,h=b_(r,o),f=b_(i,a),p=(u=r,d=o,function(e){var t=y_(u,d),n=[].concat(f_(t.map(function(e,t){return e*t}).slice(1)),[0]);return v_(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=h(n)-t,o=p(n);if(Math.abs(i-t)<g_||o<g_)return f(n);n=m(n-i/o)}return f(n)};return g.isStepper=!1,g},x_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w_(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<g_&&Math.abs(o)<g_?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return w_(r)}return"function"===typeof r?r:null};function S_(e){return S_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S_(e)}function k_(e){return function(e){if(Array.isArray(e))return N_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function __(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E_(Object(n),!0).forEach(function(t){j_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==S_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S_(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||T_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T_(e,t){if(e){if("string"===typeof e)return N_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N_(e,t):void 0}}function N_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I_=function(e,t,n){return e+(t-e)*n},C_=function(e){return e.from!==e.to},A_=function e(t,n,r){var i=u_(function(e,n){if(C_(n)){var r=O_(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return __(__({},n),{},{from:i,velocity:o})}return n},n);return r<1?u_(function(e,t){return C_(t)?__(__({},t),{},{velocity:I_(t.velocity,i[e].velocity,r),from:I_(t.from,i[e].from,r)}):t},n):e(t,i,r-1)};const P_=function(e,t,n,r,i){var o,a,s,l,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return __(__({},n),{},j_({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return __(__({},n),{},j_({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=A_(n,d,o),i(__(__(__({},e),t),u_(function(e,t){return t.from},d))),s=r,Object.values(d).filter(C_).length&&(h=requestAnimationFrame(f))}:function(o){l||(l=o);var a=(o-l)/r,s=u_(function(e,t){return I_.apply(void 0,k_(t).concat([n(a)]))},u);if(i(__(__(__({},e),t),s)),a<1)h=requestAnimationFrame(f);else{var c=u_(function(e,t){return I_.apply(void 0,k_(t).concat([n(1)]))},u);i(__(__(__({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function D_(e){return D_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D_(e)}var M_=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function R_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function L_(e){return function(e){if(Array.isArray(e))return U_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return U_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F_(Object(n),!0).forEach(function(t){z_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z_(e,t,n){return(t=q_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q_(r.key),r)}}function q_(e){var t=function(e,t){if("object"!==D_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==D_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===D_(t)?t:String(t)}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W_(e,t)}function H_(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Y_(e);if(t){var i=Y_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return K_(this,n)}}function K_(e,t){if(t&&("object"===D_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return G_(e)}function G_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y_(e){return Y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y_(e)}var X_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W_(e,t)}(a,e);var n,r,i,o=H_(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(G_(n)),n.changeStyle=n.changeStyle.bind(G_(n)),!i||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),K_(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},K_(n);n.state={style:s?z_({},s,l):l}}else n.state={style:{}};return n}return n=a,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(JE(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:e.to;if(this.state&&l){var d={style:i?z_({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(B_(B_({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?z_({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=P_(n,r,x_(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(L_(n.reduce(function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(L_(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:s}),o]);var f=d_(h,o,s),p=B_(B_(B_({},d.style),l),{},{transition:f});return[].concat(L_(e),[p,o,u]).filter(c_)},[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=i_());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?z_({},r,i):i,h=d_(Object.keys(d),n,o);u.start([a,t,B_(B_({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,n=e.children,r=(e.begin,e.duration),i=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,R_(e,M_)),a=t.Children.count(n),s=this.state.style;if("function"===typeof n)return n(s);if(!i||0===a||r<=0)return n;var l=function(e){var n=e.props,r=n.style,i=void 0===r?{}:r,a=n.className;return(0,t.cloneElement)(e,B_(B_({},o),{},{style:B_(B_({},i),s),className:a}))};return 1===a?l(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,function(e){return l(e)}))}}],r&&V_(n.prototype,r),i&&V_(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.PureComponent);X_.displayName="Animate",X_.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},X_.propTypes={from:kE().oneOfType([kE().object,kE().string]),to:kE().oneOfType([kE().object,kE().string]),attributeName:kE().string,duration:kE().number,begin:kE().number,easing:kE().oneOfType([kE().string,kE().func]),steps:kE().arrayOf(kE().shape({duration:kE().number.isRequired,style:kE().object.isRequired,easing:kE().oneOfType([kE().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kE().func]),properties:kE().arrayOf("string"),onAnimationEnd:kE().func})),children:kE().oneOfType([kE().node,kE().func]),isActive:kE().bool,canBegin:kE().bool,onAnimationEnd:kE().func,shouldReAnimate:kE().bool,onAnimationStart:kE().func,onAnimationReStart:kE().func};const Q_=X_;function $_(e){return $_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$_(e)}function J_(){return J_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J_.apply(this,arguments)}function Z_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ej(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ej(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ej(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tj(Object(n),!0).forEach(function(t){rj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rj(e,t,n){return t=function(e){var t=function(e,t){if("object"!=$_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ij=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},oj=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},aj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sj=function(e){var n=nj(nj({},aj),e),r=(0,t.useRef)(),i=Z_((0,t.useState)(-1),2),o=i[0],a=i[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}},[]);var s=n.x,l=n.y,c=n.width,u=n.height,d=n.radius,h=n.className,f=n.animationEasing,p=n.animationDuration,m=n.animationBegin,g=n.isAnimationActive,y=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=Dw("recharts-rectangle",h);return y?t.createElement(Q_,{canBegin:o>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:f,isActive:y},function(e){var i=e.width,a=e.height,s=e.x,l=e.y;return t.createElement(Q_,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},t.createElement("path",J_({},Cx(n,!0),{className:v,d:ij(s,l,i,a,d),ref:r})))}):t.createElement("path",J_({},Cx(n,!0),{className:v,d:ij(s,l,c,u,d)}))};function lj(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function cj(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class uj extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pj;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(dj(this,e))}has(e){return super.has(dj(this,e))}set(e,t){return super.set(hj(this,e),t)}delete(e){return super.delete(fj(this,e))}}Set;function dj(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function hj(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function fj(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function pj(e){return null!==e&&"object"===typeof e?e.valueOf():e}const mj=Symbol("implicit");function gj(){var e=new uj,t=[],n=[],r=mj;function i(i){let o=e.get(i);if(void 0===o){if(r!==mj)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new uj;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return gj(t,n).unknown(r)},lj.apply(i,arguments),i}function yj(){var e,t,n=gj().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<o,h=d?a:o,f=d?o:a;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return yj(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},lj.apply(d(),arguments)}function vj(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vj(t())},e}function bj(){return vj(yj.apply(null,arguments).paddingInner(1))}function wj(e){return wj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wj(e)}function xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xj(Object(n),!0).forEach(function(t){kj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kj(e,t,n){return t=function(e){var t=function(e,t){if("object"!=wj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ej={widthCache:{},cacheCount:0},_j={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jj="recharts_measurement_span";var Oj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||NS.isSsr)return{width:0,height:0};var n=function(e){var t=Sj({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(Ej.widthCache[r])return Ej.widthCache[r];try{var i=document.getElementById(jj);i||((i=document.createElement("span")).setAttribute("id",jj),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Sj(Sj({},_j),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return Ej.widthCache[r]=s,++Ej.cacheCount>2e3&&(Ej.cacheCount=0,Ej.widthCache={}),s}catch(l){return{width:0,height:0}}};function Tj(e){return Tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tj(e)}function Nj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ij(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ij(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ij(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Aj(r.key),r)}}function Aj(e){var t=function(e,t){if("object"!=Tj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tj(t)?t:t+""}var Pj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mj=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rj=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Lj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Uj=Object.keys(Lj),Fj="NaN";var Bj=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||Mj.test(n)||(this.num=NaN,this.unit=""),Uj.includes(n)&&(this.num=function(e,t){return e*Lj[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=Nj(null!==(n=Rj.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Cj(t.prototype,n),r&&Cj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function zj(e){if(e.includes(Fj))return Fj;for(var t=e;t.includes("*")||t.includes("/");){var n,r=Nj(null!==(n=Pj.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=Bj.parse(null!==i&&void 0!==i?i:""),l=Bj.parse(null!==a&&void 0!==a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return Fj;t=t.replace(Pj,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Nj(null!==(u=Dj.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=Bj.parse(null!==h&&void 0!==h?h:""),g=Bj.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return Fj;t=t.replace(Dj,y.toString())}return t}var Vj=/\(([^()]*)\)/;function qj(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=Nj(Vj.exec(t),2)[1];t=t.replace(Vj,zj(n))}return t}(t),t=zj(t)}function Wj(e){var t=function(e){try{return qj(e)}catch(t){return Fj}}(e.slice(5,-1));return t===Fj?"":t}var Hj=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Kj=["dx","dy","angle","className","breakAll"];function Gj(){return Gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gj.apply(this,arguments)}function Yj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $j=/[ \f\n\r\t\v\u2028\u2029]+/,Jj=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return ix()(t)||(i=n?t.toString().split(""):t.toString().split($j)),{wordsWithComputedWidth:i.map(function(e){return{word:e,width:Oj(e,r).width}}),spaceWidth:n?0:Oj("\xa0",r).width}}catch(o){return null}},Zj=function(e){return[{words:ix()(e)?[]:e.toString().split($j)}]},eO=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!NS.isSsr){var s=Jj({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,c=Gw(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=Jj({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(i).width>Number(r);return[a,i]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),b=Xj(p(v-1),2),w=b[0],x=b[1],S=Xj(p(v),1)[0];if(w||S||(m=v+1),w&&S&&(g=v-1),!w&&S){f=x;break}y++}return f||h}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):Zj(r)}return Zj(r)},tO="#808080",nO=function(e){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.lineHeight,s=void 0===a?"1em":a,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?tO:g,v=Yj(e,Hj),b=(0,t.useMemo)(function(){return eO({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),w=v.dx,x=v.dy,S=v.angle,k=v.className,E=v.breakAll,_=Yj(v,Kj);if(!Yw(r)||!Yw(o))return null;var j,O=r+(Gw(w)?w:0),T=o+(Gw(x)?x:0);switch(m){case"start":j=Wj("calc(".concat(c,")"));break;case"middle":j=Wj("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:j=Wj("calc(".concat(b.length-1," * -").concat(s,")"))}var N=[];if(d){var I=b[0].width,C=v.width;N.push("scale(".concat((Gw(C)?C/I:1)/I,")"))}return S&&N.push("rotate(".concat(S,", ").concat(O,", ").concat(T,")")),N.length&&(_.transform=N.join(" ")),t.createElement("text",Gj({},Cx(_,!0),{x:O,y:T,className:Dw("recharts-text",k),textAnchor:f,fill:y.includes("url")?tO:y}),b.map(function(e,n){var r=e.words.join(E?"":" ");return t.createElement("tspan",{x:O,dy:0===n?j:s,key:"".concat(r,"-").concat(n)},r)}))};const rO=Math.sqrt(50),iO=Math.sqrt(10),oO=Math.sqrt(2);function aO(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=rO?10:o>=iO?5:o>=oO?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?aO(e,t,2*n):[s,l,c]}function sO(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?aO(t,e,n):aO(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function lO(e,t,n){return aO(e=+e,t=+t,n=+n)[2]}function cO(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?lO(t,e,n):lO(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function uO(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dO(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hO(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=uO,n=(t,n)=>uO(e(t),n),r=(t,n)=>e(t)-n):(t=e===uO||e===dO?e:fO,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function fO(){return 0}function pO(e){return null===e?NaN:+e}const mO=hO(uO),gO=mO.right,yO=(mO.left,hO(pO).center,gO);function vO(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function wO(){}var xO=.7,SO=1/xO,kO="\\s*([+-]?\\d+)\\s*",EO="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_O="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jO=/^#([0-9a-f]{3,8})$/,OO=new RegExp("^rgb\\(".concat(kO,",").concat(kO,",").concat(kO,"\\)$")),TO=new RegExp("^rgb\\(".concat(_O,",").concat(_O,",").concat(_O,"\\)$")),NO=new RegExp("^rgba\\(".concat(kO,",").concat(kO,",").concat(kO,",").concat(EO,"\\)$")),IO=new RegExp("^rgba\\(".concat(_O,",").concat(_O,",").concat(_O,",").concat(EO,"\\)$")),CO=new RegExp("^hsl\\(".concat(EO,",").concat(_O,",").concat(_O,"\\)$")),AO=new RegExp("^hsla\\(".concat(EO,",").concat(_O,",").concat(_O,",").concat(EO,"\\)$")),PO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function DO(){return this.rgb().formatHex()}function MO(){return this.rgb().formatRgb()}function RO(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=jO.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?LO(t):3===n?new BO(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?UO(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?UO(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=OO.exec(e))?new BO(t[1],t[2],t[3],1):(t=TO.exec(e))?new BO(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=NO.exec(e))?UO(t[1],t[2],t[3],t[4]):(t=IO.exec(e))?UO(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=CO.exec(e))?KO(t[1],t[2]/100,t[3]/100,1):(t=AO.exec(e))?KO(t[1],t[2]/100,t[3]/100,t[4]):PO.hasOwnProperty(e)?LO(PO[e]):"transparent"===e?new BO(NaN,NaN,NaN,0):null}function LO(e){return new BO(e>>16&255,e>>8&255,255&e,1)}function UO(e,t,n,r){return r<=0&&(e=t=n=NaN),new BO(e,t,n,r)}function FO(e,t,n,r){return 1===arguments.length?((i=e)instanceof wO||(i=RO(i)),i?new BO((i=i.rgb()).r,i.g,i.b,i.opacity):new BO):new BO(e,t,n,null==r?1:r);var i}function BO(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function zO(){return"#".concat(HO(this.r)).concat(HO(this.g)).concat(HO(this.b))}function VO(){const e=qO(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(WO(this.r),", ").concat(WO(this.g),", ").concat(WO(this.b)).concat(1===e?")":", ".concat(e,")"))}function qO(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function WO(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function HO(e){return((e=WO(e))<16?"0":"")+e.toString(16)}function KO(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new YO(e,t,n,r)}function GO(e){if(e instanceof YO)return new YO(e.h,e.s,e.l,e.opacity);if(e instanceof wO||(e=RO(e)),!e)return new YO;if(e instanceof YO)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new YO(a,s,l,e.opacity)}function YO(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function XO(e){return(e=(e||0)%360)<0?e+360:e}function QO(e){return Math.max(0,Math.min(1,e||0))}function $O(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function JO(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}vO(wO,RO,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:DO,formatHex:DO,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return GO(this).formatHsl()},formatRgb:MO,toString:MO}),vO(BO,FO,bO(wO,{brighter(e){return e=null==e?SO:Math.pow(SO,e),new BO(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?xO:Math.pow(xO,e),new BO(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new BO(WO(this.r),WO(this.g),WO(this.b),qO(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zO,formatHex:zO,formatHex8:function(){return"#".concat(HO(this.r)).concat(HO(this.g)).concat(HO(this.b)).concat(HO(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:VO,toString:VO})),vO(YO,function(e,t,n,r){return 1===arguments.length?GO(e):new YO(e,t,n,null==r?1:r)},bO(wO,{brighter(e){return e=null==e?SO:Math.pow(SO,e),new YO(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?xO:Math.pow(xO,e),new YO(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new BO($O(e>=240?e-240:e+120,i,r),$O(e,i,r),$O(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new YO(XO(this.h),QO(this.s),QO(this.l),qO(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qO(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(XO(this.h),", ").concat(100*QO(this.s),"%, ").concat(100*QO(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const ZO=e=>()=>e;function eT(e,t){return function(n){return e+n*t}}function tT(e){return 1===(e=+e)?nT:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):ZO(isNaN(t)?n:t)}}function nT(e,t){var n=t-e;return n?eT(e,n):ZO(isNaN(e)?t:e)}const rT=function e(t){var n=tT(t);function r(e,t){var r=n((e=FO(e)).r,(t=FO(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=nT(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function iT(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=FO(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}iT(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return JO((n-r/t)*t,a,i,o,s)}}),iT(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return JO((n-r/t)*t,i,o,a,s)}});function oT(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=fT(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function aT(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function sT(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function lT(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=fT(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var cT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uT=new RegExp(cT.source,"g");function dT(e,t){var n,r,i,o=cT.lastIndex=uT.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=cT.exec(e))&&(r=uT.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:sT(n,r)})),o=uT.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function hT(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function fT(e,t){var n,r=typeof t;return null==t||"boolean"===r?ZO(t):("number"===r?sT:"string"===r?(n=RO(t))?(t=n,rT):dT:t instanceof RO?rT:t instanceof Date?aT:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?hT:Array.isArray(t)?oT:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?lT:sT)(e,t)}function pT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function mT(e){return+e}var gT=[0,1];function yT(e){return e}function vT(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function bT(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=vT(i,r),o=n(a,o)):(r=vT(r,i),o=n(o,a)),function(e){return o(r(e))}}function wT(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=vT(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=yO(e,t,1,r)-1;return o[n](i[n](t))}}function xT(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ST(){var e,t,n,r,i,o,a=gT,s=gT,l=fT,c=yT;function u(){var e=Math.min(a.length,s.length);return c!==yT&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?wT:bT,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,a.map(e),sT)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,mT),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=pT,u()},d.clamp=function(e){return arguments.length?(c=!!e||yT,u()):c!==yT},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function kT(){return ST()(yT,yT)}var ET,_T=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jT(e){if(!(t=_T.exec(e)))throw new Error("invalid format: "+e);var t;return new OT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function OT(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function TT(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function NT(e){return(e=TT(Math.abs(e)))?e[1]:NaN}function IT(e,t){var n=TT(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}jT.prototype=OT.prototype,OT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const CT={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>IT(100*e,t),r:IT,s:function(e,t){var n=TT(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(ET=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+TT(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AT(e){return e}var PT,DT,MT,RT=Array.prototype.map,LT=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function UT(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?AT:(t=RT.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?AT:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(RT.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=jT(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):CT[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?o:/[%p]/.test(v)?l:"",x=CT[v],S=/[defgprs%]/.test(v);function k(e){var i,o,l,h=b,k=w;if("c"===v)k=x(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==d&&(E=!1),h=(E?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===v?LT[8+ET/3]:"")+k+(E&&"("===d?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){k=(46===l?a+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var _=h.length+e.length+k.length,j=_<p?new Array(p-_+1).join(t):"";switch(m&&f&&(e=r(j+e,j.length?p-k.length:1/0),j=""),n){case"<":e=h+e+k+j;break;case"=":e=h+j+e+k;break;case"^":e=j.slice(0,_=j.length>>1)+h+e+k+j.slice(_);break;default:e=j+h+e+k}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=jT(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(NT(t)/3))),i=Math.pow(10,-r),o=LT[8+r/3];return function(e){return n(i*e)+o}}}}function FT(e,t,n,r){var i,o=cO(e,t,n);switch((r=jT(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(NT(t)/3)))-NT(Math.abs(e)))}(o,a))||(r.precision=i),MT(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,NT(t)-NT(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-NT(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return DT(r)}function BT(e){var t=e.domain;return e.ticks=function(e){var n=t();return sO(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return FT(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=lO(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function zT(){var e=kT();return e.copy=function(){return xT(e,zT())},lj.apply(e,arguments),BT(e)}function VT(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,mT),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return VT(e).unknown(t)},e=arguments.length?Array.from(e,mT):[0,1],BT(n)}function qT(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function WT(e){return Math.log(e)}function HT(e){return Math.exp(e)}function KT(e){return-Math.log(-e)}function GT(e){return-Math.exp(-e)}function YT(e){return isFinite(e)?+("1e"+e):e<0?0:e}function XT(e){return(t,n)=>-e(-t,n)}function QT(e){const t=e(WT,HT),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?YT:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=XT(r),i=XT(i),e(KT,GT)):e(WT,HT),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,d=r(a),h=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}2*p.length<f&&(p=sO(a,s,f))}else p=sO(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=jT(n)).precision||(n.trim=!0),n=DT(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(qT(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function $T(){const e=QT(ST()).domain([1,10]);return e.copy=()=>xT(e,$T()).base(e.base()),lj.apply(e,arguments),e}function JT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ZT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function eN(e){var t=1,n=e(JT(t),ZT(t));return n.constant=function(n){return arguments.length?e(JT(t=+n),ZT(t)):t},BT(n)}function tN(){var e=eN(ST());return e.copy=function(){return xT(e,tN()).constant(e.constant())},lj.apply(e,arguments)}function nN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function rN(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function iN(e){return e<0?-e*e:e*e}function oN(e){var t=e(yT,yT),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(yT,yT):.5===n?e(rN,iN):e(nN(n),nN(1/n)):n},BT(t)}function aN(){var e=oN(ST());return e.copy=function(){return xT(e,aN()).exponent(e.exponent())},lj.apply(e,arguments),e}function sN(){return aN.apply(null,arguments).exponent(.5)}function lN(e){return Math.sign(e)*e*e}function cN(){var e,t=kT(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(lN(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,mT)).map(lN)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return cN(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},lj.apply(i,arguments),BT(i)}function uN(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function dN(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function hN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uO;if(e===uO)return fN;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function fN(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function pN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?fN:hN(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);pN(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(mN(e,n,t),i(e[r],o)>0&&mN(e,n,r);a<s;){for(mN(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?mN(e,n,s):(++s,mN(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function mN(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function gN(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return dN(e);if(t>=1)return uN(e);var r,i=(r-1)*t,o=Math.floor(i),a=uN(pN(e,o).subarray(0,o+1));return a+(dN(e.subarray(o+1))-a)*(i-o)}}function yN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pO;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function vN(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=yN(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[yO(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(uO),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return vN().domain(t).range(n).unknown(e)},lj.apply(o,arguments)}function bN(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[yO(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return bN().domain([t,n]).range(o).unknown(e)},lj.apply(BT(a),arguments)}function wN(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[yO(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return wN().domain(t).range(n).unknown(e)},lj.apply(i,arguments)}PT=UT({thousands:",",grouping:[3],currency:["$",""]}),DT=PT.format,MT=PT.formatPrefix;const xN=1e3,SN=6e4,kN=36e5,EN=864e5,_N=6048e5,jN=2592e6,ON=31536e6,TN=new Date,NN=new Date;function IN(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>IN(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(TN.setTime(+t),NN.setTime(+r),e(TN),e(NN),Math.floor(n(TN,NN))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const CN=IN(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);CN.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?IN(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):CN:null);CN.range;const AN=IN(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*xN)},(e,t)=>(t-e)/xN,e=>e.getUTCSeconds()),PN=(AN.range,IN(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xN)},(e,t)=>{e.setTime(+e+t*SN)},(e,t)=>(t-e)/SN,e=>e.getMinutes())),DN=(PN.range,IN(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*SN)},(e,t)=>(t-e)/SN,e=>e.getUTCMinutes())),MN=(DN.range,IN(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xN-e.getMinutes()*SN)},(e,t)=>{e.setTime(+e+t*kN)},(e,t)=>(t-e)/kN,e=>e.getHours())),RN=(MN.range,IN(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kN)},(e,t)=>(t-e)/kN,e=>e.getUTCHours())),LN=(RN.range,IN(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*SN)/EN,e=>e.getDate()-1)),UN=(LN.range,IN(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/EN,e=>e.getUTCDate()-1)),FN=(UN.range,IN(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/EN,e=>Math.floor(e/EN)));FN.range;function BN(e){return IN(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*SN)/_N)}const zN=BN(0),VN=BN(1),qN=BN(2),WN=BN(3),HN=BN(4),KN=BN(5),GN=BN(6);zN.range,VN.range,qN.range,WN.range,HN.range,KN.range,GN.range;function YN(e){return IN(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/_N)}const XN=YN(0),QN=YN(1),$N=YN(2),JN=YN(3),ZN=YN(4),eI=YN(5),tI=YN(6),nI=(XN.range,QN.range,$N.range,JN.range,ZN.range,eI.range,tI.range,IN(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),rI=(nI.range,IN(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),iI=(rI.range,IN(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));iI.every=e=>isFinite(e=Math.floor(e))&&e>0?IN(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;iI.range;const oI=IN(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());oI.every=e=>isFinite(e=Math.floor(e))&&e>0?IN(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;oI.range;function aI(e,t,n,r,i,o){const a=[[AN,1,xN],[AN,5,5e3],[AN,15,15e3],[AN,30,3e4],[o,1,SN],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,kN],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,EN],[r,2,1728e5],[n,1,_N],[t,1,jN],[t,3,7776e6],[e,1,ON]];function s(t,n,r){const i=Math.abs(n-t)/r,o=hO(e=>{let[,,t]=e;return t}).right(a,i);if(o===a.length)return e.every(cO(t/ON,n/ON,r));if(0===o)return CN.every(Math.max(cO(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[sI,lI]=aI(oI,rI,XN,FN,RN,DN),[cI,uI]=aI(iI,nI,zN,LN,MN,PN);function dI(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hI(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fI(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var pI,mI,gI,yI={"-":"",_:" ",0:"0"},vI=/^\s*\d+/,bI=/^%/,wI=/[\\^$*+?|[\]().{}]/g;function xI(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function SI(e){return e.replace(wI,"\\$&")}function kI(e){return new RegExp("^(?:"+e.map(SI).join("|")+")","i")}function EI(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function _I(e,t,n){var r=vI.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function jI(e,t,n){var r=vI.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function OI(e,t,n){var r=vI.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function TI(e,t,n){var r=vI.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function NI(e,t,n){var r=vI.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function II(e,t,n){var r=vI.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function CI(e,t,n){var r=vI.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function AI(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function PI(e,t,n){var r=vI.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function DI(e,t,n){var r=vI.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function MI(e,t,n){var r=vI.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function RI(e,t,n){var r=vI.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function LI(e,t,n){var r=vI.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function UI(e,t,n){var r=vI.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function FI(e,t,n){var r=vI.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function BI(e,t,n){var r=vI.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function zI(e,t,n){var r=vI.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function VI(e,t,n){var r=bI.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function qI(e,t,n){var r=vI.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function WI(e,t,n){var r=vI.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function HI(e,t){return xI(e.getDate(),t,2)}function KI(e,t){return xI(e.getHours(),t,2)}function GI(e,t){return xI(e.getHours()%12||12,t,2)}function YI(e,t){return xI(1+LN.count(iI(e),e),t,3)}function XI(e,t){return xI(e.getMilliseconds(),t,3)}function QI(e,t){return XI(e,t)+"000"}function $I(e,t){return xI(e.getMonth()+1,t,2)}function JI(e,t){return xI(e.getMinutes(),t,2)}function ZI(e,t){return xI(e.getSeconds(),t,2)}function eC(e){var t=e.getDay();return 0===t?7:t}function tC(e,t){return xI(zN.count(iI(e)-1,e),t,2)}function nC(e){var t=e.getDay();return t>=4||0===t?HN(e):HN.ceil(e)}function rC(e,t){return e=nC(e),xI(HN.count(iI(e),e)+(4===iI(e).getDay()),t,2)}function iC(e){return e.getDay()}function oC(e,t){return xI(VN.count(iI(e)-1,e),t,2)}function aC(e,t){return xI(e.getFullYear()%100,t,2)}function sC(e,t){return xI((e=nC(e)).getFullYear()%100,t,2)}function lC(e,t){return xI(e.getFullYear()%1e4,t,4)}function cC(e,t){var n=e.getDay();return xI((e=n>=4||0===n?HN(e):HN.ceil(e)).getFullYear()%1e4,t,4)}function uC(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xI(t/60|0,"0",2)+xI(t%60,"0",2)}function dC(e,t){return xI(e.getUTCDate(),t,2)}function hC(e,t){return xI(e.getUTCHours(),t,2)}function fC(e,t){return xI(e.getUTCHours()%12||12,t,2)}function pC(e,t){return xI(1+UN.count(oI(e),e),t,3)}function mC(e,t){return xI(e.getUTCMilliseconds(),t,3)}function gC(e,t){return mC(e,t)+"000"}function yC(e,t){return xI(e.getUTCMonth()+1,t,2)}function vC(e,t){return xI(e.getUTCMinutes(),t,2)}function bC(e,t){return xI(e.getUTCSeconds(),t,2)}function wC(e){var t=e.getUTCDay();return 0===t?7:t}function xC(e,t){return xI(XN.count(oI(e)-1,e),t,2)}function SC(e){var t=e.getUTCDay();return t>=4||0===t?ZN(e):ZN.ceil(e)}function kC(e,t){return e=SC(e),xI(ZN.count(oI(e),e)+(4===oI(e).getUTCDay()),t,2)}function EC(e){return e.getUTCDay()}function _C(e,t){return xI(QN.count(oI(e)-1,e),t,2)}function jC(e,t){return xI(e.getUTCFullYear()%100,t,2)}function OC(e,t){return xI((e=SC(e)).getUTCFullYear()%100,t,2)}function TC(e,t){return xI(e.getUTCFullYear()%1e4,t,4)}function NC(e,t){var n=e.getUTCDay();return xI((e=n>=4||0===n?ZN(e):ZN.ceil(e)).getUTCFullYear()%1e4,t,4)}function IC(){return"+0000"}function CC(){return"%"}function AC(e){return+e}function PC(e){return Math.floor(+e/1e3)}function DC(e){return new Date(e)}function MC(e){return e instanceof Date?+e:+new Date(+e)}function RC(e,t,n,r,i,o,a,s,l,c){var u=kT(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),w=c("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:w)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,MC)):h().map(DC)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(qT(n,e)):u},u.copy=function(){return xT(u,RC(e,t,n,r,i,o,a,s,l,c))},u}function LC(){return lj.apply(RC(cI,uI,iI,nI,zN,LN,MN,PN,AN,mI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UC(){return lj.apply(RC(sI,lI,oI,rI,XN,UN,RN,DN,AN,gI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function FC(){var e,t,n,r,i,o=0,a=1,s=yT,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(fT),c.rangeRound=u(pT),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function BC(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zC(){var e=BT(FC()(yT));return e.copy=function(){return BC(e,zC())},cj.apply(e,arguments)}function VC(){var e=QT(FC()).domain([1,10]);return e.copy=function(){return BC(e,VC()).base(e.base())},cj.apply(e,arguments)}function qC(){var e=eN(FC());return e.copy=function(){return BC(e,qC()).constant(e.constant())},cj.apply(e,arguments)}function WC(){var e=oN(FC());return e.copy=function(){return BC(e,WC()).exponent(e.exponent())},cj.apply(e,arguments)}function HC(){return WC.apply(null,arguments).exponent(.5)}function KC(){var e=[],t=yT;function n(n){if(null!=n&&!isNaN(n=+n))return t((yO(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(uO),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>gN(e,r/t))},n.copy=function(){return KC(t).domain(e)},cj.apply(n,arguments)}function GC(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,d=yT,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=fT);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(fT),f.rangeRound=p(pT),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function YC(){var e=BT(GC()(yT));return e.copy=function(){return BC(e,YC())},cj.apply(e,arguments)}function XC(){var e=QT(GC()).domain([.1,1,10]);return e.copy=function(){return BC(e,XC()).base(e.base())},cj.apply(e,arguments)}function QC(){var e=eN(GC());return e.copy=function(){return BC(e,QC()).constant(e.constant())},cj.apply(e,arguments)}function $C(){var e=oN(GC());return e.copy=function(){return BC(e,$C()).exponent(e.exponent())},cj.apply(e,arguments)}function JC(){return $C.apply(null,arguments).exponent(.5)}function ZC(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){pI=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=kI(i),u=EI(i),d=kI(o),h=EI(o),f=kI(a),p=EI(a),m=kI(s),g=EI(s),y=kI(l),v=EI(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:HI,e:HI,f:QI,g:sC,G:cC,H:KI,I:GI,j:YI,L:XI,m:$I,M:JI,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:AC,s:PC,S:ZI,u:eC,U:tC,V:rC,w:iC,W:oC,x:null,X:null,y:aC,Y:lC,Z:uC,"%":CC},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:dC,e:dC,f:gC,g:OC,G:NC,H:hC,I:fC,j:pC,L:mC,m:yC,M:vC,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:AC,s:PC,S:bC,u:wC,U:xC,V:kC,w:EC,W:_C,x:null,X:null,y:jC,Y:TC,Z:IC,"%":CC},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:MI,e:MI,f:zI,g:CI,G:II,H:LI,I:LI,j:RI,L:BI,m:DI,M:UI,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:PI,Q:qI,s:WI,S:FI,u:jI,U:OI,V:TI,w:_I,W:NI,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:CI,Y:II,Z:AI,"%":VI};function S(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=yI[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function k(e,t){return function(n){var r,i,o=fI(1900,void 0,1);if(E(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=hI(fI(o.y,0,1))).getUTCDay(),r=i>4||0===i?QN.ceil(r):QN(r),r=UN.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=dI(fI(o.y,0,1))).getDay(),r=i>4||0===i?VN.ceil(r):VN(r),r=LN.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?hI(fI(o.y,0,1)).getUTCDay():dI(fI(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,hI(o)):dI(o)}}function E(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in yI?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),mI=pI.format,pI.parse,gI=pI.utcFormat,pI.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function eA(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function tA(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function nA(e,t){return e[t]}function rA(e){const t=[];return t.key=e,t}var iA=n(539),oA=n.n(iA),aA=n(6745),sA=n.n(aA),lA=n(3538),cA=n.n(lA),uA=n(9853),dA=n.n(uA),hA=n(8210),fA=n.n(hA);function pA(e){return function(e){if(Array.isArray(e))return mA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return mA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gA=function(e){return e},yA={"@@functional/placeholder":!0},vA=function(e){return e===yA},bA=function(e){return function t(){return 0===arguments.length||1===arguments.length&&vA(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},wA=function e(t,n){return 1===t?n:bA(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(e){return e!==yA}).length;return a>=t?n.apply(void 0,i):e(t-a,bA(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map(function(e){return vA(e)?t.shift():e});return n.apply(void 0,pA(o).concat(t))}))})},xA=function(e){return wA(e.length,e)},SA=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},kA=xA(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),EA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return gA;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce(function(e,t){return t(e)},i.apply(void 0,arguments))}},_A=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},jA=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every(function(e,n){return e===t[n]})?n:(t=i,n=e.apply(void 0,i))}};var OA=xA(function(e,t,n){var r=+e;return r+n*(+t-r)}),TA=xA(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),NA=xA(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const IA={rangeStep:function(e,t,n){for(var r=new(fA())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(fA())(e).abs().log(10).toNumber())+1},interpolateNumber:OA,uninterpolateNumber:TA,uninterpolateTruncation:NA};function CA(e){return function(e){if(Array.isArray(e))return DA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||PA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||PA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PA(e,t){if(e){if("string"===typeof e)return DA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DA(e,t):void 0}}function DA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MA(e){var t=AA(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function RA(e,t,n){if(e.lte(0))return new(fA())(0);var r=IA.getDigitCount(e.toNumber()),i=new(fA())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(fA())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(fA())(Math.ceil(s))}function LA(e,t,n){var r=1,i=new(fA())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(fA())(10).pow(IA.getDigitCount(e)-1),i=new(fA())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(fA())(Math.floor(e)))}else 0===e?i=new(fA())(Math.floor((t-1)/2)):n||(i=new(fA())(Math.floor(e)));var a=Math.floor((t-1)/2);return EA(kA(function(e){return i.add(new(fA())(e-a).mul(r)).toNumber()}),SA)(0,t)}function UA(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(fA())(0),tickMin:new(fA())(0),tickMax:new(fA())(0)};var o,a=RA(new(fA())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(fA())(0):(o=new(fA())(e).add(t).div(2)).sub(new(fA())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(fA())(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?UA(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new(fA())(s).mul(a)),tickMax:o.add(new(fA())(l).mul(a))})}var FA=jA(function(e){var t=AA(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=AA(MA([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(CA(SA(0,i-1).map(function(){return 1/0}))):[].concat(CA(SA(0,i-1).map(function(){return-1/0})),[c]);return n>r?_A(u):u}if(l===c)return LA(l,i,o);var d=UA(l,c,a,o),h=d.step,f=d.tickMin,p=d.tickMax,m=IA.rangeStep(f,p.add(new(fA())(.1).mul(h)),h);return n>r?_A(m):m}),BA=(jA(function(e){var t=AA(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=AA(MA([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return LA(l,i,o);var u=RA(new(fA())(c).sub(l).div(a-1),o,0),d=EA(kA(function(e){return new(fA())(l).add(new(fA())(e).mul(u)).toNumber()}),SA)(0,a).filter(function(e){return e>=l&&e<=c});return n>r?_A(d):d}),jA(function(e,t){var n=AA(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=AA(MA([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),u=RA(new(fA())(l).sub(s).div(c-1),o,0),d=[].concat(CA(IA.rangeStep(new(fA())(s),new(fA())(l).sub(new(fA())(.99).mul(u)),u)),[l]);return r>i?_A(d):d})),zA=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function VA(e){return VA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VA(e)}function qA(){return qA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qA.apply(this,arguments)}function WA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return HA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZA(r.key),r)}}function YA(e,t,n){return t=QA(t),function(e,t){if(t&&("object"===VA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,XA()?Reflect.construct(t,n||[],QA(e).constructor):t.apply(e,n))}function XA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(XA=function(){return!!e})()}function QA(e){return QA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QA(e)}function $A(e,t){return $A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$A(e,t)}function JA(e,t,n){return(t=ZA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZA(e){var t=function(e,t){if("object"!=VA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VA(t)?t:t+""}var eP=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),YA(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$A(e,t)}(n,e),r=n,i=[{key:"render",value:function(){var e=this.props,n=e.offset,r=e.layout,i=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=KA(e,zA),d=Cx(u,!1);"x"===this.props.direction&&"number"!==l.type&&Yx(!1);var h=a.map(function(e){var a=s(e,o),u=a.x,h=a.y,f=a.value,p=a.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=WA(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===r){var b=l.scale,w=h+n,x=w+i,S=w-i,k=b(f-m),E=b(f+g);y.push({x1:E,y1:x,x2:E,y2:S}),y.push({x1:k,y1:w,x2:E,y2:w}),y.push({x1:k,y1:x,x2:k,y2:S})}else if("horizontal"===r){var _=c.scale,j=u+n,O=j-i,T=j+i,N=_(f-m),I=_(f+g);y.push({x1:O,y1:I,x2:T,y2:I}),y.push({x1:j,y1:N,x2:j,y2:I}),y.push({x1:O,y1:N,x2:T,y2:N})}return t.createElement(nS,qA({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return t.createElement("line",qA({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return t.createElement(nS,{className:"recharts-errorBars"},h)}}],i&&GA(r.prototype,i),o&&GA(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function tP(e){return tP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tP(e)}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(t){iP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=tP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}JA(eP,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),JA(eP,"displayName","ErrorBar");var oP=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=Ox(t,bE);if(!o)return null;var a,s=bE.defaultProps,l=void 0!==s?rP(rP({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map(function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?rP(rP({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:pP(t),value:o||i,payload:r}}),rP(rP(rP({},l),bE.getWithHeight(o,r)),{},{payload:a,item:o})};function aP(e){return aP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aP(e)}function sP(e){return function(e){if(Array.isArray(e))return lP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return lP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cP(Object(n),!0).forEach(function(t){dP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=aP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hP(e,t,n){return ix()(e)||ix()(t)?n:Yw(t)?Vw()(e,t,n):ax()(t)?t(e):n}function fP(e,t,n,r){var i=cA()(e,function(e){return hP(e,t)});if("number"===n){var o=i.filter(function(e){return Gw(e)||parseFloat(e)});return o.length?[sA()(o),oA()(o)]:[1/0,-1/0]}return(r?i.filter(function(e){return!ix()(e)}):i).map(function(e){return Yw(e)||e instanceof Date?e:""})}var pP=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?uP(uP({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},mP=function(e,t,n,r,i){var o=jx(t.props.children,eP).filter(function(e){return function(e,t,n){return!!ix()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)});if(o&&o.length){var a=o.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=hP(t,n);if(ix()(r))return e;var i=Array.isArray(r)?[sA()(r),oA()(r)]:[r,r],o=a.reduce(function(e,n){var r=hP(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]},[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]},[1/0,-1/0])}return null},gP=function(e,t,n,r,i){var o=t.map(function(t){var o=t.props.dataKey;return"number"===n&&o&&mP(e,t,o,r)||fP(e,o,n,i)});if("number"===n)return o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var a={};return o.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e},[])},yP=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},vP=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*Hw(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!Bw()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}})},bP=new WeakMap,wP=function(e,t){if("function"!==typeof t)return e;bP.has(e)||bP.set(e,new WeakMap);var n=bP.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},xP=1e-4,SP={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=Bw()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}ZC(e,t)}},none:ZC,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}ZC(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,ZC(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=Bw()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},kP=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),i=SP[n],o=function(){var e=mk([]),t=tA,n=ZC,r=nA;function i(i){var o,a,s=Array.from(e.apply(this,arguments),rA),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=eA(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:mk(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:mk(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?tA:"function"===typeof e?e:mk(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?ZC:e,i):n},i}().keys(r).value(function(e,t){return+hP(e,t,0)}).order(tA).offset(i);return o(e)};var EP=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=hP(o,t.dataKey,t.domain[a]);return ix()(s)?null:t.scale(s)-i/2+r},_P=function(e,t,n){return Object.keys(e).reduce(function(r,i){var o=e[i].stackedData.reduce(function(e,r){var i=r.slice(t,n+1).reduce(function(e,t){return[sA()(t.concat([e[0]]).filter(Gw)),oA()(t.concat([e[1]]).filter(Gw))]},[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},jP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TP=function(e,t,n){if(ax()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Gw(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(jP.test(e[0])){var i=+jP.exec(e[0])[1];r[0]=t[0]-i}else ax()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Gw(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(OP.test(e[1])){var o=+OP.exec(e[1])[1];r[1]=t[1]+o}else ax()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},NP=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Kx()(t,function(e){return e.coordinate}),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},IP=function(e,t,n){return e&&e.length?dA()(e,Vw()(n,"type.defaultProps.domain"))?t:e:t},CP=function(e,t){var n=e.type.defaultProps?uP(uP({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return uP(uP({},Cx(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:pP(e),value:hP(t,r),type:s,payload:t,chartType:l,hide:c})};function AP(e){return AP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AP(e)}function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PP(Object(n),!0).forEach(function(t){MP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=AP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=AP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RP=["Webkit","Moz","O","ms"];function LP(e){return LP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LP(e)}function UP(){return UP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UP.apply(this,arguments)}function FP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FP(Object(n),!0).forEach(function(t){KP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GP(r.key),r)}}function VP(e,t,n){return t=WP(t),function(e,t){if(t&&("object"===LP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qP()?Reflect.construct(t,n||[],WP(e).constructor):t.apply(e,n))}function qP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qP=function(){return!!e})()}function WP(e){return WP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WP(e)}function HP(e,t){return HP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HP(e,t)}function KP(e,t,n){return(t=GP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GP(e){var t=function(e,t){if("object"!=LP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LP(t)?t:t+""}var YP=function(e){return e.changedTouches&&!!e.changedTouches.length},XP=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),KP(t=VP(this,n,[e]),"handleDrag",function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)}),KP(t,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])}),KP(t,"handleDragEnd",function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=t.props,n=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:n,startIndex:i})}),t.detachDragEndListener()}),KP(t,"handleLeaveWrapper",function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))}),KP(t,"handleEnterSlideOrTraveller",function(){t.setState({isTextActive:!0})}),KP(t,"handleLeaveSlideOrTraveller",function(){t.setState({isTextActive:!1})}),KP(t,"handleSlideDragStart",function(e){var n=YP(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()}),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HP(e,t)}(n,e),r=n,i=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,r=e.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(t,r),c=Math.max(t,r),u=n.getIndexInRange(i,l),d=n.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=hP(n[e],i,e);return ax()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-l-i,a+s-l-r):h<0&&(h=Math.max(h,a-r,a-i));var f=this.getIndex({startX:r+h,endX:i+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=YP(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),p[r]=a+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(KP(KP({},r,a+m),"brushMoveStartX",e.pageX),function(){d&&function(){var e=f.length-1;return"startX"===r&&(i>o?y%h===0:v%h===0)||i<o&&v===e||"endX"===r&&(i>o?v%h===0:y%h===0)||i>o&&v===e}()&&d(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(KP({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,n=e.x,r=e.y,i=e.width,o=e.height,a=e.fill,s=e.stroke;return t.createElement("rect",{stroke:s,fill:a,x:n,y:r,width:i,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,n=e.x,r=e.y,i=e.width,o=e.height,a=e.data,s=e.children,l=e.padding,c=t.Children.only(s);return c?t.cloneElement(c,{x:n,y:r,width:i,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,r){var i,o,a=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),y=BP(BP({},Cx(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(i=f[p])||void 0===i?void 0:i.name,", Max value: ").concat(null===(o=f[m])||void 0===o?void 0:o.name);return t.createElement(nS,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,n){var r=this.props,i=r.y,o=r.height,a=r.stroke,s=r.travellerWidth,l=Math.min(e,n)+s,c=Math.max(Math.abs(n-e)-s,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:i,width:c,height:o})}},{key:"renderText",value:function(){var e=this.props,n=e.startIndex,r=e.endIndex,i=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return t.createElement(nS,{className:"recharts-brush-texts"},t.createElement(nO,UP({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:i+o/2},d),this.getTextOfTick(n)),t.createElement(nO,UP({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+a+5,y:i+o/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,n=e.data,r=e.className,i=e.children,o=e.x,a=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!n||!n.length||!Gw(o)||!Gw(a)||!Gw(s)||!Gw(l)||s<=0||l<=0)return null;var y=Dw("recharts-brush",r),v=1===t.Children.count(i),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=RP.reduce(function(e,r){return DP(DP({},e),{},MP({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return t.createElement(nS,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var n=e.x,r=e.y,i=e.width,o=e.height,a=e.stroke,s=Math.floor(r+o/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:n,y:r,width:i,height:o,fill:a,stroke:"none"}),t.createElement("line",{x1:n+1,y1:s,x2:n+i-1,y2:s,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:n+1,y1:s+2,x2:n+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):ax()(e)?e(r):n.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return BP({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=bj().domain(Wx()(0,s)).range([i,i+o-a]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],i&&zP(r.prototype,i),o&&zP(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function QP(e){return QP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QP(e)}function $P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$P(Object(n),!0).forEach(function(t){ZP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=QP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=QP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==QP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}KP(XP,"displayName","Brush"),KP(XP,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var eD=Math.PI/180,tD=function(e){return 180*e/Math.PI},nD=function(e,t,n,r){return{x:e+Math.cos(-eD*r)*n,y:t+Math.sin(-eD*r)*n}},rD=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:tD(l),angleInRadian:l}},iD=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},oD=function(e,t){var n=e.x,r=e.y,i=rD({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,h=u.endAngle,f=a;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?JP(JP({},t),{},{radius:o,angle:iD(f,t)}):null};function aD(e){return aD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aD(e)}var sD=["offset"];function lD(e){return function(e){if(Array.isArray(e))return cD(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return cD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dD(Object(n),!0).forEach(function(t){fD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fD(e,t,n){return t=function(e){var t=function(e,t){if("object"!=aD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aD(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pD(){return pD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pD.apply(this,arguments)}var mD=function(e,n,r){var i,o,a=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+p)/2,b=function(e,t){return Hw(t-e)*Math.min(Math.abs(t-e),360)}(m,g),w=b>=0?1:-1;"insideStart"===a?(i=m+w*l,o=y):"insideEnd"===a?(i=g-w*l,o=!y):"end"===a&&(i=g+w*l,o=y),o=b<=0?o:!o;var x=nD(d,h,v,i),S=nD(d,h,v,i+359*(o?1:-1)),k="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(S.x,",").concat(S.y),E=ix()(e.id)?Qw("recharts-radial-line-"):e.id;return t.createElement("text",pD({},r,{dominantBaseline:"central",className:Dw("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:E,d:k})),t.createElement("textPath",{xlinkHref:"#".concat(E)},n))};function gD(e){var n,r=e.offset,i=hD({offset:void 0===r?5:r},uD(e,sD)),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=void 0===u?"":u,h=i.textBreakAll;if(!o||ix()(s)&&ix()(l)&&!(0,t.isValidElement)(c)&&!ax()(c))return null;if((0,t.isValidElement)(c))return(0,t.cloneElement)(c,i);if(ax()(c)){if(n=(0,t.createElement)(c,i),(0,t.isValidElement)(n))return n}else n=function(e){var t=e.value,n=e.formatter,r=ix()(e.children)?t:e.children;return ax()(n)?n(r):r}(i);var f=function(e){return"cx"in e&&Gw(e.cx)}(o),p=Cx(i,!0);if(f&&("insideStart"===a||"insideEnd"===a||"end"===a))return mD(i,n,p);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=nD(o,a,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=nD(o,a,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(i):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return hD(hD({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return hD(hD({},{x:a+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var v={x:a-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return hD(hD({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return hD(hD({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var w=n?{width:l,height:c}:{};return"insideLeft"===i?hD({x:a+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},w):"insideRight"===i?hD({x:a+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},w):"insideTop"===i?hD({x:a+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},w):"insideBottom"===i?hD({x:a+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},w):"insideTopLeft"===i?hD({x:a+m,y:s+d,textAnchor:y,verticalAnchor:f},w):"insideTopRight"===i?hD({x:a+l-m,y:s+d,textAnchor:g,verticalAnchor:f},w):"insideBottomLeft"===i?hD({x:a+m,y:s+c-d,textAnchor:y,verticalAnchor:h},w):"insideBottomRight"===i?hD({x:a+l-m,y:s+c-d,textAnchor:g,verticalAnchor:h},w):lx()(i)&&(Gw(i.x)||Kw(i.x))&&(Gw(i.y)||Kw(i.y))?hD({x:a+$w(i.x,l),y:s+$w(i.y,c),textAnchor:"end",verticalAnchor:"end"},w):hD({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)}(i);return t.createElement(nO,pD({className:Dw("recharts-label",d)},p,m,{breakAll:h}),n)}gD.displayName="Label";var yD=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(Gw(p)&&Gw(m)){if(Gw(u)&&Gw(d))return{x:u,y:d,width:p,height:m};if(Gw(h)&&Gw(f))return{x:h,y:f,width:p,height:m}}return Gw(u)&&Gw(d)?{x:u,y:d,width:0,height:0}:Gw(t)&&Gw(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};gD.parseViewBox=yD,gD.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=yD(e),a=jx(i,gD).map(function(e,r){return(0,t.cloneElement)(e,{viewBox:n||o,key:"label-".concat(r)})});if(!r)return a;var s=function(e,n){return e?!0===e?t.createElement(gD,{key:"label-implicit",viewBox:n}):Yw(e)?t.createElement(gD,{key:"label-implicit",viewBox:n,value:e}):(0,t.isValidElement)(e)?e.type===gD?(0,t.cloneElement)(e,{key:"label-implicit",viewBox:n}):t.createElement(gD,{key:"label-implicit",content:e,viewBox:n}):ax()(e)?t.createElement(gD,{key:"label-implicit",content:e,viewBox:n}):lx()(e)?t.createElement(gD,pD({viewBox:n},e,{key:"label-implicit"})):null:null}(e.label,n||o);return[s].concat(lD(a))};var vD=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},bD=n(1733),wD=n.n(bD),xD=n(7002),SD=n.n(xD),kD=function(e){return null};kD.displayName="Cell";var ED=n(4065),_D=n.n(ED);function jD(e){return jD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jD(e)}var OD=["valueAccessor"],TD=["data","dataKey","clockWise","id","textBreakAll"];function ND(e){return function(e){if(Array.isArray(e))return ID(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ID(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ID(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ID(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CD(){return CD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CD.apply(this,arguments)}function AD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AD(Object(n),!0).forEach(function(t){DD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DD(e,t,n){return t=function(e){var t=function(e,t){if("object"!=jD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jD(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var RD=function(e){return Array.isArray(e.value)?_D()(e.value):e.value};function LD(e){var n=e.valueAccessor,r=void 0===n?RD:n,i=MD(e,OD),o=i.data,a=i.dataKey,s=i.clockWise,l=i.id,c=i.textBreakAll,u=MD(i,TD);return o&&o.length?t.createElement(nS,{className:"recharts-label-list"},o.map(function(e,n){var i=ix()(a)?r(e,n):hP(e&&e.payload,a),o=ix()(l)?{}:{id:"".concat(l,"-").concat(n)};return t.createElement(gD,CD({},Cx(e,!0),u,o,{parentViewBox:e.parentViewBox,value:i,textBreakAll:c,viewBox:gD.parseViewBox(ix()(s)?e:PD(PD({},e),{},{clockWise:s})),key:"label-".concat(n),index:n}))})):null}LD.displayName="LabelList",LD.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var i=jx(e.children,LD).map(function(e,r){return(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)})});return r?[function(e,n){return e?!0===e?t.createElement(LD,{key:"labelList-implicit",data:n}):t.isValidElement(e)||ax()(e)?t.createElement(LD,{key:"labelList-implicit",data:n,content:e}):lx()(e)?t.createElement(LD,CD({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n)].concat(ND(i)):i};var UD=n(2322),FD=n.n(UD),BD=n(6361),zD=n.n(BD);function VD(e){return VD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VD(e)}function qD(){return qD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qD.apply(this,arguments)}function WD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return HD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KD(Object(n),!0).forEach(function(t){YD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YD(e,t,n){return t=function(e){var t=function(e,t){if("object"!=VD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VD(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XD=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},QD={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$D=function(e){var n=GD(GD({},QD),e),r=(0,t.useRef)(),i=WD((0,t.useState)(-1),2),o=i[0],a=i[1];(0,t.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}},[]);var s=n.x,l=n.y,c=n.upperWidth,u=n.lowerWidth,d=n.height,h=n.className,f=n.animationEasing,p=n.animationDuration,m=n.animationBegin,g=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=Dw("recharts-trapezoid",h);return g?t.createElement(Q_,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:f,isActive:g},function(e){var i=e.upperWidth,a=e.lowerWidth,s=e.height,l=e.x,c=e.y;return t.createElement(Q_,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},t.createElement("path",qD({},Cx(n,!0),{className:y,d:XD(l,c,i,a,s),ref:r})))}):t.createElement("g",null,t.createElement("path",qD({},Cx(n,!0),{className:y,d:XD(s,l,c,u,d)})))};function JD(e){return JD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JD(e)}function ZD(){return ZD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZD.apply(this,arguments)}function eM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eM(Object(n),!0).forEach(function(t){nM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=JD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JD(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rM=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/eD,d=l?i:i+o*u,h=l?i-o*u:i;return{center:nD(t,n,c,d),circleTangency:nD(t,n,r,d),lineTangency:nD(t,n,c*Math.cos(u*eD),h),theta:u}},iM=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return Hw(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=nD(t,n,i,o),c=nD(t,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=nD(t,n,r,o),h=nD(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},oM={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aM=function(e){var n=tM(tM({},oM),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(a<o||u===d)return null;var f,p=Dw("recharts-sector",h),m=a-o,g=$w(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Hw(c-l),d=rM({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=rM({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):iM({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var w="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var x=rM({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),S=x.circleTangency,k=x.lineTangency,E=x.theta,_=rM({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),j=_.circleTangency,O=_.lineTangency,T=_.theta,N=s?Math.abs(l-c):Math.abs(l-c)-E-T;if(N<0&&0===o)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+="L".concat(O.x,",").concat(O.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(N>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"Z")}else w+="L".concat(t,",").concat(n,"Z");return w}({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):iM({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),t.createElement("path",ZD({},Cx(n,!0),{className:p,d:f,role:"img"}))},sM=["option","shapeType","propTransformer","activeClassName","isActive"];function lM(e){return lM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lM(e)}function cM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uM(Object(n),!0).forEach(function(t){hM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=lM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fM(e,t){return dM(dM({},t),e)}function pM(e){var n=e.shapeType,r=e.elementProps;switch(n){case"rectangle":return t.createElement(sj,r);case"trapezoid":return t.createElement($D,r);case"sector":return t.createElement(aM,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(Gk,r);break;default:return null}}function mM(e){var n,r=e.option,i=e.shapeType,o=e.propTransformer,a=void 0===o?fM:o,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=cM(e,sM);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,dM(dM({},u),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if(ax()(r))n=r(u);else if(FD()(r)&&!zD()(r)){var d=a(r,u);n=t.createElement(pM,{shapeType:i,elementProps:d})}else{var h=u;n=t.createElement(pM,{shapeType:i,elementProps:h})}return c?t.createElement(nS,{className:l},n):n}function gM(e,t){return null!=t&&"trapezoids"in e.props}function yM(e,t){return null!=t&&"sectors"in e.props}function vM(e,t){return null!=t&&"points"in e.props}function bM(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function wM(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function xM(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function SM(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return gM(e,t)?n="trapezoids":yM(e,t)?n="sectors":vM(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return gM(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:yM(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:vM(e,t)?t.payload:{}}(n,t),a=r.filter(function(e,r){var a=dA()(o,e),s=n.props[i].filter(function(e){var r=function(e,t){var n;return gM(e,t)?n=bM:yM(e,t)?n=wM:vM(e,t)&&(n=xM),n}(n,t);return r(e,t)}),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l});return r.indexOf(a[a.length-1])}var kM=["x","y"];function EM(e){return EM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EM(e)}function _M(){return _M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_M.apply(this,arguments)}function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jM(Object(n),!0).forEach(function(t){TM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=EM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IM(e,t){var n=e.x,r=e.y,i=NM(e,kM),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return OM(OM(OM(OM(OM({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function CM(e){return t.createElement(mM,_M({shapeType:"rectangle",propTransformer:IM,activeClassName:"recharts-active-bar"},e))}var AM,PM=["value","background"];function DM(e){return DM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DM(e)}function MM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RM(){return RM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RM.apply(this,arguments)}function LM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LM(Object(n),!0).forEach(function(t){WM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HM(r.key),r)}}function BM(e,t,n){return t=VM(t),function(e,t){if(t&&("object"===DM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zM()?Reflect.construct(t,n||[],VM(e).constructor):t.apply(e,n))}function zM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zM=function(){return!!e})()}function VM(e){return VM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VM(e)}function qM(e,t){return qM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qM(e,t)}function WM(e,t,n){return(t=HM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HM(e){var t=function(e,t){if("object"!=DM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DM(t)?t:t+""}var KM=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return WM(e=BM(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),WM(e,"id",Qw("recharts-bar-")),WM(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),WM(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qM(e,t)}(n,e),r=n,i=[{key:"renderRectanglesStatically",value:function(e){var n=this,r=this.props,i=r.shape,o=r.dataKey,a=r.activeIndex,s=r.activeBar,l=Cx(this.props,!1);return e&&e.map(function(e,r){var c=r===a,u=c?s:i,d=UM(UM(UM({},l),e),{},{isActive:c,option:u,index:r,dataKey:o,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return t.createElement(nS,RM({className:"recharts-bar-rectangle"},yx(n.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),t.createElement(CM,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,n=this.props,r=n.data,i=n.layout,o=n.isAnimationActive,a=n.animationBegin,s=n.animationDuration,l=n.animationEasing,c=n.animationId,u=this.state.prevData;return t.createElement(Q_,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var o=n.t,a=r.map(function(e,t){var n=u&&u[t];if(n){var r=Zw(n.x,e.x),a=Zw(n.y,e.y),s=Zw(n.width,e.width),l=Zw(n.height,e.height);return UM(UM({},e),{},{x:r(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===i){var c=Zw(0,e.height)(o);return UM(UM({},e),{},{y:e.y+e.height-c,height:c})}var d=Zw(0,e.width)(o);return UM(UM({},e),{},{width:d})});return t.createElement(nS,null,e.renderRectanglesStatically(a))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&dA()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,n=this.props,r=n.data,i=n.dataKey,o=n.activeIndex,a=Cx(this.props.background,!1);return r.map(function(n,r){n.value;var s=n.background,l=MM(n,PM);if(!s)return null;var c=UM(UM(UM(UM(UM({},l),{},{fill:"#eee"},s),a),yx(e.props,n,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:i,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(CM,RM({key:"background-bar-".concat(r),option:e.props.background,isActive:r===o},c))})}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,i=r.data,o=r.xAxis,a=r.yAxis,s=r.layout,l=jx(r.children,eP);if(!l)return null;var c="vertical"===s?i[0].height/2:i[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:hP(e,t)}},d={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(nS,d,l.map(function(e){return t.cloneElement(e,{key:"error-bar-".concat(n,"-").concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.data,i=e.className,o=e.xAxis,a=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(n||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=Dw("recharts-bar",i),g=o&&o.allowDataOverflow,y=a&&a.allowDataOverflow,v=g||y,b=ix()(f)?this.id:f;return t.createElement(nS,{className:m},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(b)},t.createElement("rect",{x:g?s:s-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,t.createElement(nS,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!d||p)&&LD.renderCallByParent(this.props,r))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],i&&FM(r.prototype,i),o&&FM(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function GM(e){return GM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GM(e)}function YM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JM(r.key),r)}}function XM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XM(Object(n),!0).forEach(function(t){$M(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $M(e,t,n){return(t=JM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JM(e){var t=function(e,t){if("object"!=GM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GM(t)?t:t+""}AM=KM,WM(KM,"displayName","Bar"),WM(KM,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!NS.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),WM(KM,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,g=void 0!==m?UM(UM({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,w="horizontal"===p?a:o,x=c?w.scale.domain():null,S=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:w}),k=jx(v,kD),E=d.map(function(e,t){var r,d,h,m,g,v;c?r=function(e,t){if(!t||2!==t.length||!Gw(t[0])||!Gw(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Gw(e[0])||e[0]<n)&&(i[0]=n),(!Gw(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],x):(r=hP(e,y),Array.isArray(r)||(r=[S,r]));var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i="number"===typeof n;return i?e(n,r):(i||Yx(!1),t)}}(b,AM.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var E,_=[a.scale(r[0]),a.scale(r[1])],j=_[0],O=_[1];d=EP({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),h=null!==(E=null!==O&&void 0!==O?O:j)&&void 0!==E?E:void 0,m=f.size;var T=j-O;if(g=Number.isNaN(T)?0:T,v={x:d,y:a.y,width:m,height:a.height},Math.abs(w)>0&&Math.abs(g)<Math.abs(w)){var N=Hw(g||w)*(Math.abs(w)-Math.abs(g));h-=N,g+=N}}else{var I=[o.scale(r[0]),o.scale(r[1])],C=I[0],A=I[1];if(d=C,h=EP({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=A-C,g=f.size,v={x:o.x,y:h,width:o.width,height:g},Math.abs(w)>0&&Math.abs(m)<Math.abs(w))m+=Hw(m||w)*(Math.abs(w)-Math.abs(m))}return UM(UM(UM({},e),{},{x:d,y:h,width:m,height:g,value:c?r:r[1],payload:e,background:v},k&&k[t]&&k[t].props),{},{tooltipPayload:[CP(n,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})});return UM({data:E,layout:p},h)});var ZM=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},eR=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&YM(t.prototype,n),r&&YM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();$M(eR,"EPS",1e-4);var tR=function(e){var t=Object.keys(e).reduce(function(t,n){return QM(QM({},t),{},$M({},n,eR.create(e[n])))},{});return QM(QM({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return wD()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:i})})},isInRange:function(e){return SD()(e,function(e,n){return t[n].isInRange(e)})}})};function nR(){return nR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nR.apply(this,arguments)}function rR(e){return rR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rR(e)}function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(t){dR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hR(r.key),r)}}function sR(e,t,n){return t=cR(t),function(e,t){if(t&&("object"===rR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lR()?Reflect.construct(t,n||[],cR(e).constructor):t.apply(e,n))}function lR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(lR=function(){return!!e})()}function cR(e){return cR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cR(e)}function uR(e,t){return uR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uR(e,t)}function dR(e,t,n){return(t=hR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hR(e){var t=function(e,t){if("object"!=rR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rR(t)?t:t+""}var fR=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),sR(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uR(e,t)}(n,e),r=n,i=[{key:"render",value:function(){var e=this.props,r=e.x,i=e.y,o=e.r,a=e.alwaysShow,s=e.clipPathId,l=Yw(r),c=Yw(i);if(nx(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=tR({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return vD(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,g=oR(oR({clipPath:vD(this.props,"hidden")?"url(#".concat(s,")"):void 0},Cx(this.props,!0)),{},{cx:d,cy:h});return t.createElement(nS,{className:Dw("recharts-reference-dot",m)},n.renderDot(p,g),gD.renderCallByParent(this.props,{x:d-o,y:h-o,width:2*o,height:2*o}))}}],i&&aR(r.prototype,i),o&&aR(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);dR(fR,"displayName","ReferenceDot"),dR(fR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),dR(fR,"renderDot",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):ax()(e)?e(n):t.createElement(xE,nR({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"}))});var pR=n(4597),mR=n.n(pR),gR=(n(8990),n(5797)),yR=n.n(gR)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var vR=(0,t.createContext)(void 0),bR=(0,t.createContext)(void 0),wR=(0,t.createContext)(void 0),xR=(0,t.createContext)({}),SR=(0,t.createContext)(void 0),kR=(0,t.createContext)(0),ER=(0,t.createContext)(0),_R=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=yR(o);return t.createElement(vR.Provider,{value:r},t.createElement(bR.Provider,{value:i},t.createElement(xR.Provider,{value:o},t.createElement(wR.Provider,{value:u},t.createElement(SR.Provider,{value:a},t.createElement(kR.Provider,{value:c},t.createElement(ER.Provider,{value:l},s)))))))};var jR=function(e){var n=(0,t.useContext)(vR);null==n&&Yx(!1);var r=n[e];return null==r&&Yx(!1),r},OR=function(e){var n=(0,t.useContext)(bR);null==n&&Yx(!1);var r=n[e];return null==r&&Yx(!1),r},TR=function(){return(0,t.useContext)(ER)},NR=function(){return(0,t.useContext)(kR)};function IR(e){return IR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IR(e)}function CR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FR(r.key),r)}}function AR(e,t,n){return t=DR(t),function(e,t){if(t&&("object"===IR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PR()?Reflect.construct(t,n||[],DR(e).constructor):t.apply(e,n))}function PR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(PR=function(){return!!e})()}function DR(e){return DR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DR(e)}function MR(e,t){return MR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},MR(e,t)}function RR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RR(Object(n),!0).forEach(function(t){UR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UR(e,t,n){return(t=FR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FR(e){var t=function(e,t){if("object"!=IR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IR(t)?t:t+""}function BR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VR(){return VR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VR.apply(this,arguments)}function qR(e){var n=e.x,r=e.y,i=e.segment,o=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,t.useContext)(SR),d=jR(o),h=OR(a),f=(0,t.useContext)(wR);if(!u||!f)return null;nx(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,o,a,s,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:o});if(vD(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:o});if(vD(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===a?v.reverse():v}if(r){var b=l.segment.map(function(t){return e.apply(t,{position:o})});return vD(l,"discard")&&mR()(b,function(t){return!e.isInRange(t)})?null:b}return null}(tR({x:d.scale,y:h.scale}),Yw(n),Yw(r),i&&2===i.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=BR(p,2),g=m[0],y=g.x,v=g.y,b=m[1],w=b.x,x=b.y,S=LR(LR({clipPath:vD(e,"hidden")?"url(#".concat(u,")"):void 0},Cx(e,!0)),{},{x1:y,y1:v,x2:w,y2:x});return t.createElement(nS,{className:Dw("recharts-reference-line",l)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):ax()(e)?e(n):t.createElement("line",VR({},n,{className:"recharts-reference-line-line"}))}(s,S),gD.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return ZM({x:t,y:n},{x:r,y:i})}({x1:y,y1:v,x2:w,y2:x})))}var WR=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),AR(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MR(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){return t.createElement(qR,this.props)}}])&&CR(r.prototype,i),o&&CR(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function HR(){return HR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HR.apply(this,arguments)}function KR(e){return KR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KR(e)}function GR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GR(Object(n),!0).forEach(function(t){eL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tL(r.key),r)}}function QR(e,t,n){return t=JR(t),function(e,t){if(t&&("object"===KR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$R()?Reflect.construct(t,n||[],JR(e).constructor):t.apply(e,n))}function $R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($R=function(){return!!e})()}function JR(e){return JR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JR(e)}function ZR(e,t){return ZR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ZR(e,t)}function eL(e,t,n){return(t=tL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tL(e){var t=function(e,t){if("object"!=KR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KR(t)?t:t+""}UR(WR,"displayName","ReferenceLine"),UR(WR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var nL=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),QR(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZR(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){var e=this.props,r=e.x1,i=e.x2,o=e.y1,a=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;nx(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Yw(r),d=Yw(i),h=Yw(o),f=Yw(a),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=tR({x:c.scale,y:u.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!vD(i,"discard")||d.isInRange(h)&&d.isInRange(f)?ZM(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var g=vD(this.props,"hidden")?"url(#".concat(c,")"):void 0;return t.createElement(nS,{className:Dw("recharts-reference-area",s)},n.renderRect(p,YR(YR({clipPath:g},Cx(this.props,!0)),m)),gD.renderCallByParent(this.props,m))}}])&&XR(r.prototype,i),o&&XR(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function rL(e){return function(e){if(Array.isArray(e))return iL(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return iL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iL(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}eL(nL,"displayName","ReferenceArea"),eL(nL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),eL(nL,"renderRect",function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):ax()(e)?e(n):t.createElement(sj,HR({},n,{className:"recharts-reference-area-rect"}))});var oL=function(e,t,n,r,i){var o=jx(e,WR),a=jx(e,fR),s=[].concat(rL(o),rL(a)),l=jx(e,nL),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===n&&vD(t.props,"extendDomain")&&Gw(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&vD(t.props,"extendDomain")&&Gw(t.props[h])&&Gw(t.props[f])){var r=t.props[h],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e},d)}return i&&i.length&&(d=i.reduce(function(e,t){return Gw(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},aL=n(7283),sL=new(n.n(aL)()),lL="recharts.syncMouseEvents";function cL(e){return cL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cL(e)}function uL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hL(r.key),r)}}function dL(e,t,n){return(t=hL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hL(e){var t=function(e,t){if("object"!=cL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cL(t)?t:t+""}var fL=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dL(this,"activeIndex",0),dL(this,"coordinateList",[]),dL(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&uL(e.prototype,t),n&&uL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function pL(){}function mL(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function gL(e){this._context=e}function yL(e){this._context=e}function vL(e){this._context=e}gL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mL(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},yL.prototype={areaStart:pL,areaEnd:pL,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},vL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class bL{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function wL(e){this._context=e}function xL(e){this._context=e}function SL(e){return new xL(e)}function kL(e){return e<0?-1:1}function EL(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(kL(o)+kL(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function _L(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function jL(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function OL(e){this._context=e}function TL(e){this._context=new NL(e)}function NL(e){this._context=e}function IL(e){this._context=e}function CL(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function AL(e,t){this._context=e,this._t=t}function PL(e){return e[0]}function DL(e){return e[1]}function ML(e,t){var n=mk(!0),r=null,i=SL,o=null,a=Lk(s);function s(s){var l,c,u,d=(s=eA(s)).length,h=!1;for(null==r&&(o=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?PL:mk(e),t="function"===typeof t?t:void 0===t?DL:mk(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:mk(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:mk(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:mk(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function RL(e,t,n){var r=null,i=mk(!0),o=null,a=SL,s=null,l=Lk(c);function c(c){var u,d,h,f,p,m=(c=eA(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==o&&(s=a(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return ML().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?PL:mk(+e),t="function"===typeof t?t:mk(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?DL:mk(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:mk(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:mk(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:mk(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:mk(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:mk(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:mk(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:mk(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}function LL(e){return LL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LL(e)}function UL(){return UL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UL.apply(this,arguments)}function FL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FL(Object(n),!0).forEach(function(t){zL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zL(e,t,n){return t=function(e){var t=function(e,t){if("object"!=LL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LL(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wL.prototype={areaStart:pL,areaEnd:pL,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},xL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},OL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jL(this,this._t0,_L(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jL(this,_L(this,n=EL(this,e,t)),n);break;default:jL(this,this._t0,n=EL(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(TL.prototype=Object.create(OL.prototype)).point=function(e,t){OL.prototype.point.call(this,t,e)},NL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=CL(e),i=CL(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},AL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var VL={curveBasisClosed:function(e){return new yL(e)},curveBasisOpen:function(e){return new vL(e)},curveBasis:function(e){return new gL(e)},curveBumpX:function(e){return new bL(e,!0)},curveBumpY:function(e){return new bL(e,!1)},curveLinearClosed:function(e){return new wL(e)},curveLinear:SL,curveMonotoneX:function(e){return new OL(e)},curveMonotoneY:function(e){return new TL(e)},curveNatural:function(e){return new IL(e)},curveStep:function(e){return new AL(e,.5)},curveStepAfter:function(e){return new AL(e,1)},curveStepBefore:function(e){return new AL(e,0)}},qL=function(e){return e.x===+e.x&&e.y===+e.y},WL=function(e){return e.x},HL=function(e){return e.y},KL=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(ax()(e))return e;var n="curve".concat(KS()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?VL[n]||SL:VL["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?o.filter(function(e){return qL(e)}):o;if(Array.isArray(a)){var h=c?a.filter(function(e){return qL(e)}):a,f=d.map(function(e,t){return BL(BL({},e),{},{base:h[t]})});return(t="vertical"===s?RL().y(HL).x1(WL).x0(function(e){return e.base.x}):RL().x(WL).y1(HL).y0(function(e){return e.base.y})).defined(qL).curve(u),t(f)}return(t="vertical"===s&&Gw(a)?RL().y(HL).x1(WL).x0(a):Gw(a)?RL().x(WL).y1(HL).y0(a):ML().x(WL).y(HL)).defined(qL).curve(u),t(d)},GL=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?KL(e):i;return t.createElement("path",UL({},Cx(e,!1),gx(e),{className:Dw("recharts-curve",n),d:a,ref:o}))};function YL(e){return YL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YL(e)}var XL=["x","y","top","left","width","height","className"];function QL(){return QL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QL.apply(this,arguments)}function $L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JL(e,t,n){return t=function(e){var t=function(e,t){if("object"!=YL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YL(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var eU=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},tU=function(e){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.top,s=void 0===a?0:a,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$L(Object(n),!0).forEach(function(t){JL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:r,y:o,top:s,left:c,width:d,height:f},ZL(e,XL));return Gw(r)&&Gw(o)&&Gw(d)&&Gw(f)&&Gw(s)&&Gw(c)?t.createElement("path",QL({},Cx(m,!0),{className:Dw("recharts-cross",p),d:eU(r,o,d,f,s,c)})):null};function nU(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[nD(t,n,r,i),nD(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function rU(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return nU(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=nD(s,l,c,d),f=nD(s,l,u,d);r=h.x,i=h.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function iU(e){return iU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iU(e)}function oU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oU(Object(n),!0).forEach(function(t){sU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=iU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lU(e){var n,r,i,o=e.element,a=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(n=o.props.cursor)&&void 0!==n?n:null===(r=o.type.defaultProps)||void 0===r?void 0:r.cursor;if(!o||!m||!s||!l||"ScatterChart"!==p&&"axis"!==a)return null;var g=GL;if("ScatterChart"===p)i=l,g=tU;else if("BarChart"===p)i=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,h),g=sj;else if("radial"===f){var y=nU(l),v=y.cx,b=y.cy,w=y.radius;i={cx:v,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:w,outerRadius:w},g=aM}else i={points:rU(f,l,u)},g=GL;var x=aU(aU(aU(aU({stroke:"#ccc",pointerEvents:"none"},u),i),Cx(m,!1)),{},{payload:c,payloadIndex:d,className:Dw("recharts-tooltip-cursor",m.className)});return(0,t.isValidElement)(m)?(0,t.cloneElement)(m,x):(0,t.createElement)(g,x)}var cU=["item"],uU=["children","className","width","height","style","compact","title","desc"];function dU(e){return dU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dU(e)}function hU(){return hU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hU.apply(this,arguments)}function fU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||xU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jU(r.key),r)}}function gU(e,t,n){return t=vU(t),function(e,t){if(t&&("object"===dU(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yU()?Reflect.construct(t,n||[],vU(e).constructor):t.apply(e,n))}function yU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yU=function(){return!!e})()}function vU(e){return vU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vU(e)}function bU(e,t){return bU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bU(e,t)}function wU(e){return function(e){if(Array.isArray(e))return SU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xU(e,t){if(e){if("string"===typeof e)return SU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SU(e,t):void 0}}function SU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function EU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kU(Object(n),!0).forEach(function(t){_U(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _U(e,t,n){return(t=jU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jU(e){var t=function(e,t){if("object"!=dU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dU(t)?t:t+""}var OU={xAxis:["bottom","top"],yAxis:["left","right"]},TU={width:"100%",height:"100%"},NU={x:0,y:0};function IU(e){return e}var CU=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(wU(e),wU(n)):e},[]);return o.length>0?o:e&&e.length&&Gw(r)&&Gw(i)?e.slice(r,i+1):[]};function AU(e){return"number"===e?[0,"auto"]:void 0}var PU=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=CU(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce(function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=ex(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(wU(i),[CP(s,c)]):i},[])},DU=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(Hw(u-c)!==Hw(d-u)){var f=[];if(Hw(d-u)===Hw(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){o=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){o=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=PU(e,t,c,u),h=function(e,t,n,r){var i=t.find(function(e){return e&&e.index===n});if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return EU(EU(EU({},r),nD(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return EU(EU(EU({},r),nD(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return NU}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},MU=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=yP(c,i);return n.reduce(function(t,n){var f,p=void 0!==n.type.defaultProps?EU(EU({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,w=p.ticks,x=p.includeHidden,S=p[o];if(t[S])return t;var k,E,_,j=CU(e.data,{graphicalItems:r.filter(function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===S}),dataStartIndex:s,dataEndIndex:l}),O=j.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&Gw(r)&&Gw(i))return!0}return!1})(p.domain,y,m)&&(k=TP(p.domain,null,y),!h||"number"!==m&&"auto"===b||(_=fP(j,g,"category")));var T=AU(m);if(!k||0===k.length){var N,I=null!==(N=p.domain)&&void 0!==N?N:T;if(g){if(k=fP(j,g,m),"category"===m&&h){var C=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(k);v&&C?(E=k,k=Wx()(0,O)):v||(k=IP(I,k,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(wU(e),[t])},[]))}else if("category"===m)k=v?k.filter(function(e){return""!==e&&!ix()(e)}):IP(I,k,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||ix()(t)?e:[].concat(wU(e),[t])},[]);else if("number"===m){var A=function(e,t,n,r,i){var o=t.map(function(t){return mP(e,t,n,i,r)}).filter(function(e){return!ix()(e)});return o&&o.length?o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(j,r.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===S&&(x||!i)}),g,i,c);A&&(k=A)}!h||"number"!==m&&"auto"===b||(_=fP(j,g,"category"))}else k=h?Wx()(0,O):a&&a[S]&&a[S].hasStack&&"number"===m?"expand"===d?[0,1]:_P(a[S].stackGroups,s,l):gP(j,r.filter(function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===S&&(x||!n)}),m,c,!0);if("number"===m)k=oL(u,k,S,i,w),I&&(k=TP(I,k,y));else if("category"===m&&I){var P=I;k.every(function(e){return P.indexOf(e)>=0})&&(k=P)}}return EU(EU({},t),{},_U({},S,EU(EU({},p),{},{axisType:i,domain:k,categoricalDomain:_,duplicateDomain:E,originalDomain:null!==(f=p.domain)&&void 0!==f?f:T,isCategorical:h,layout:c})))},{})},RU=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=jx(c,i),h={};return d&&d.length?h=MU(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=CU(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=yP(c,i),p=-1;return n.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?EU(EU({},t.type.defaultProps),t.props):t.props)[o],y=AU("number");return e[g]?e:(p++,f?m=Wx()(0,h):a&&a[g]&&a[g].hasStack?(m=_P(a[g].stackGroups,s,l),m=oL(u,m,g,i)):(m=TP(y,gP(d,n.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i}),"number",c),r.defaultProps.allowDataOverflow),m=oL(u,m,g,i)),EU(EU({},e),{},_U({},g,EU(EU({axisType:i},r.defaultProps),{},{hide:!0,orientation:Vw()(OU,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))},{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),h},LU=function(e){var t=e.children,n=e.defaultShowTooltip,r=Ox(t,XP),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},UU=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},FU=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=Ox(c,XP),h=Ox(c,bE),f=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:EU(EU({},e),{},_U({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:EU(EU({},e),{},_U({},r,Vw()(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),m=EU(EU({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||XP.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=oP({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&Gw(e[h]))return uP(uP({},e),{},dP({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&Gw(e[f]))return uP(uP({},e),{},dP({},f,e[f]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return EU(EU({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},BU=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0};function zU(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function VU(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function qU(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function WU(e){return WU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WU(e)}function HU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HU(Object(n),!0).forEach(function(t){GU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=WU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YU(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(Gw(l)||NS.isSsr)return function(e,t){return zU(e,t+1)}(i,"number"===typeof l&&Gw(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?Oj(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=ax()(c)?c(e.value,r):e.value;return"width"===f?VU(Oj(i,{fontSize:t,letterSpacing:n}),p,d):Oj(i,{fontSize:t,letterSpacing:n})[f]},g=i.length>=2?Hw(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:zU(r,u)};var o,a=c,h=function(){return void 0===o&&(o=n(t,a)),o},f=t.coordinate,p=0===c||qU(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=a.length;)if(o=h())return o.v;return[]}(g,y,m,i,a):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);a[s-1]=u=KU(KU({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),qU(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+i),a[s-1]=KU(KU({},u),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=KU(KU({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=KU(KU({},o),{},{tickCoord:o.coordinate});qU(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=KU(KU({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(g,y,m,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=KU(KU({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=KU(KU({},c),{},{tickCoord:c.coordinate});qU(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=KU(KU({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(g,y,m,i,a),h.filter(function(e){return e.isShow}))}var XU=["viewBox"],QU=["viewBox"],$U=["ticks"];function JU(e){return JU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JU(e)}function ZU(){return ZU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZU.apply(this,arguments)}function eF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eF(Object(n),!0).forEach(function(t){lF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cF(r.key),r)}}function iF(e,t,n){return t=aF(t),function(e,t){if(t&&("object"===JU(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oF()?Reflect.construct(t,n||[],aF(e).constructor):t.apply(e,n))}function oF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(oF=function(){return!!e})()}function aF(e){return aF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aF(e)}function sF(e,t){return sF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sF(e,t)}function lF(e,t,n){return(t=cF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cF(e){var t=function(e,t){if("object"!=JU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JU(t)?t:t+""}var uF=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=iF(this,n,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sF(e,t)}(n,e),r=n,i=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=nF(e,XU),i=this.props,o=i.viewBox,a=nF(i,QU);return!ux(n,o)||!ux(r,a)||!ux(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=e.tickSize||f,v=Gw(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=c+ +!p*d)-g*y)-g*m,o=v;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!p*u)-g*y)-g*m,a=v;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +p*u)+g*y)+g*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=c+ +p*d)+g*y)+g*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.x,r=e.y,i=e.width,o=e.height,a=e.orientation,s=e.mirror,l=e.axisLine,c=tF(tF(tF({},Cx(this.props,!1)),Cx(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!s||"bottom"===a&&s);c=tF(tF({},c),{},{x1:n,y1:r+u*o,x2:n+i,y2:r+u*o})}else{var d=+("left"===a&&!s||"right"===a&&s);c=tF(tF({},c),{},{x1:n+d*i,y1:r,x2:n+d*i,y2:r+o})}return t.createElement("line",ZU({},c,{className:Dw("recharts-cartesian-axis-line",Vw()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,i){var o=this,a=this.props,s=a.tickLine,l=a.stroke,c=a.tick,u=a.tickFormatter,d=a.unit,h=YU(tF(tF({},this.props),{},{ticks:e}),r,i),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Cx(this.props,!1),g=Cx(c,!1),y=tF(tF({},m),{},{fill:"none"},Cx(s,!1)),v=h.map(function(e,r){var i=o.getTickLineCoord(e),a=i.line,v=i.tick,b=tF(tF(tF(tF({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),v),{},{index:r,payload:e,visibleTicksCount:h.length,tickFormatter:u});return t.createElement(nS,ZU({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},yx(o.props,e,r)),s&&t.createElement("line",ZU({},y,a,{className:Dw("recharts-cartesian-axis-tick-line",Vw()(s,"className"))})),c&&n.renderTickItem(c,b,"".concat(ax()(u)?u(e.value,r):e.value).concat(d||"")))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,n=this.props,r=n.axisLine,i=n.width,o=n.height,a=n.ticksGenerator,s=n.className;if(n.hide)return null;var l=this.props,c=l.ticks,u=nF(l,$U),d=c;return ax()(a)&&(d=c&&c.length>0?a(this.props):a(u)),i<=0||o<=0||!d||!d.length?null:t.createElement(nS,{className:Dw("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),gD.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(e,n,r){return t.isValidElement(e)?t.cloneElement(e,n):ax()(e)?e(n):t.createElement(nO,ZU({},n,{className:"recharts-cartesian-axis-tick-value"}),r)}}],i&&rF(r.prototype,i),o&&rF(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function dF(e){return dF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dF(e)}function hF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vF(r.key),r)}}function fF(e,t,n){return t=mF(t),function(e,t){if(t&&("object"===dF(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pF()?Reflect.construct(t,n||[],mF(e).constructor):t.apply(e,n))}function pF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pF=function(){return!!e})()}function mF(e){return mF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mF(e)}function gF(e,t){return gF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gF(e,t)}function yF(e,t,n){return(t=vF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vF(e){var t=function(e,t){if("object"!=dF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dF(t)?t:t+""}function bF(){return bF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bF.apply(this,arguments)}function wF(e){var n=e.xAxisId,r=TR(),i=NR(),o=jR(n);return null==o?null:t.createElement(uF,bF({},o,{className:Dw("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(e){return vP(e,!0)}}))}lF(uF,"displayName","CartesianAxis"),lF(uF,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xF=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),fF(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gF(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){return t.createElement(wF,this.props)}}])&&hF(r.prototype,i),o&&hF(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function SF(e){return SF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SF(e)}function kF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NF(r.key),r)}}function EF(e,t,n){return t=jF(t),function(e,t){if(t&&("object"===SF(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_F()?Reflect.construct(t,n||[],jF(e).constructor):t.apply(e,n))}function _F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_F=function(){return!!e})()}function jF(e){return jF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jF(e)}function OF(e,t){return OF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},OF(e,t)}function TF(e,t,n){return(t=NF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NF(e){var t=function(e,t){if("object"!=SF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SF(t)?t:t+""}function IF(){return IF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IF.apply(this,arguments)}yF(xF,"displayName","XAxis"),yF(xF,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var CF=function(e){var n=e.yAxisId,r=TR(),i=NR(),o=OR(n);return null==o?null:t.createElement(uF,IF({},o,{className:Dw("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(e){return vP(e,!0)}}))},AF=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),EF(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OF(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){return t.createElement(CF,this.props)}}])&&kF(r.prototype,i),o&&kF(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);TF(AF,"displayName","YAxis"),TF(AF,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var PF=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=void 0===i?"axis":i,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=UU(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=Sx(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,p){var b=CU(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),w=void 0!==n.type.defaultProps?EU(EU({},n.type.defaultProps),n.props):n.props,x=w.dataKey,S=w.maxBarSize,k=w["".concat(m,"Id")],E=w["".concat(g,"Id")],_=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],i=w["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||Yx(!1);var o=r[i];return EU(EU({},e),{},_U(_U({},n.axisType,o),"".concat(n.axisType,"Ticks"),vP(o)))},{}),j=_[g],O=_["".concat(g,"Ticks")],T=r&&r[k]&&r[k].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?uP(uP({},e.type.defaultProps),e.props):e.props).stackId;if(Yw(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[k].stackGroups),N=Sx(n.type).indexOf("Bar")>=0,I=NP(j,O),C=[],A=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter(function(e){return Sx(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?uP(uP({},y),g[0].props):g[0].props,b=v.barSize,w=v[m];o[w]||(o[w]=[]);var x=ix()(b)?t:b;o[w].push({item:g[0],stackList:g.slice(1),barSize:ix()(x)?void 0:$w(x,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:BU(_,g)});if(N){var P,D,M=ix()(S)?f:S,R=null!==(P=null!==(D=NP(j,O,!0))&&void 0!==D?D:M)&&void 0!==P?P:0;C=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=$w(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/s,f=o.reduce(function(e,t){return e+t.barSize||0},0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=o.reduce(function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(sP(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:p})}),r},u)}else{var m=$w(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=a===+a?Math.min(g,a):g;l=o.reduce(function(e,t,n){var r=[].concat(sP(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==I?R:I,sizeList:A[E],maxBarSize:M}),R!==I&&(C=C.map(function(e){return EU(EU({},e),{},{position:EU(EU({},e.position),{},{offset:e.position.offset-R/2})})}))}var L=n&&n.type&&n.type.getComposedData;L&&v.push({props:EU(EU({},L(EU(EU({},_),{},{displayedData:b,props:e,dataKey:x,item:n,bandSize:I,barPosition:C,offset:i,stackedData:T,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},_U(_U(_U({key:n.key||"item-".concat(p)},m,_[m]),g,_[g]),"animationId",o)),childIndex:Mx(n,e.children),item:n})}),v},f=function(e,t){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!Tx({props:i}))return null;var c=i.children,d=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,g=UU(d),y=g.numericAxisName,v=g.cateAxisName,b=jx(c,r),w=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce(function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?uP(uP({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(Yw(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[Qw("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return uP(uP({},e),{},dP({},s,l))},{});return Object.keys(a).reduce(function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,o){var a=s.stackGroups[o];return uP(uP({},t),{},dP({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:kP(e,a.items,i)}))},{})),uP(uP({},t),{},dP({},o,s))},{})}(p,b,"".concat(y,"Id"),"".concat(v,"Id"),f,m),x=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return EU(EU({},e),{},_U({},n,RU(i,EU(EU({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&w,dataStartIndex:o,dataEndIndex:a}))))},{}),S=FU(EU(EU({},x),{},{props:i,graphicalItems:b}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(x).forEach(function(e){x[e]=u(i,x[e],S,e.replace("Map",""),n)});var k=function(e){var t=Jw(e),n=vP(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Kx()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:NP(t,n)}}(x["".concat(v,"Map")]),E=h(i,EU(EU({},x),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:w,offset:S}));return EU(EU({formattedGraphicalItems:E,graphicalItems:b,offset:S,stackGroups:w},k),x)},p=function(e){function r(e){var i,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),_U(a=gU(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_U(a,"accessibilityManager",new fL),_U(a,"handleLegendBBoxUpdate",function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(EU({legendBBox:e},f({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},EU(EU({},a.state),{},{legendBBox:e}))))}}),_U(a,"handleReceiveSyncEvent",function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}}),_U(a,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState(function(){return EU({dataStartIndex:t,dataEndIndex:n},f({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))}),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),_U(a,"handleMouseEnter",function(e){var t=a.getMouseInfo(e);if(t){var n=EU(EU({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;ax()(r)&&r(n,e)}}),_U(a,"triggeredAfterMouseMove",function(e){var t=a.getMouseInfo(e),n=t?EU(EU({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;ax()(r)&&r(n,e)}),_U(a,"handleItemMouseEnter",function(e){a.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),_U(a,"handleItemMouseLeave",function(){a.setState(function(){return{isTooltipActive:!1}})}),_U(a,"handleMouseMove",function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)}),_U(a,"handleMouseLeave",function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;ax()(n)&&n(t,e)}),_U(a,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&xx[t]?xx[t]:null}(e),r=Vw()(a.props,"".concat(n));n&&ax()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)}),_U(a,"handleClick",function(e){var t=a.getMouseInfo(e);if(t){var n=EU(EU({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;ax()(r)&&r(n,e)}}),_U(a,"handleMouseDown",function(e){var t=a.props.onMouseDown;ax()(t)&&t(a.getMouseInfo(e),e)}),_U(a,"handleMouseUp",function(e){var t=a.props.onMouseUp;ax()(t)&&t(a.getMouseInfo(e),e)}),_U(a,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),_U(a,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])}),_U(a,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])}),_U(a,"handleDoubleClick",function(e){var t=a.props.onDoubleClick;ax()(t)&&t(a.getMouseInfo(e),e)}),_U(a,"handleContextMenu",function(e){var t=a.props.onContextMenu;ax()(t)&&t(a.getMouseInfo(e),e)}),_U(a,"triggerSyncEvent",function(e){void 0!==a.props.syncId&&sL.emit(lL,a.props.syncId,e,a.eventEmitterSymbol)}),_U(a,"applySyncEvent",function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(EU({dataStartIndex:o,dataEndIndex:s},f({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=a.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=EU(EU({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),b=p[u]&&p[u].value,w=PU(a.state,a.props.data,u),x=p[u]?{x:"horizontal"===n?p[u].coordinate:y,y:"horizontal"===n?v:p[u].coordinate}:NU;a.setState(EU(EU({},e),{},{activeLabel:b,activeCoordinate:x,activePayload:w,activeTooltipIndex:u}))}else a.setState(e)}),_U(a,"renderCursor",function(e){var r,i=a.state,o=i.isTooltipActive,s=i.activeCoordinate,l=i.activePayload,c=i.offset,u=i.activeTooltipIndex,d=i.tooltipAxisBandSize,h=a.getTooltipEventType(),f=null!==(r=e.props.active)&&void 0!==r?r:o,p=a.props.layout,m=e.key||"_recharts-cursor";return t.createElement(lU,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:n,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})}),_U(a,"renderPolarAxis",function(e,n,r){var i=Vw()(e,"type.axisType"),o=Vw()(a.state,"".concat(i,"Map")),s=e.type.defaultProps,l=void 0!==s?EU(EU({},s),e.props):e.props,c=o&&o[l["".concat(i,"Id")]];return(0,t.cloneElement)(e,EU(EU({},c),{},{className:Dw(i,c.className),key:e.key||"".concat(n,"-").concat(r),ticks:vP(c,!0)}))}),_U(a,"renderPolarGrid",function(e){var n=e.props,r=n.radialLines,i=n.polarAngles,o=n.polarRadius,s=a.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=Jw(l),d=Jw(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,t.cloneElement)(e,{polarAngles:Array.isArray(i)?i:vP(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(o)?o:vP(u,!0).map(function(e){return e.coordinate}),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:r})}),_U(a,"renderLegend",function(){var e=a.state.formattedGraphicalItems,n=a.props,r=n.children,i=n.width,o=n.height,s=a.props.margin||{},l=i-(s.left||0)-(s.right||0),u=oP({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=pU(u,cU);return(0,t.cloneElement)(d,EU(EU({},h),{},{chartWidth:i,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))}),_U(a,"renderTooltip",function(){var e,n=a.props,r=n.children,i=n.accessibilityLayer,o=Ox(r,WS);if(!o)return null;var s=a.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,f=null!==(e=o.props.active)&&void 0!==e?e:l;return(0,t.cloneElement)(o,{viewBox:EU(EU({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:i})}),_U(a,"renderBrush",function(e){var n=a.props,r=n.margin,i=n.data,o=a.state,s=o.offset,l=o.dataStartIndex,c=o.dataEndIndex,u=o.updateId;return(0,t.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:wP(a.handleBrushChange,e.props.onChange),data:i,x:Gw(e.props.x)?e.props.x:s.left,y:Gw(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:Gw(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),_U(a,"renderReferenceElement",function(e,n,r){if(!e)return null;var i=a.clipPathId,o=a.state,s=o.xAxisMap,l=o.yAxisMap,c=o.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,t.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:i})}),_U(a,"renderActivePoints",function(e){var t=e.item,n=e.activePoint,i=e.basePoint,o=e.childIndex,a=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?EU(EU({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=EU(EU({index:o,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:pP(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Cx(u,!1)),gx(u));return s.push(r.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(o))),i?s.push(r.renderActiveDot(u,EU(EU({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s}),_U(a,"renderGraphicChild",function(e,n,r){var i=a.filterFormatItem(e,n,r);if(!i)return null;var o=a.getTooltipEventType(),s=a.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=Ox(a.props.children,WS),f=i.props,p=f.points,m=f.isRange,g=f.baseLine,y=void 0!==i.item.type.defaultProps?EU(EU({},i.item.type.defaultProps),i.item.props):i.item.props,v=y.activeDot,b=y.hide,w=y.activeBar,x=y.activeShape,S=Boolean(!b&&l&&h&&(v||w||x)),k={};"axis"!==o&&h&&"click"===h.props.trigger?k={onClick:wP(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(k={onMouseLeave:wP(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:wP(a.handleItemMouseEnter,e.props.onMouseEnter)});var E=(0,t.cloneElement)(e,EU(EU({},i.props),k));if(S){if(!(u>=0)){var _,j=(null!==(_=a.getItemByXY(a.state.activeCoordinate))&&void 0!==_?_:{graphicalItem:E}).graphicalItem,O=j.item,T=void 0===O?e:O,N=j.childIndex,I=EU(EU(EU({},i.props),k),{},{activeIndex:N});return[(0,t.cloneElement)(T,I),null,null]}var C,A;if(c.dataKey&&!c.allowDuplicatedCategory){var P="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());C=ex(p,P,d),A=m&&g&&ex(g,P,d)}else C=null===p||void 0===p?void 0:p[u],A=m&&g&&g[u];if(x||w){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,t.cloneElement)(e,EU(EU(EU({},i.props),k),{},{activeIndex:D})),null,null]}if(!ix()(C))return[E].concat(wU(a.renderActivePoints({item:i,activePoint:C,basePoint:A,childIndex:u,isRange:m})))}return m?[E,null,null]:[E,null]}),_U(a,"renderCustomized",function(e,n,r){return(0,t.cloneElement)(e,EU(EU({key:"recharts-customized-".concat(r)},a.props),a.state))}),_U(a,"renderMap",{CartesianGrid:{handler:IU,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:IU},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:IU},YAxis:{handler:IU},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(i=e.id)&&void 0!==i?i:Qw("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=Rw()(a.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bU(e,t)}(r,e),i=r,a=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=Ox(t,WS);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=PU(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=EU(EU({},d),h.props.points[a].tooltipPosition),l=h.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){Ax([Ox(e.children,WS)],[Ox(this.props.children,WS)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Ox(this.props.children,WS);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=DU(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var f=Jw(c).scale,p=Jw(u).scale,m=f&&f.invert?f.invert(o.chartX):null,g=p&&p.invert?p.invert(o.chartY):null;return EU(EU({},o),{},{xValue:m,yValue:g},h)}return h?EU(EU({},o),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=Jw(l);return oD({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=Ox(e,WS),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),EU(EU({},gx(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){sL.on(lL,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sL.removeListener(lL,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===Sx(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,n=this.state.offset,r=n.left,i=n.top,o=n.height,a=n.width;return t.createElement("defs",null,t.createElement("clipPath",{id:e},t.createElement("rect",{x:r,y:i,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=fU(t,2),r=n[0],i=n[1];return EU(EU({},e),{},_U({},r,i.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=fU(t,2),r=n[0],i=n[1];return EU(EU({},e),{},_U({},r,i.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?EU(EU({},l.type.defaultProps),l.props):l.props,u=Sx(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return oj(e,t)});if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find(function(t){return oD(e,t)});if(h)return{graphicalItem:a,payload:h}}else if(gM(a,r)||yM(a,r)||vM(a,r)){var f=SM({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:EU(EU({},a),{},{childIndex:p}),payload:vM(a,r)?c.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Tx(this))return null;var n,r,i=this.props,o=i.children,a=i.className,s=i.width,l=i.height,c=i.style,u=i.compact,d=i.title,h=i.desc,f=pU(i,uU),p=Cx(f,!1);if(u)return t.createElement(_R,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(Jx,hU({},p,{width:s,height:l,title:d,desc:h}),this.renderClipPath(),Dx(o,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(n=this.props.tabIndex)&&void 0!==n?n:0,p.role=null!==(r=this.props.role)&&void 0!==r?r:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return t.createElement(_R,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",hU({className:Dw("recharts-wrapper",a),style:EU({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),t.createElement(Jx,hU({},p,{width:s,height:l,title:d,desc:h,style:TU}),this.renderClipPath(),Dx(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&mU(i.prototype,a),l&&mU(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a,l}(t.Component);_U(p,"displayName",n),_U(p,"defaultProps",EU({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),_U(p,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=LU(e);return EU(EU(EU({},h),{},{updateId:0},f(EU(EU({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!ux(c,t.prevMargin)){var p=LU(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=EU(EU({},DU(t,r,s)),{},{updateId:t.updateId+1}),y=EU(EU(EU({},p),m),g);return EU(EU(EU({},y),f(EU({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!Ax(i,t.prevChildren)){var v,b,w,x,S=Ox(i,XP),k=S&&null!==(v=null===(b=S.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,E=S&&null!==(w=null===(x=S.props)||void 0===x?void 0:x.endIndex)&&void 0!==w?w:d,_=k!==u||E!==d,j=!ix()(r)&&!_?t.updateId:t.updateId+1;return EU(EU({updateId:j},f(EU(EU({props:e},t),{},{updateId:j,dataStartIndex:k,dataEndIndex:E}),t)),{},{prevChildren:i,dataStartIndex:k,dataEndIndex:E})}return null}),_U(p,"renderActiveDot",function(e,n,r){var i;return i=(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):ax()(e)?e(n):t.createElement(xE,n),t.createElement(nS,{className:"recharts-active-dot",key:r},i)});var m=(0,t.forwardRef)(function(e,n){return t.createElement(p,hU({},e,{ref:n}))});return m.displayName=p.displayName,m}({chartName:"BarChart",GraphicalChild:KM,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xF},{axisType:"yAxis",AxisComp:AF}],formatAxisMap:function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ox(c,KM);return u.reduce(function(a,s){var c,u,f,p,m,g=n[s],y=g.orientation,v=g.domain,b=g.padding,w=void 0===b?{}:b,x=g.mirror,S=g.reversed,k="".concat(y).concat(x?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var E=v[1]-v[0],_=1/0,j=g.categoricalDomain.sort(tx);if(j.forEach(function(e,t){t>0&&(_=Math.min((e||0)-(j[t-1]||0),_))}),Number.isFinite(_)){var O=_/E,T="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=O*T/2),"no-gap"===g.padding){var N=$w(t.barCategoryGap,O*T),I=O*T/2;c=I-N-(I-N)/T*N}}}u="xAxis"===i?[r.left+(w.left||0)+(c||0),r.left+r.width-(w.right||0)-(c||0)]:"yAxis"===i?"horizontal"===l?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(c||0),r.top+r.height-(w.bottom||0)-(c||0)]:g.range,S&&(u=[u[1],u[0]]);var C=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:yj(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:zT(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:bj(),realScaleType:"point"}:"category"===o?{scale:yj(),realScaleType:"band"}:{scale:zT(),realScaleType:"linear"};if(Uw()(i)){var l="scale".concat(KS()(i));return{scale:(e[l]||bj)(),realScaleType:e[l]?l:"point"}}return ax()(i)?{scale:i}:{scale:bj(),realScaleType:"point"}}(g,o,h),A=C.scale,P=C.realScaleType;A.domain(v).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-xP,o=Math.max(r[0],r[1])+xP,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(A);var D=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=FA(l,i,a);return e.domain([sA()(c),oA()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:BA(u,i,a)}}return null}(A,QM(QM({},g),{},{realScaleType:P}));"xAxis"===i?(m="top"===y&&!x||"bottom"===y&&x,f=r.left,p=d[k]-m*g.height):"yAxis"===i&&(m="left"===y&&!x||"right"===y&&x,f=d[k]-m*g.width,p=r.top);var M=QM(QM(QM({},g),D),{},{realScaleType:P,x:f,y:p,scale:A,width:"xAxis"===i?r.width:g.width,height:"yAxis"===i?r.height:g.height});return M.bandSize=NP(M,D),g.hide||"xAxis"!==i?g.hide||(d[k]+=(m?-1:1)*M.width):d[k]+=(m?-1:1)*M.height,QM(QM({},a),{},$M({},s,M))},{})}});function DF(e){let{finances:n=[],onSave:r,onDelete:i}=e;const[o,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)({description:"",amount:"",type:"income",date:(new Date).toISOString().split("T")[0],notes:""}),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)((new Date).getMonth()+1),[g,y]=(0,t.useState)((new Date).getFullYear()),v=["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],b=(n.filter(e=>{if(!e.date)return!1;const t=new Date(e.date);return t.getMonth()+1===p&&t.getFullYear()===g}),()=>n.filter(e=>"income"===e.type).reduce((e,t)=>e+Number(t.amount),0)),w=()=>n.filter(e=>"expense"===e.type).reduce((e,t)=>e+Number(t.amount),0),x=()=>b()-w(),S=Array.from({length:12},(e,t)=>{const r=t+1,i=v[t],o=n.filter(e=>"income"===e.type&&e.date&&new Date(e.date).getMonth()+1===r&&new Date(e.date).getFullYear()===g),a=n.filter(e=>"expense"===e.type&&e.date&&new Date(e.date).getMonth()+1===r&&new Date(e.date).getFullYear()===g);return{month:i,"\u05d4\u05db\u05e0\u05e1\u05d5\u05ea":o.reduce((e,t)=>e+Number(t.amount),0),"\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea":a.reduce((e,t)=>e+Number(t.amount),0)}});return h?(0,xy.jsx)("div",{className:"flex justify-center items-center h-full p-8",children:(0,xy.jsxs)("div",{className:"modern-card p-8 text-center max-w-md border-error-200 bg-error-50/50",children:[(0,xy.jsx)("div",{className:"w-16 h-16 bg-gradient-error rounded-2xl mx-auto mb-4 flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-white text-2xl",children:"\u26a0\ufe0f"})}),(0,xy.jsx)("h3",{className:"text-xl font-semibold text-error-800 mb-2",children:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"}),(0,xy.jsx)("p",{className:"text-error-600",children:h})]})}):(0,xy.jsxs)("div",{className:"min-h-full p-6 animate-fade-in",children:[(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 flex flex-col md:flex-row md:justify-between md:items-center gap-4 border border-white/20",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-4",children:[(0,xy.jsx)("div",{className:"p-3 bg-gradient-to-l from-purple-500 to-blue-400 rounded-2xl text-white shadow-lg flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-2xl",children:(0,xy.jsx)(Ry,{})})}),(0,xy.jsx)("h2",{className:"text-2xl font-bold text-primary-900",children:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05db\u05e1\u05e4\u05d9\u05dd"})]}),(0,xy.jsx)(Tv,{onClick:()=>{l(null),u({description:"",amount:"",type:"income",date:(new Date).toISOString().split("T")[0],notes:""}),a(!0)},variant:"accent",size:"md",icon:(0,xy.jsx)(zy,{className:"w-5 h-5"}),className:"min-w-[140px]",children:"\u05e2\u05e1\u05e7\u05d4 \u05d7\u05d3\u05e9\u05d4"})]}),(0,xy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center border border-white/20",children:[(0,xy.jsx)("h3",{className:"text-lg font-semibold text-primary-700 mb-2",children:"\u05d4\u05db\u05e0\u05e1\u05d5\u05ea"}),(0,xy.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["\u20aa",b().toLocaleString()]})]}),(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center border border-white/20",children:[(0,xy.jsx)("h3",{className:"text-lg font-semibold text-primary-700 mb-2",children:"\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea"}),(0,xy.jsxs)("p",{className:"text-3xl font-bold text-red-600",children:["\u20aa",w().toLocaleString()]})]}),(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center border border-white/20",children:[(0,xy.jsx)("h3",{className:"text-lg font-semibold text-primary-700 mb-2",children:"\u05d9\u05ea\u05e8\u05d4"}),(0,xy.jsxs)("p",{className:"text-3xl font-bold ".concat(x()>=0?"text-green-600":"text-red-600"),children:["\u20aa",x().toLocaleString()]})]})]}),(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 border border-white/20",children:[(0,xy.jsx)("h3",{className:"text-lg font-bold text-primary-800 mb-4",children:"\u05d2\u05e8\u05e3 \u05d7\u05d5\u05d3\u05e9\u05d9"}),(0,xy.jsx)("div",{className:"w-full h-72",children:(0,xy.jsx)(Vx,{width:"100%",height:"100%",children:(0,xy.jsxs)(PF,{data:S,margin:{top:10,right:30,left:0,bottom:0},children:[(0,xy.jsx)(xF,{dataKey:"month",tick:{fontSize:12}}),(0,xy.jsx)(AF,{tick:{fontSize:12}}),(0,xy.jsx)(WS,{}),(0,xy.jsx)(bE,{}),(0,xy.jsx)(KM,{dataKey:"\u05d4\u05db\u05e0\u05e1\u05d5\u05ea",fill:"#22c55e",radius:[8,8,0,0]}),(0,xy.jsx)(KM,{dataKey:"\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea",fill:"#ef4444",radius:[8,8,0,0]})]})})})]}),(0,xy.jsx)("div",{className:"bg-white rounded-2xl shadow-lg overflow-auto border border-white/20",children:(0,xy.jsx)(rw,{items:n,onEdit:e=>{l(e),u({description:e.description||"",amount:e.amount||"",type:e.type||"income",date:e.date||(new Date).toISOString().split("T")[0],notes:e.notes||""}),a(!0)},onDelete:i,getTitle:e=>e.description,getSubtitle:e=>"".concat("income"===e.type?"\u05d4\u05db\u05e0\u05e1\u05d4":"\u05d4\u05d5\u05e6\u05d0\u05d4",": \u20aa").concat(e.amount),getMetadata:e=>[{label:"\u05e1\u05db\u05d5\u05dd",value:"\u20aa".concat(e.amount)},{label:"\u05e1\u05d5\u05d2",value:"income"===e.type?"\u05d4\u05db\u05e0\u05e1\u05d4":"\u05d4\u05d5\u05e6\u05d0\u05d4"},{label:"\u05ea\u05d0\u05e8\u05d9\u05da",value:new Date(e.date).toLocaleDateString("he-IL")},{label:"\u05d4\u05e2\u05e8\u05d5\u05ea",value:e.notes}]})}),(0,xy.jsx)(cv,{isOpen:o,onClose:()=>{a(!1),l(null),u({description:"",amount:"",type:"income",date:(new Date).toISOString().split("T")[0],notes:""}),f(null)},children:(0,xy.jsxs)("div",{className:"p-6",children:[(0,xy.jsx)("h3",{className:"text-xl font-bold mb-4",children:s?"\u05e2\u05e8\u05d9\u05db\u05ea \u05e2\u05e1\u05e7\u05d4":"\u05e2\u05e1\u05e7\u05d4 \u05d7\u05d3\u05e9\u05d4"}),(0,xy.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{s?await r(s.id,c):await r(null,c),a(!1),l(null),u({description:"",amount:"",type:"income",date:(new Date).toISOString().split("T")[0],notes:""}),f(null)}catch(h){f("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05e2\u05e1\u05e7\u05d4"),console.error("Error saving transaction:",h)}},className:"space-y-4",children:[(0,xy.jsx)(lw,{label:"\u05ea\u05d9\u05d0\u05d5\u05e8",value:c.description,onChange:e=>u(t=>d(d({},t),{},{description:e.target.value})),required:!0}),(0,xy.jsx)(lw,{label:"\u05e1\u05db\u05d5\u05dd",type:"number",value:c.amount,onChange:e=>u(t=>d(d({},t),{},{amount:e.target.value})),required:!0}),(0,xy.jsxs)(uw,{label:"\u05e1\u05d5\u05d2",value:c.type,onChange:e=>u(t=>d(d({},t),{},{type:e.target.value})),children:[(0,xy.jsx)("option",{value:"income",children:"\u05d4\u05db\u05e0\u05e1\u05d4"}),(0,xy.jsx)("option",{value:"expense",children:"\u05d4\u05d5\u05e6\u05d0\u05d4"})]}),(0,xy.jsx)(lw,{label:"\u05ea\u05d0\u05e8\u05d9\u05da",type:"date",value:c.date,onChange:e=>u(t=>d(d({},t),{},{date:e.target.value})),required:!0}),(0,xy.jsx)(cw,{label:"\u05d4\u05e2\u05e8\u05d5\u05ea",value:c.notes,onChange:e=>u(t=>d(d({},t),{},{notes:e.target.value}))}),h&&(0,xy.jsx)("div",{className:"text-error-600 text-sm",children:h}),(0,xy.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,xy.jsx)(Tv,{type:"button",variant:"ghost",onClick:()=>{a(!1),l(null),u({description:"",amount:"",type:"income",date:(new Date).toISOString().split("T")[0],notes:""}),f(null)},children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,xy.jsx)(Tv,{type:"submit",variant:"primary",children:s?"\u05e9\u05de\u05d5\u05e8 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd":"\u05d4\u05d5\u05e1\u05e3 \u05e2\u05e1\u05e7\u05d4"})]})]})]})})]})}function MF(e){let{maintenance:n=[],onSave:r,onDelete:i}=e;const[o,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)({title:"",description:"",status:"pending",priority:"medium",dueDate:(new Date).toISOString().split("T")[0],notes:""}),[h,f]=(0,t.useState)(null);return h?(0,xy.jsx)("div",{className:"flex justify-center items-center h-full p-8",children:(0,xy.jsxs)("div",{className:"modern-card p-8 text-center max-w-md border-error-200 bg-error-50/50",children:[(0,xy.jsx)("div",{className:"w-16 h-16 bg-gradient-error rounded-2xl mx-auto mb-4 flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-white text-2xl",children:"\u26a0\ufe0f"})}),(0,xy.jsx)("h3",{className:"text-xl font-semibold text-error-800 mb-2",children:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"}),(0,xy.jsx)("p",{className:"text-error-600",children:h})]})}):(0,xy.jsxs)("div",{className:"min-h-full p-6 animate-fade-in",children:[(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 flex flex-col md:flex-row md:justify-between md:items-center gap-4 border border-white/20",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-4",children:[(0,xy.jsx)("div",{className:"p-3 bg-gradient-to-l from-purple-500 to-blue-400 rounded-2xl text-white shadow-lg flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-2xl",children:(0,xy.jsx)(Ly,{})})}),(0,xy.jsx)("h2",{className:"text-2xl font-bold text-primary-900",children:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05ea\u05d7\u05d6\u05d5\u05e7\u05d4"})]}),(0,xy.jsx)(Tv,{onClick:()=>{l(null),u({title:"",description:"",status:"pending",priority:"medium",dueDate:(new Date).toISOString().split("T")[0],notes:""}),a(!0)},variant:"accent",size:"md",icon:(0,xy.jsx)(zy,{className:"w-5 h-5"}),className:"min-w-[140px]",children:"\u05de\u05e9\u05d9\u05de\u05d4 \u05d7\u05d3\u05e9\u05d4"})]}),(0,xy.jsx)("div",{className:"bg-white rounded-2xl shadow-lg overflow-auto border border-white/20",children:(0,xy.jsx)(rw,{items:n,onEdit:e=>{l(e),u({title:e.title||"",description:e.description||"",status:e.status||"pending",priority:e.priority||"medium",dueDate:e.dueDate||(new Date).toISOString().split("T")[0],notes:e.notes||""}),a(!0)},onDelete:i,getTitle:e=>e.title,getSubtitle:e=>"\u05e2\u05d3\u05d9\u05e4\u05d5\u05ea: ".concat(RF(e.priority)," | \u05e1\u05d8\u05d8\u05d5\u05e1: ").concat(LF(e.status)),getMetadata:e=>[{label:"\u05ea\u05d9\u05d0\u05d5\u05e8",value:e.description},{label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05e2\u05d3",value:new Date(e.dueDate).toLocaleDateString("he-IL")},{label:"\u05e2\u05d3\u05d9\u05e4\u05d5\u05ea",value:RF(e.priority)},{label:"\u05e1\u05d8\u05d8\u05d5\u05e1",value:LF(e.status)},{label:"\u05d4\u05e2\u05e8\u05d5\u05ea",value:e.notes}]})}),(0,xy.jsx)(cv,{isOpen:o,onClose:()=>{a(!1),l(null),u({title:"",description:"",status:"pending",priority:"medium",dueDate:(new Date).toISOString().split("T")[0],notes:""}),f(null)},children:(0,xy.jsxs)("div",{className:"p-6",children:[(0,xy.jsx)("h3",{className:"text-xl font-bold mb-4",children:s?"\u05e2\u05e8\u05d9\u05db\u05ea \u05de\u05e9\u05d9\u05de\u05ea \u05ea\u05d7\u05d6\u05d5\u05e7\u05d4":"\u05de\u05e9\u05d9\u05de\u05ea \u05ea\u05d7\u05d6\u05d5\u05e7\u05d4 \u05d7\u05d3\u05e9\u05d4"}),(0,xy.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{s?await r(s.id,c):await r(null,c),a(!1),l(null),u({title:"",description:"",status:"pending",priority:"medium",dueDate:(new Date).toISOString().split("T")[0],notes:""}),f(null)}catch(h){f("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05de\u05e9\u05d9\u05de\u05d4"),console.error("Error saving maintenance item:",h)}},className:"space-y-4",children:[(0,xy.jsx)(lw,{label:"\u05db\u05d5\u05ea\u05e8\u05ea",value:c.title,onChange:e=>u(t=>d(d({},t),{},{title:e.target.value})),required:!0}),(0,xy.jsx)(cw,{label:"\u05ea\u05d9\u05d0\u05d5\u05e8",value:c.description,onChange:e=>u(t=>d(d({},t),{},{description:e.target.value}))}),(0,xy.jsxs)(uw,{label:"\u05e1\u05d8\u05d8\u05d5\u05e1",value:c.status,onChange:e=>u(t=>d(d({},t),{},{status:e.target.value})),children:[(0,xy.jsx)("option",{value:"pending",children:"\u05de\u05de\u05ea\u05d9\u05df"}),(0,xy.jsx)("option",{value:"in_progress",children:"\u05d1\u05d8\u05d9\u05e4\u05d5\u05dc"}),(0,xy.jsx)("option",{value:"completed",children:"\u05d4\u05d5\u05e9\u05dc\u05dd"})]}),(0,xy.jsxs)(uw,{label:"\u05e2\u05d3\u05d9\u05e4\u05d5\u05ea",value:c.priority,onChange:e=>u(t=>d(d({},t),{},{priority:e.target.value})),children:[(0,xy.jsx)("option",{value:"low",children:"\u05e0\u05de\u05d5\u05db\u05d4"}),(0,xy.jsx)("option",{value:"medium",children:"\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u05ea"}),(0,xy.jsx)("option",{value:"high",children:"\u05d2\u05d1\u05d5\u05d4\u05d4"}),(0,xy.jsx)("option",{value:"urgent",children:"\u05d3\u05d7\u05d5\u05e3"})]}),(0,xy.jsx)(lw,{label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05e2\u05d3",type:"date",value:c.dueDate,onChange:e=>u(t=>d(d({},t),{},{dueDate:e.target.value})),required:!0}),(0,xy.jsx)(cw,{label:"\u05d4\u05e2\u05e8\u05d5\u05ea",value:c.notes,onChange:e=>u(t=>d(d({},t),{},{notes:e.target.value}))}),h&&(0,xy.jsx)("div",{className:"text-error-600 text-sm",children:h}),(0,xy.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,xy.jsx)(Tv,{type:"button",variant:"ghost",onClick:()=>{a(!1),l(null),u({title:"",description:"",status:"pending",priority:"medium",dueDate:(new Date).toISOString().split("T")[0],notes:""}),f(null)},children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,xy.jsx)(Tv,{type:"submit",variant:"primary",children:s?"\u05e9\u05de\u05d5\u05e8 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd":"\u05d4\u05d5\u05e1\u05e3 \u05de\u05e9\u05d9\u05de\u05d4"})]})]})]})})]})}function RF(e){switch(e){case"low":return"\u05e0\u05de\u05d5\u05db\u05d4";case"medium":return"\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u05ea";case"high":return"\u05d2\u05d1\u05d5\u05d4\u05d4";case"urgent":return"\u05d3\u05d7\u05d5\u05e3";default:return e}}function LF(e){switch(e){case"pending":return"\u05de\u05de\u05ea\u05d9\u05df";case"in_progress":return"\u05d1\u05d8\u05d9\u05e4\u05d5\u05dc";case"completed":return"\u05d4\u05d5\u05e9\u05dc\u05dd";default:return e}}function UF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export.csv";try{if(!e||!e.length)return void console.warn("No data to export");const n="\ufeff",r=Object.keys(e[0]),i=[r.map(e=>'"'.concat(e,'"')).join(","),...e.map(e=>r.map(t=>{const n=e[t];if(null===n||void 0===n)return'""';const r=String(n).replace(/"/g,'""').replace(/\n/g," ").trim();return'"'.concat(r,'"')}).join(","))],o=n+i.join("\r\n"),a=new Blob([o],{type:"text/csv;charset=utf-8"}),s=window.URL.createObjectURL(a),l=document.createElement("a");return l.href=s,l.download=t,l.click(),window.URL.revokeObjectURL(s),!0}catch(iB){throw console.error("Error exporting to CSV:",iB),new Error("Failed to export to CSV: ".concat(iB.message))}}function FF(e){let{bookings:n=[],finances:r=[]}=e;const[i,o]=(0,t.useState)({start:"",end:""}),{bookings:a,finances:s}={bookings:n.filter(e=>{const t=new Date(e.checkIn);return(!i.start||t>=new Date(i.start))&&(!i.end||t<=new Date(i.end))}),finances:r.filter(e=>{const t=new Date(e.date);return(!i.start||t>=new Date(i.start))&&(!i.end||t<=new Date(i.end))})},l=()=>s.filter(e=>"income"===e.type).reduce((e,t)=>e+Number(t.amount),0),c=()=>s.filter(e=>"expense"===e.type).reduce((e,t)=>e+Number(t.amount),0),u=()=>l()-c();return(0,xy.jsxs)("div",{className:"p-6",children:[(0,xy.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-8",children:[(0,xy.jsxs)("div",{className:"flex items-center gap-4",children:[(0,xy.jsx)("div",{className:"p-3 bg-gradient-to-l from-purple-500 to-blue-400 rounded-2xl text-white shadow-lg flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-2xl",children:(0,xy.jsx)(Uy,{})})}),(0,xy.jsx)("h1",{className:"text-2xl font-bold text-primary-900",children:"\u05d3\u05d5\u05d7\u05d5\u05ea"})]}),(0,xy.jsxs)("div",{className:"flex flex-wrap gap-2 items-end",children:[(0,xy.jsx)(Tv,{onClick:()=>UF(a,"bookings_report.csv"),variant:"primary",size:"sm",className:"min-w-[120px]",children:"\u05d9\u05d9\u05e6\u05d5\u05d0 \u05d4\u05d6\u05de\u05e0\u05d5\u05ea"}),(0,xy.jsx)(Tv,{onClick:()=>UF(s,"finances_report.csv"),variant:"success",size:"sm",className:"min-w-[120px]",children:"\u05d9\u05d9\u05e6\u05d5\u05d0 \u05e4\u05d9\u05e0\u05e0\u05e1\u05d9\u05dd"}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"\u05de\u05ea\u05d0\u05e8\u05d9\u05da"}),(0,xy.jsx)("input",{type:"date",value:i.start,onChange:e=>o(d(d({},i),{},{start:e.target.value})),className:"w-full rounded-xl border border-gray-300 px-3 py-2 focus:border-accent-400 focus:ring-2 focus:ring-accent-300 transition placeholder-gray-400 text-sm bg-white"})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"\u05e2\u05d3 \u05ea\u05d0\u05e8\u05d9\u05da"}),(0,xy.jsx)("input",{type:"date",value:i.end,onChange:e=>o(d(d({},i),{},{end:e.target.value})),className:"w-full rounded-xl border border-gray-300 px-3 py-2 focus:border-accent-400 focus:ring-2 focus:ring-accent-300 transition placeholder-gray-400 text-sm bg-white"})]})]})]}),(0,xy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center border border-white/20",children:[(0,xy.jsx)("h3",{className:"text-lg font-semibold text-primary-700 mb-2",children:"\u05d4\u05db\u05e0\u05e1\u05d5\u05ea"}),(0,xy.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["\u20aa",l().toLocaleString()]})]}),(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center border border-white/20",children:[(0,xy.jsx)("h3",{className:"text-lg font-semibold text-primary-700 mb-2",children:"\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea"}),(0,xy.jsxs)("p",{className:"text-3xl font-bold text-red-600",children:["\u20aa",c().toLocaleString()]})]}),(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center border border-white/20",children:[(0,xy.jsx)("h3",{className:"text-lg font-semibold text-primary-700 mb-2",children:"\u05e8\u05d5\u05d5\u05d7 \u05e0\u05e7\u05d9"}),(0,xy.jsxs)("p",{className:"text-3xl font-bold ".concat(u()>=0?"text-green-600":"text-red-600"),children:["\u20aa",u().toLocaleString()]})]}),(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center border border-white/20",children:[(0,xy.jsx)("h3",{className:"text-lg font-semibold text-primary-700 mb-2",children:"\u05d4\u05db\u05e0\u05e1\u05d4 \u05de\u05de\u05d5\u05e6\u05e2\u05ea \u05dc\u05d4\u05d6\u05de\u05e0\u05d4"}),(0,xy.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:["\u20aa",(()=>{if(!a.length)return 0;const e=a.reduce((e,t)=>e+Number(t.totalPrice),0);return(e/a.length).toFixed(2)})()]})]})]}),(0,xy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-white/20",children:[(0,xy.jsx)("h2",{className:"text-xl font-bold mb-4 text-primary-800",children:"\u05e1\u05d9\u05db\u05d5\u05dd \u05d4\u05d6\u05de\u05e0\u05d5\u05ea"}),(0,xy.jsxs)("div",{className:"space-y-4",children:[(0,xy.jsxs)("div",{children:[(0,xy.jsx)("p",{className:"text-sm text-primary-600",children:"\u05de\u05e1\u05e4\u05e8 \u05d4\u05d6\u05de\u05e0\u05d5\u05ea"}),(0,xy.jsx)("p",{className:"text-2xl font-bold",children:a.length})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("p",{className:"text-sm text-primary-600",children:"\u05d0\u05d7\u05d5\u05d6 \u05ea\u05e4\u05d5\u05e1\u05d4 \u05de\u05de\u05d5\u05e6\u05e2"}),(0,xy.jsxs)("p",{className:"text-2xl font-bold",children:[(()=>{if(!a.length)return 0;const e=a.reduce((e,t)=>{const n=new Date(t.checkIn),r=new Date(t.checkOut);return e+Math.ceil((r-n)/864e5)},0);return(e/a.length).toFixed(1)})(),"%"]})]})]})]}),(0,xy.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-white/20",children:[(0,xy.jsx)("h2",{className:"text-xl font-bold mb-4 text-primary-800",children:"\u05e1\u05d9\u05db\u05d5\u05dd \u05e4\u05d9\u05e0\u05e0\u05e1\u05d9"}),(0,xy.jsxs)("div",{className:"space-y-4",children:[(0,xy.jsxs)("div",{children:[(0,xy.jsx)("p",{className:"text-sm text-primary-600",children:"\u05d4\u05db\u05e0\u05e1\u05d5\u05ea"}),(0,xy.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["\u20aa",l().toLocaleString()]})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("p",{className:"text-sm text-primary-600",children:"\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea"}),(0,xy.jsxs)("p",{className:"text-2xl font-bold text-red-600",children:["\u20aa",c().toLocaleString()]})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("p",{className:"text-sm text-primary-600",children:"\u05e8\u05d5\u05d5\u05d7 \u05e0\u05e7\u05d9"}),(0,xy.jsxs)("p",{className:"text-2xl font-bold ".concat(u()>=0?"text-green-600":"text-red-600"),children:["\u20aa",u().toLocaleString()]})]})]})]})]})]})}function BF(e){let{settings:n={},tenant:r={},onSave:i}=e;const[o,a]=(0,t.useState)({propertyName:r.propertyName||n.propertyName||"",address:r.address||n.address||"",phone:r.phone||n.phone||"",email:r.email||n.email||"",additionalEmails:(n.additionalEmails||[]).filter(e=>"sb0534135898@gmail.com"!==e),checkInTime:n.checkInTime||"15:00",checkOutTime:n.checkOutTime||"11:00",currency:n.currency||"ILS",language:n.language||"he",notifications:n.notifications||{email:!0,sms:!1}});return(0,xy.jsxs)("div",{className:"p-6",children:[(0,xy.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,xy.jsx)("h1",{className:"text-2xl font-bold",children:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea"})}),(0,xy.jsx)("div",{className:"bg-white rounded shadow p-6",children:(0,xy.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(null,o)},className:"space-y-6",children:[(0,xy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u05e9\u05dd \u05d4\u05e0\u05db\u05e1"}),(0,xy.jsx)("input",{type:"text",value:o.propertyName,onChange:e=>a(d(d({},o),{},{propertyName:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u05db\u05ea\u05d5\u05d1\u05ea"}),(0,xy.jsx)("input",{type:"text",value:o.address,onChange:e=>a(d(d({},o),{},{address:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05e8\u05d0\u05e9\u05d9"}),(0,xy.jsx)("input",{type:"email",value:o.email,onChange:e=>a(d(d({},o),{},{email:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u05db\u05ea\u05d5\u05d1\u05d5\u05ea \u05de\u05d9\u05d9\u05dc \u05e0\u05d5\u05e1\u05e4\u05d5\u05ea \u05dc\u05d4\u05ea\u05e8\u05d0\u05d5\u05ea"}),(0,xy.jsxs)("div",{className:"space-y-2",children:[o.additionalEmails.map((e,t)=>(0,xy.jsxs)("div",{className:"flex gap-2",children:[(0,xy.jsx)("input",{type:"email",value:e,onChange:e=>((e,t)=>{const n=[...o.additionalEmails];n[e]=t,a(d(d({},o),{},{additionalEmails:n}))})(t,e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc"}),(0,xy.jsx)("button",{type:"button",onClick:()=>{return e=t,void a(d(d({},o),{},{additionalEmails:o.additionalEmails.filter((t,n)=>n!==e)}));var e},className:"px-2 py-1 text-red-600 hover:text-red-800",children:"\u274c"})]},t)),(0,xy.jsx)("button",{type:"button",onClick:()=>{a(d(d({},o),{},{additionalEmails:[...o.additionalEmails,""]}))},className:"mt-2 text-blue-600 hover:text-blue-800 text-sm flex items-center",children:"+ \u05d4\u05d5\u05e1\u05e3 \u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc"})]})]}),(0,xy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u05e9\u05e2\u05ea \u05e6'\u05e7-\u05d0\u05d9\u05df"}),(0,xy.jsx)("input",{type:"time",value:o.checkInTime,onChange:e=>a(d(d({},o),{},{checkInTime:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u05e9\u05e2\u05ea \u05e6'\u05e7-\u05d0\u05d0\u05d5\u05d8"}),(0,xy.jsx)("input",{type:"time",value:o.checkOutTime,onChange:e=>a(d(d({},o),{},{checkOutTime:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),(0,xy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u05de\u05d8\u05d1\u05e2"}),(0,xy.jsxs)("select",{value:o.currency,onChange:e=>a(d(d({},o),{},{currency:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,xy.jsx)("option",{value:"ILS",children:"\u05e9\u05e7\u05dc (\u20aa)"}),(0,xy.jsx)("option",{value:"USD",children:"\u05d3\u05d5\u05dc\u05e8 ($)"}),(0,xy.jsx)("option",{value:"EUR",children:"\u05d0\u05d9\u05e8\u05d5 (\u20ac)"})]})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u05e9\u05e4\u05d4"}),(0,xy.jsxs)("select",{value:o.language,onChange:e=>a(d(d({},o),{},{language:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,xy.jsx)("option",{value:"he",children:"\u05e2\u05d1\u05e8\u05d9\u05ea"}),(0,xy.jsx)("option",{value:"en",children:"English"})]})]})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u05d4\u05ea\u05e8\u05d0\u05d5\u05ea"}),(0,xy.jsxs)("div",{className:"space-y-2",children:[(0,xy.jsxs)("div",{className:"flex items-center",children:[(0,xy.jsx)("input",{type:"checkbox",checked:o.notifications.email,onChange:e=>a(d(d({},o),{},{notifications:d(d({},o.notifications),{},{email:e.target.checked})})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,xy.jsx)("label",{className:"mr-2 text-sm text-gray-700",children:"\u05d4\u05ea\u05e8\u05d0\u05d5\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc"})]}),(0,xy.jsxs)("div",{className:"flex items-center",children:[(0,xy.jsx)("input",{type:"checkbox",checked:o.notifications.sms,onChange:e=>a(d(d({},o),{},{notifications:d(d({},o.notifications),{},{sms:e.target.checked})})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,xy.jsx)("label",{className:"mr-2 text-sm text-gray-700",children:"\u05d4\u05ea\u05e8\u05d0\u05d5\u05ea SMS"})]})]})]}),(0,xy.jsx)("div",{className:"flex justify-end",children:(0,xy.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"\u05e9\u05de\u05d5\u05e8 \u05d4\u05d2\u05d3\u05e8\u05d5\u05ea"})})]})})]})}function zF(e){switch(e){case"owner":return["read","write","delete","manage_users","manage_settings"];case"manager":return["read","write","delete"];case"member":return["read","write"];default:return["read"]}}const VF=["title","titleId"];function qF(e,n){let{title:r,titleId:i}=e,o=Jy(e,VF);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},o),r?t.createElement("title",{id:i},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const WF=t.forwardRef(qF);function HF(e){let{onInvite:n,isOwner:r,isManager:i}=e;const[o,a]=(0,t.useState)(""),[s,l]=(0,t.useState)("member"),[c,u]=(0,t.useState)(!1);return r||i?(0,xy.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[(0,xy.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,xy.jsx)(WF,{className:"w-5 h-5 ml-2"}),"\u05d4\u05d6\u05de\u05df \u05de\u05e9\u05ea\u05de\u05e9 \u05d7\u05d3\u05e9"]}),(0,xy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!o.trim())return;u(!0);await n(o,s)&&(a(""),l("member")),u(!1)},className:"flex gap-4 items-end",children:[(0,xy.jsxs)("div",{className:"flex-1",children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc"}),(0,xy.jsx)("input",{type:"email",value:o,onChange:e=>a(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"user@example.com",required:!0})]}),(0,xy.jsxs)("div",{children:[(0,xy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u05ea\u05e4\u05e7\u05d9\u05d3"}),(0,xy.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,xy.jsx)("option",{value:"member",children:"\u05d7\u05d1\u05e8"}),r&&(0,xy.jsx)("option",{value:"manager",children:"\u05de\u05e0\u05d4\u05dc"})]})]}),(0,xy.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"\u05de\u05d6\u05de\u05d9\u05df...":"\u05d4\u05d6\u05de\u05df"})]})]}):null}const KF=["title","titleId"];function GF(e,n){let{title:r,titleId:i}=e,o=Jy(e,KF);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},o),r?t.createElement("title",{id:i},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const YF=t.forwardRef(GF);function XF(e){switch(e){case"owner":return"\u05d1\u05e2\u05dc\u05d9\u05dd";case"manager":return"\u05de\u05e0\u05d4\u05dc";case"member":return"\u05d7\u05d1\u05e8";default:return e}}function QF(e){switch(e){case"owner":return"bg-purple-100 text-purple-700";case"manager":return"bg-blue-100 text-blue-700";case"member":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}}function $F(e){let{users:t,loading:n,isOwner:r,onRemoveUser:i,onChangeRole:o}=e;return n?(0,xy.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,xy.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,xy.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"\u05de\u05e9\u05ea\u05de\u05e9\u05d9 \u05d4\u05d3\u05d9\u05e8\u05d4"})}),(0,xy.jsxs)("div",{className:"p-8 text-center",children:[(0,xy.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),(0,xy.jsx)("p",{className:"text-gray-500",children:"\u05d8\u05d5\u05e2\u05df \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd..."})]})]}):(0,xy.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,xy.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,xy.jsxs)("h2",{className:"text-lg font-semibold text-gray-800",children:["\u05de\u05e9\u05ea\u05de\u05e9\u05d9 \u05d4\u05d3\u05d9\u05e8\u05d4 (",t.length,")"]})}),0===t.length?(0,xy.jsx)("div",{className:"p-8 text-center text-gray-500",children:"\u05d0\u05d9\u05df \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05d1\u05d3\u05d9\u05e8\u05d4 \u05d6\u05d5"}):(0,xy.jsx)("div",{className:"divide-y divide-gray-200",children:t.map(e=>{var t,n;return(0,xy.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[(0,xy.jsxs)("div",{className:"flex items-center space-x-4",dir:"ltr",children:[(0,xy.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,xy.jsx)("span",{className:"text-white font-medium text-sm",children:(null===(t=e.displayName)||void 0===t?void 0:t.charAt(0))||(null===(n=e.email)||void 0===n?void 0:n.charAt(0))||"?"})}),(0,xy.jsxs)("div",{dir:"rtl",children:[(0,xy.jsx)("div",{className:"font-medium text-gray-800",children:e.displayName||e.username||"\u05dc\u05dc\u05d0 \u05e9\u05dd"}),(0,xy.jsx)("div",{className:"text-sm text-gray-500",children:e.email}),e.joinedAt&&(0,xy.jsxs)("div",{className:"text-xs text-gray-400",children:["\u05d4\u05e6\u05d8\u05e8\u05e3 \u05d1-",e.joinedAt.toLocaleDateString("he-IL")]})]})]}),(0,xy.jsxs)("div",{className:"flex items-center space-x-3",dir:"ltr",children:[(0,xy.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full ".concat(QF(e.apartmentRole)),children:XF(e.apartmentRole)}),r&&"owner"!==e.apartmentRole&&(0,xy.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xy.jsxs)("select",{value:e.apartmentRole,onChange:t=>o(e.id,e.apartmentRole,t.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[(0,xy.jsx)("option",{value:"member",children:"\u05d7\u05d1\u05e8"}),(0,xy.jsx)("option",{value:"manager",children:"\u05de\u05e0\u05d4\u05dc"})]}),(0,xy.jsx)("button",{onClick:()=>{window.confirm("\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05d4\u05e1\u05d9\u05e8 \u05d0\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05de\u05d4\u05d3\u05d9\u05e8\u05d4?")&&i(e.id,e.apartmentRole)},className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"\u05d4\u05e1\u05e8 \u05de\u05e9\u05ea\u05de\u05e9",children:(0,xy.jsx)(YF,{className:"w-4 h-4"})})]})]})]},e.id)})})]})}function JF(){const{selectedApartment:e,isOwner:n,isManager:r}=ky(),{users:i,loading:o,error:a,setError:s,inviteUser:l,removeUser:c,changeUserRole:u}=function(e){const[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[a,s]=(0,t.useState)("");(0,t.useEffect)(()=>{if(!e)return r([]),void o(!1);l()},[e]);const l=async()=>{try{o(!0);const n=[],i=ed(hu(my,"users")),a=await bd(i);for(const r of a.docs){const i=r.data();var t;i.apartments&&i.apartments[e.id]&&n.push(d(d({id:r.id},i),{},{apartmentRole:i.apartments[e.id].role,joinedAt:null===(t=i.apartments[e.id].joinedAt)||void 0===t?void 0:t.toDate()}))}n.sort((e,t)=>{const n={owner:0,manager:1,member:2};return n[e.apartmentRole]-n[t.apartmentRole]}),r(n)}catch(a){console.error("Error loading apartment users:",a),s("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e8\u05e9\u05d9\u05de\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd")}finally{o(!1)}};return{users:n,loading:i,error:a,setError:s,inviteUser:async(e,t,n)=>{try{s("");const r=ed(hu(my,"users"),nd("email","==",e.trim())),i=await bd(r);if(i.empty)throw new Error("\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0. \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e6\u05e8\u05d9\u05da \u05dc\u05d4\u05d9\u05e8\u05e9\u05dd \u05dc\u05de\u05e2\u05e8\u05db\u05ea \u05e7\u05d5\u05d3\u05dd");const o=i.docs[0],a=o.data();if(a.apartments&&a.apartments[n.id])throw new Error("\u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05db\u05d1\u05e8 \u05d7\u05d1\u05e8 \u05d1\u05d3\u05d9\u05e8\u05d4 \u05d6\u05d5");await xd(fu(my,"users",o.id),{["apartments.".concat(n.id)]:{role:t,joinedAt:new Date,permissions:zF(t)}});const c=fu(my,"apartments",n.id),u=(await yd(c)).data();return"manager"===t?await xd(c,{managers:[...u.managers||[],o.id]}):"member"===t&&await xd(c,{members:[...u.members||[],o.id]}),await l(),!0}catch(a){return console.error("Error inviting user:",a),s(a.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05d6\u05de\u05e0\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9"),!1}},removeUser:async(e,t,n)=>{try{if("owner"===t)throw new Error("\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05e1\u05d9\u05e8 \u05d0\u05ea \u05d4\u05d1\u05e2\u05dc\u05d9\u05dd");await xd(fu(my,"users",e),{["apartments.".concat(n.id)]:new Du("deleteField")});const r=fu(my,"apartments",n.id),i=(await yd(r)).data();return"manager"===t?await xd(r,{managers:(i.managers||[]).filter(t=>t!==e)}):"member"===t&&await xd(r,{members:(i.members||[]).filter(t=>t!==e)}),await l(),!0}catch(a){return console.error("Error removing user:",a),s(a.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05e1\u05e8\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9"),!1}},changeUserRole:async(e,t,n,r)=>{try{if("owner"===t)throw new Error("\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05e0\u05d5\u05ea \u05ea\u05e4\u05e7\u05d9\u05d3 \u05d4\u05d1\u05e2\u05dc\u05d9\u05dd");await xd(fu(my,"users",e),{["apartments.".concat(r.id,".role")]:n,["apartments.".concat(r.id,".permissions")]:zF(n)});const i=fu(my,"apartments",r.id),o=(await yd(i)).data();let a={};return"manager"===t?a.managers=(o.managers||[]).filter(t=>t!==e):"member"===t&&(a.members=(o.members||[]).filter(t=>t!==e)),"manager"===n?a.managers=[...a.managers||o.managers||[],e]:"member"===n&&(a.members=[...a.members||o.members||[],e]),await xd(i,a),await l(),!0}catch(a){return console.error("Error changing user role:",a),s(a.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05d9\u05e0\u05d5\u05d9 \u05ea\u05e4\u05e7\u05d9\u05d3 \u05d4\u05de\u05e9\u05ea\u05de\u05e9"),!1}},reloadUsers:l}}(e);return e?(0,xy.jsxs)("div",{className:"p-6",dir:"rtl",children:[(0,xy.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,xy.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"}),(0,xy.jsx)("div",{className:"text-sm text-gray-500",children:e.name})]}),a&&(0,xy.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,xy.jsx)("p",{className:"text-red-700",children:a})}),(0,xy.jsx)(HF,{onInvite:async(t,i)=>n()||r()?await l(t,i,e):(s("\u05d0\u05d9\u05df \u05dc\u05da \u05d4\u05e8\u05e9\u05d0\u05d4 \u05dc\u05d4\u05d6\u05de\u05d9\u05df \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"),!1),isOwner:n(),isManager:r()}),(0,xy.jsx)($F,{users:i,loading:o,isOwner:n(),onRemoveUser:async(t,r)=>{if(n())return await c(t,r,e);s("\u05e8\u05e7 \u05d1\u05e2\u05dc\u05d9\u05dd \u05d9\u05db\u05d5\u05dc \u05dc\u05d4\u05e1\u05d9\u05e8 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd")},onChangeRole:async(t,r,i)=>{if(n())return await u(t,r,i,e);s("\u05e8\u05e7 \u05d1\u05e2\u05dc\u05d9\u05dd \u05d9\u05db\u05d5\u05dc \u05dc\u05e9\u05e0\u05d5\u05ea \u05ea\u05e4\u05e7\u05d9\u05d3\u05d9\u05dd")}})]}):(0,xy.jsx)("div",{className:"p-6 text-center",children:(0,xy.jsx)("p",{className:"text-gray-500",children:"\u05e0\u05d0 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05d3\u05d9\u05e8\u05d4 \u05db\u05d3\u05d9 \u05dc\u05e0\u05d4\u05dc \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"})})}function ZF(e){let{activeView:t,selectedApartment:n,appData:r,dataHandlers:i,appHandlers:o,settings:a}=e;if(!n)return(0,xy.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",padding:"32px"},children:(0,xy.jsxs)("div",{style:{backgroundColor:"white",padding:"32px",textAlign:"center",maxWidth:"384px",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,xy.jsx)("h3",{style:{fontSize:"20px",fontWeight:"bold",color:"#1e3a8a",marginBottom:"8px"},children:"\u05d1\u05d7\u05e8 \u05d3\u05d9\u05e8\u05d4"}),(0,xy.jsx)("p",{style:{color:"#3730a3"},children:"\u05d9\u05e9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05d3\u05d9\u05e8\u05d4 \u05db\u05d3\u05d9 \u05dc\u05d4\u05de\u05e9\u05d9\u05da"})]})});switch(t){case"bookings":return(0,xy.jsx)(fw,{bookings:r.bookings,loading:r.bookingsLoading,error:r.bookingsError,onSave:i.handleSave("bookings"),onDelete:i.handleDelete("bookings"),settings:a,currentProjectId:o.currentProjectId,onProjectSelect:o.handleProjectSelect,selectedApartment:n});case"guests":return(0,xy.jsx)(vw,{guests:r.guests,onSave:i.handleSave("guests"),onDelete:i.handleDelete("guests"),settings:a,bookings:r.bookings});case"tasks":return(0,xy.jsx)(Cw,{tasks:r.tasks,onSave:i.handleSave("tasks"),onDelete:i.handleDelete("tasks"),apartmentId:null===n||void 0===n?void 0:n.id,apartmentInfo:n});case"inventory":return(0,xy.jsx)(Aw,{inventory:r.inventory,onSave:i.handleSave("inventory"),onDelete:i.handleDelete("inventory")});case"finances":return(0,xy.jsx)(DF,{finances:r.finances,onSave:i.handleSave("finances"),onDelete:i.handleDelete("finances")});case"maintenance":return(0,xy.jsx)(MF,{maintenance:r.maintenance,onSave:i.handleSave("maintenance"),onDelete:i.handleDelete("maintenance")});case"reports":return(0,xy.jsx)(FF,{bookings:r.bookings,finances:r.finances});case"settings":return(0,xy.jsx)(BF,{settings:a,onSave:i.handleSettingsSave(n),tenant:n});case"users":return(0,xy.jsx)(JF,{});default:return(0,xy.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,xy.jsx)("div",{style:{backgroundColor:"white",padding:"32px",textAlign:"center",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:(0,xy.jsx)("p",{style:{fontSize:"18px",color:"#374151"},children:"\u05d9\u05e9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05ea\u05e6\u05d5\u05d2\u05d4"})})})}}function eB(){return(0,xy.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(to bottom right, #dbeafe, #e0e7ff)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:(0,xy.jsxs)("div",{style:{backgroundColor:"white",padding:"32px",textAlign:"center",maxWidth:"384px",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,xy.jsx)("div",{style:{width:"64px",height:"64px",background:"linear-gradient(to bottom right, #3b82f6, #8b5cf6)",borderRadius:"16px",margin:"0 auto 16px auto",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,xy.jsx)("div",{style:{width:"32px",height:"32px",border:"4px solid white",borderTop:"4px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})}),(0,xy.jsx)("h3",{style:{fontSize:"20px",fontWeight:"bold",color:"#1e3a8a",marginBottom:"8px"},children:"\u05d8\u05d5\u05e2\u05df \u05d3\u05d9\u05e8\u05d5\u05ea..."}),(0,xy.jsx)("p",{style:{color:"#3730a3"},children:"\u05d0\u05e0\u05d0 \u05d4\u05de\u05ea\u05df"})]})})}function tB(){const e=function(){const[e,n]=(0,t.useState)("bookings"),[r,i]=(0,t.useState)(!1),[o,a]=(0,t.useState)(null),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(0),[f,p]=(0,t.useState)(0),[m,g]=(0,t.useState)(!1);(0,t.useEffect)(()=>{console.log("showCreateApartmentModal state changed to:",m)},[m]);const y=(0,t.useCallback)(async()=>{try{await Jf(yy)}catch(o){console.error("Logout error:",o)}},[]),v=(0,t.useCallback)(e=>{l(e)},[]),b=(0,t.useCallback)(()=>{u(!c)},[c]),w=(0,t.useCallback)(()=>{console.log("handleCreateApartment called!"),console.log("Current showCreateApartmentModal state:",m),g(!0),console.log("Setting showCreateApartmentModal to true")},[m]),x=(0,t.useCallback)(()=>{g(!1)},[]);return{activeView:e,isSidebarOpen:r,error:o,currentProjectId:s,isChatOpen:c,unreadMessages:d,lastMessageCount:f,showCreateApartmentModal:m,setActiveView:n,setIsSidebarOpen:i,setError:a,setCurrentProjectId:l,setIsChatOpen:u,setUnreadMessages:h,setLastMessageCount:p,setShowCreateApartmentModal:g,handleLogout:y,handleProjectSelect:v,handleChatToggle:b,handleCreateApartment:w,handleApartmentCreated:x}}(),{activeView:n,setActiveView:r,currentProjectId:i,showCreateApartmentModal:o,setCurrentProjectId:a,handleProjectSelect:s,handleCreateApartment:l,handleApartmentCreated:c,setShowCreateApartmentModal:u}=e,[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[g]=(0,t.useState)(0),[y,v]=(0,t.useState)(!1),{user:b,selectedApartment:w,loading:x,userApartments:S,hasPermission:k,refreshUserApartments:E}=ky(),_=null===w||void 0===w?void 0:w.id,j=(null===w||void 0===w?void 0:w.settings)||null,O=function(e){const n=(0,t.useMemo)(()=>e?[nd("apartmentId","==",e)]:[],[e]),{documents:r=[],error:i,isLoading:o,indexFallback:a}=kw(e?"bookings":null,n,"checkIn"),s=(0,t.useMemo)(()=>e&&r&&0!==r.length?a?(console.log("\ud83d\udcca Applying JavaScript sorting for bookings (Firebase index not ready)"),[...r].sort((e,t)=>Kb(e.checkIn)-Kb(t.checkIn))):r:[],[e,r,a]),{documents:l=[]}=kw(e?"guests":null,n),{documents:c=[]}=kw(e?"tasks":null,n),{documents:u=[]}=kw(e?"inventory":null,n),{documents:d=[]}=kw(e?"finances":null,n),{documents:h=[]}=kw(e?"maintenance":null,n);return e?{bookings:s,guests:l,tasks:c,inventory:u,finances:d,maintenance:h,bookingsError:i,bookingsLoading:o,bookingsIndexFallback:a}:{bookings:[],guests:[],tasks:[],inventory:[],finances:[],maintenance:[],bookingsError:null,bookingsLoading:!1,bookingsIndexFallback:!1}}(_),T=function(e,n){return{handleSave:(0,t.useCallback)(t=>async(r,i)=>{if(my&&e&&n("write"))try{const n=d(d({},i),{},{apartmentId:e});r?await wd(fu(my,t,r),n,{merge:!0}):await kd(hu(my,t),n)}catch(o){console.error("Save error to ".concat(t,":"),o)}},[e,n]),handleDelete:(0,t.useCallback)(t=>async r=>{if(my&&e&&n("delete"))try{await Sd(fu(my,t,r))}catch(i){console.error("Delete error from ".concat(t,":"),i)}},[e,n]),handleSettingsSave:(0,t.useCallback)(t=>async(r,i)=>{if(e&&n("manage_settings"))try{await wd(fu(my,"apartments",e),d(d({},t),{},{settings:i}),{merge:!0})}catch(o){console.error("Settings save error:",o)}},[e,n])}}(_,k),N={currentProjectId:i,handleProjectSelect:s},I=async()=>{try{v(!1),a(null),await Jf(yy),console.log("User signed out successfully"),setTimeout(()=>{window.location.reload()},100)}catch(iB){console.error("Logout error:",iB),window.location.reload()}},C=()=>{m(!p)};(0,t.useEffect)(()=>{O.bookings&&O.bookings.length>0&&!i&&a(O.bookings[0].id)},[O.bookings,i,a]),(0,t.useEffect)(()=>{console.log("AppContent effect - checking apartments:",{userApartmentsLength:S.length,apartmentLoading:x,user:!!b,showCreateApartmentModal:o})},[b,x,S.length,o,u]);const A=async()=>{if(b){v(!0);try{console.log("\ud83d\udd27 \u05de\u05ea\u05e7\u05df \u05e7\u05d9\u05e9\u05d5\u05e8 \u05d1\u05d9\u05df \u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d3\u05d9\u05e8\u05d5\u05ea...");const e=await bd(hu(my,"apartments")),t=[];if(e.forEach(e=>{const n=e.data();n.ownerId===b.uid&&t.push(d({id:e.id},n))}),t.length>0){console.log("\u2705 \u05e0\u05de\u05e6\u05d0\u05d5",t.length,"\u05d3\u05d9\u05e8\u05d5\u05ea \u05d1\u05d1\u05e2\u05dc\u05d5\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9");const e={};t.forEach(t=>{e[t.id]={role:"owner",permissions:[],joinedAt:new Date}}),await wd(fu(my,"users",b.uid),{apartments:e,updatedAt:new Date},{merge:!0}),console.log("\u2705 \u05d4\u05e7\u05d9\u05e9\u05d5\u05e8 \u05ea\u05d5\u05e7\u05df \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!"),await E(),alert("\u05d4\u05e7\u05d9\u05e9\u05d5\u05e8 \u05d1\u05d9\u05df \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d3\u05d9\u05e8\u05d5\u05ea \u05ea\u05d5\u05e7\u05df \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4! \ud83c\udf89")}else console.log("\u274c \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05d3\u05d9\u05e8\u05d5\u05ea \u05d1\u05d1\u05e2\u05dc\u05d5\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9"),alert("\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05d3\u05d9\u05e8\u05d5\u05ea \u05d1\u05d1\u05e2\u05dc\u05d5\u05ea\u05da \u05d1\u05de\u05e2\u05e8\u05db\u05ea. \u05d0\u05e0\u05d0 \u05e6\u05d5\u05e8 \u05d3\u05d9\u05e8\u05d4 \u05d7\u05d3\u05e9\u05d4.")}catch(iB){console.error("\u274c \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05ea\u05d9\u05e7\u05d5\u05df \u05d4\u05e7\u05d9\u05e9\u05d5\u05e8:",iB),alert("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05ea\u05d9\u05e7\u05d5\u05df \u05d4\u05e7\u05d9\u05e9\u05d5\u05e8: "+iB.message)}finally{v(!1)}}};return b?x?(0,xy.jsx)(eB,{}):0===S.length?(0,xy.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",dir:"rtl",children:(0,xy.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full mx-4 text-center",children:[(0,xy.jsxs)("div",{className:"mb-6",children:[(0,xy.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"\u05d1\u05e8\u05d5\u05da \u05d4\u05d1\u05d0! \ud83d\udc4b"}),(0,xy.jsx)("p",{className:"text-gray-600",children:"\u05e0\u05e8\u05d0\u05d4 \u05e9\u05d0\u05d9\u05df \u05dc\u05da \u05d3\u05d9\u05e8\u05d5\u05ea \u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05d1\u05de\u05e2\u05e8\u05db\u05ea"})]}),(0,xy.jsxs)("div",{className:"space-y-4",children:[(0,xy.jsx)("button",{onClick:A,disabled:y,className:"w-full bg-blue-500 text-white py-3 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:y?(0,xy.jsxs)(xy.Fragment,{children:[(0,xy.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin ml-2"}),"\u05de\u05ea\u05e7\u05df \u05e7\u05d9\u05e9\u05d5\u05e8 \u05dc\u05d3\u05d9\u05e8\u05d5\u05ea..."]}):"\ud83d\udd27 \u05ea\u05e7\u05df \u05e7\u05d9\u05e9\u05d5\u05e8 \u05dc\u05d3\u05d9\u05e8\u05d5\u05ea \u05e7\u05d9\u05d9\u05de\u05d5\u05ea"}),(0,xy.jsx)("button",{onClick:l,className:"w-full bg-green-500 text-white py-3 px-4 rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"\u2795 \u05e6\u05d5\u05e8 \u05d3\u05d9\u05e8\u05d4 \u05d7\u05d3\u05e9\u05d4"}),(0,xy.jsx)("button",{onClick:I,className:"w-full bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"\u05d4\u05ea\u05e0\u05ea\u05e7"})]}),(0,xy.jsx)(uv,{isOpen:o,onClose:()=>u(!1),onSuccess:()=>{c(),window.location.reload()}})]})}):(0,xy.jsx)(jv,{user:b,selectedApartment:w,isSidebarOpen:h,setIsSidebarOpen:f,activeView:n,setActiveView:r,unreadMessages:g,onChatToggle:C,onLogout:I,isManager:k("manage"),isOwner:k("owner"),onCreateApartment:l,isChatOpen:p,currentProjectId:i,apartmentId:_,handleChatToggle:C,showCreateApartmentModal:o,setShowCreateApartmentModal:u,handleApartmentCreated:c,children:(0,xy.jsx)(ZF,{activeView:n,selectedApartment:w,appData:O,dataHandlers:T,appHandlers:N,settings:j})}):(0,xy.jsx)(Cy,{onAuthSuccess:()=>{}})}function nB(){return(0,t.useEffect)(()=>{const e=o(),t=setTimeout(()=>{a()},2e3);return()=>{e(),clearTimeout(t)}},[]),(0,xy.jsx)(Ey,{children:(0,xy.jsx)(Ty,{children:(0,xy.jsx)(tB,{})})})}o(),a();r.createRoot(document.getElementById("root")).render((0,xy.jsx)(t.StrictMode,{children:(0,xy.jsx)(nB,{})}))})()})();
//# sourceMappingURL=main.cb9fd4de.js.map